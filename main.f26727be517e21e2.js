"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[179],{221:()=>{function re(t){return"function"==typeof t}function ga(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Qc=ga(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Hs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ft{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(re(r))try{r()}catch(s){e=s instanceof Qc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{aD(s)}catch(o){e=e??[],o instanceof Qc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)aD(e);else{if(e instanceof Ft){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hs(n,e)}remove(e){const{_finalizers:n}=this;n&&Hs(n,e),e instanceof Ft&&e._removeParent(this)}}Ft.EMPTY=(()=>{const t=new Ft;return t.closed=!0,t})();const sD=Ft.EMPTY;function oD(t){return t instanceof Ft||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function aD(t){re(t)?t():t.unsubscribe()}const $i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yc={setTimeout(t,e,...n){const{delegate:r}=Yc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Yc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lD(t){Yc.setTimeout(()=>{const{onUnhandledError:e}=$i;if(!e)throw t;e(t)})}function ep(){}const AF=tp("C",void 0,void 0);function tp(t,e,n){return{kind:t,value:e,error:n}}let Gi=null;function Zc(t){if($i.useDeprecatedSynchronousErrorHandling){const e=!Gi;if(e&&(Gi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Gi;if(Gi=null,n)throw r}}else t()}class np extends Ft{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oD(e)&&e.add(this)):this.destination=xF}static create(e,n,r){return new ma(e,n,r)}next(e){this.isStopped?ip(function NF(t){return tp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ip(function MF(t){return tp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ip(AF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const OF=Function.prototype.bind;function rp(t,e){return OF.call(t,e)}class PF{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Jc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Jc(r)}else Jc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jc(n)}}}class ma extends np{constructor(e,n,r){let i;if(super(),re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&$i.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rp(e.next,s),error:e.error&&rp(e.error,s),complete:e.complete&&rp(e.complete,s)}):i=e}this.destination=new PF(i)}}function Jc(t){$i.useDeprecatedSynchronousErrorHandling?function RF(t){$i.useDeprecatedSynchronousErrorHandling&&Gi&&(Gi.errorThrown=!0,Gi.error=t)}(t):lD(t)}function ip(t,e){const{onStoppedNotification:n}=$i;n&&Yc.setTimeout(()=>n(t,e))}const xF={closed:!0,next:ep,error:function kF(t){throw t},complete:ep},sp="function"==typeof Symbol&&Symbol.observable||"@@observable";function ti(t){return t}function cD(t){return 0===t.length?ti:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function VF(t){return t&&t instanceof np||function LF(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}(t)&&oD(t)}(n)?n:new ma(n,r,i);return Zc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=uD(r))((i,s)=>{const o=new ma({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[sp](){return this}pipe(...n){return cD(n)(this)}toPromise(n){return new(n=uD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function uD(t){var e;return null!==(e=t??$i.Promise)&&void 0!==e?e:Promise}const BF=ga(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new dD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new BF}next(n){Zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?sD:(this.currentObservers=null,s.push(n),new Ft(()=>{this.currentObservers=null,Hs(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new dD(e,n),t})();class dD extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:sD}}function hD(t){return re(t?.lift)}function rt(t){return e=>{if(hD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(t,e,n,r,i){return new UF(t,e,n,r,i)}class UF extends np{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function De(t,e){return rt((n,r)=>{let i=0;n.subscribe(Ze(r,s=>{r.next(t.call(e,s,i++))}))})}function lp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ni(t){return this instanceof ni?(this.v=t,this):new ni(t)}function mD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function up(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const dp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _D(t){return re(t?.then)}function yD(t){return re(t[sp])}function vD(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function ED(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const CD=function aL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wD(t){return re(t?.[CD])}function DD(t){return function gD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof ni?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ni(n.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{n.releaseLock()}})}function bD(t){return re(t?.getReader)}function Kt(t){if(t instanceof Be)return t;if(null!=t){if(yD(t))return function lL(t){return new Be(e=>{const n=t[sp]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(dp(t))return function cL(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(_D(t))return function uL(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lD)})}(t);if(vD(t))return ID(t);if(wD(t))return function dL(t){return new Be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(bD(t))return function hL(t){return ID(DD(t))}(t)}throw ED(t)}function ID(t){return new Be(e=>{(function fL(t,e){var n,r,i,s;return function fD(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=mD(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Sr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ut(t,e,n=1/0){return re(e)?ut((r,i)=>De((s,o)=>e(r,s,i,o))(Kt(t(r,i))),n):("number"==typeof e&&(n=e),rt((r,i)=>function pL(t,e,n,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Kt(n(g,u++)).subscribe(Ze(e,E=>{i?.(E),s?f(E):e.next(E)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const E=l.shift();o?Sr(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(Ze(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function js(t=1/0){return ut(ti,t)}const Jn=new Be(t=>t.complete());function hp(t){return t[t.length-1]}function TD(t){return re(hp(t))?t.pop():void 0}function _a(t){return function mL(t){return t&&re(t.schedule)}(hp(t))?t.pop():void 0}function SD(t,e=0){return rt((n,r)=>{n.subscribe(Ze(r,i=>Sr(r,t,()=>r.next(i),e),()=>Sr(r,t,()=>r.complete(),e),i=>Sr(r,t,()=>r.error(i),e)))})}function AD(t,e=0){return rt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function MD(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{Sr(n,e,()=>{const r=t[Symbol.asyncIterator]();Sr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dt(t,e){return e?function DL(t,e){if(null!=t){if(yD(t))return function yL(t,e){return Kt(t).pipe(AD(e),SD(e))}(t,e);if(dp(t))return function EL(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(_D(t))return function vL(t,e){return Kt(t).pipe(AD(e),SD(e))}(t,e);if(vD(t))return MD(t,e);if(wD(t))return function CL(t,e){return new Be(n=>{let r;return Sr(n,e,()=>{r=t[CD](),Sr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}(t,e);if(bD(t))return function wL(t,e){return MD(DD(t),e)}(t,e)}throw ED(t)}(t,e):Kt(t)}function ND(...t){const e=_a(t),n=function _L(t,e){return"number"==typeof hp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Kt(r[0]):js(n)(dt(r,e)):Jn}class wn extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function U(...t){return dt(t,_a(t))}function RD(t={}){const{connector:e=(()=>new nt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return rt((g,m)=>{c++,!d&&!u&&h();const E=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=fp(p,i))}),E.subscribe(m),!o&&c>0&&(o=new ma({next:_=>E.next(_),error:_=>{d=!0,h(),a=fp(f,n,_),E.error(_)},complete:()=>{u=!0,h(),a=fp(f,r),E.complete()}}),Kt(g).subscribe(o))})(s)}}function fp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ma({next:()=>{r.unsubscribe(),t()}});return Kt(e(...n)).subscribe(r)}function Xn(t,e){return rt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ze(r,l=>{i?.unsubscribe();let c=0;const u=s++;Kt(t(l,u)).subscribe(i=Ze(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function IL(t,e){return t===e}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function Xc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function it(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function pp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const TL=_e({__forward_ref__:_e});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return it(this())},t}function H(t){return gp(t)?t():t}function gp(t){return"function"==typeof t&&t.hasOwnProperty(TL)&&t.__forward_ref__===Te}function mp(t){return t&&!!t.\u0275providers}const OD="https://g.co/ng/security#xss";class v extends Error{constructor(e,n){super(function eu(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function _p(t,e){throw new v(-201,!1)}function Dn(t,e){null==t&&function V(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function tu(t){return PD(t,ru)||PD(t,kD)}function PD(t,e){return t.hasOwnProperty(e)?t[e]:null}function nu(t){return t&&(t.hasOwnProperty(yp)||t.hasOwnProperty(kL))?t[yp]:null}const ru=_e({\u0275prov:_e}),yp=_e({\u0275inj:_e}),kD=_e({ngInjectableDef:_e}),kL=_e({ngInjectorDef:_e});var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{});let vp;function Qt(t){const e=vp;return vp=t,e}function FD(t,e,n){const r=tu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==e?e:void _p(it(t))}const Se=globalThis,ya={},bp="__NG_DI_FLAG__",iu="ngTempTokenPath",LL=/\n/gm,VD="__source";let $s;function ri(t){const e=$s;return $s=t,e}function UL(t,e=te.Default){if(void 0===$s)throw new v(-203,!1);return null===$s?FD(t,void 0,e):$s.get(t,e&te.Optional?null:void 0,e)}function b(t,e=te.Default){return(function xD(){return vp}()||UL)(H(t),e)}function S(t,e=te.Default){return b(t,su(e))}function su(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ip(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new v(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],l=HL(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(b(i,s))}else e.push(b(r))}return e}function va(t,e){return t[bp]=e,t.prototype[bp]=e,t}function HL(t){return t[bp]}function Ar(t){return{toString:t}.toString()}var ou=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ou||{}),bn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bn||{});const er={},ue=[],au=_e({\u0275cmp:_e}),Tp=_e({\u0275dir:_e}),Sp=_e({\u0275pipe:_e}),UD=_e({\u0275mod:_e}),Mr=_e({\u0275fac:_e}),Ea=_e({__NG_ELEMENT_ID__:_e}),HD=_e({__NG_ENV_ID__:_e});function jD(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ap(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];GD(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $D(t){return 3===t||4===t||6===t}function GD(t){return 64===t.charCodeAt(0)}function Ca(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||WD(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function WD(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const zD="ng-template";function GL(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==jD(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function qD(t){return 4===t.type&&t.value!==zD}function WL(t,e,n){return e===(4!==t.type||n?t.value:zD)}function zL(t,e,n){let r=4;const i=t.attrs||[],s=function QL(t){for(let e=0;e<t.length;e++)if($D(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!WL(t,l,n)||""===l&&1===e.length){if(Ln(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!GL(t.attrs,c,n)){if(Ln(r))return!1;o=!0}continue}const d=qL(8&r?"class":l,i,qD(t),n);if(-1===d){if(Ln(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==jD(f,c,0)||2&r&&c!==h){if(Ln(r))return!1;o=!0}}}}else{if(!o&&!Ln(r)&&!Ln(l))return!1;if(o&&Ln(l))continue;o=!1,r=l|1&r}}return Ln(r)||o}function Ln(t){return 0==(1&t)}function qL(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function YL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function KD(t,e,n=!1){for(let r=0;r<e.length;r++)if(zL(t,e[r],n))return!0;return!1}function ZL(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function QD(t,e){return t?":not("+e.trim()+")":e}function JL(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ln(o)&&(e+=QD(s,i),i=""),r=o,s=s||!Ln(r);n++}return""!==i&&(e+=QD(s,i)),e}function In(t){return Ar(()=>{const e=ZD(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ou.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||ue,_:null,schemas:t.schemas||null,tView:null,id:""};JD(n);const r=t.dependencies;return n.directiveDefs=lu(r,!1),n.pipeDefs=lu(r,!0),n.id=function oV(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function nV(t){return se(t)||yt(t)}function rV(t){return null!==t}function Yt(t){return Ar(()=>({type:t.type,bootstrap:t.bootstrap||ue,declarations:t.declarations||ue,imports:t.imports||ue,exports:t.exports||ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YD(t,e){if(null==t)return er;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function k(t){return Ar(()=>{const e=ZD(t);return JD(e),e})}function se(t){return t[au]||null}function yt(t){return t[Tp]||null}function Vt(t){return t[Sp]||null}function an(t,e){const n=t[UD]||null;if(!n&&!0===e)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function ZD(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||er,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ue,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YD(t.inputs,e),outputs:YD(t.outputs)}}function JD(t){t.features?.forEach(e=>e(t))}function lu(t,e){if(!t)return null;const n=e?Vt:nV;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(rV)}const Ge=0,A=1,z=2,ke=3,Vn=4,wa=5,Tt=6,Ws=7,ze=8,ii=9,zs=10,G=11,Da=12,XD=13,qs=14,qe=15,ba=16,Ks=17,tr=18,Ia=19,eb=20,si=21,Nr=22,Ta=23,Sa=24,ne=25,Mp=1,tb=2,nr=7,Qs=9,vt=11;function Jt(t){return Array.isArray(t)&&"object"==typeof t[Mp]}function Bt(t){return Array.isArray(t)&&!0===t[Mp]}function Np(t){return 0!=(4&t.flags)}function zi(t){return t.componentOffset>-1}function uu(t){return 1==(1&t.flags)}function Bn(t){return!!t.template}function Rp(t){return 0!=(512&t[z])}function qi(t,e){return t.hasOwnProperty(Mr)?t[Mr]:null}let Et=null,du=!1;function Tn(t){const e=Et;return Et=t,e}const ib={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ob(t){if(!Ma(t)||t.dirty){if(!t.producerMustRecompute(t)&&!cb(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function lb(t){t.dirty=!0,function ab(t){if(void 0===t.liveConsumerNode)return;const e=du;du=!0;try{for(const n of t.liveConsumerNode)n.dirty||lb(n)}finally{du=e}}(t),t.consumerMarkedDirty?.(t)}function Pp(t){return t&&(t.nextProducerIndex=0),Tn(t)}function kp(t,e){if(Tn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ma(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cb(t){Ys(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ob(n),r!==n.version))return!0}return!1}function ub(t){if(Ys(t),Ma(t))for(let e=0;e<t.producerNode.length;e++)hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hu(t,e){if(function hb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ys(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)hu(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ys(i),i.producerIndexOfThis[r]=e}}function Ma(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ys(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let fb=null;const _b=()=>{},vV=(()=>({...ib,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_b}))();class EV{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ln(){return yb}function yb(t){return t.type.prototype.ngOnChanges&&(t.setInput=wV),CV}function CV(){const t=Eb(this),e=t?.current;if(e){const n=t.previous;if(n===er)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function wV(t,e,n,r){const i=this.declaredInputs[n],s=Eb(t)||function DV(t,e){return t[vb]=e}(t,{previous:er,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new EV(l&&l.currentValue,e,a===er),t[r]=e}ln.ngInherit=!0;const vb="__ngSimpleChanges__";function Eb(t){return t[vb]||null}const rr=function(t,e,n){};function Ae(t){for(;Array.isArray(t);)t=t[Ge];return t}function fu(t,e){return Ae(e[t])}function Xt(t,e){return Ae(e[t.index])}function Db(t,e){return t.data[e]}function cn(t,e){const n=e[t];return Jt(n)?n:n[Ge]}function ai(t,e){return null==e?null:t[e]}function bb(t){t[Ks]=0}function MV(t){1024&t[z]||(t[z]|=1024,Tb(t,1))}function Ib(t){1024&t[z]&&(t[z]&=-1025,Tb(t,-1))}function Tb(t,e){let n=t[ke];if(null===n)return;n[wa]+=e;let r=n;for(n=n[ke];null!==n&&(1===e&&1===r[wa]||-1===e&&0===r[wa]);)n[wa]+=e,r=n,n=n[ke]}const B={lFrame:Lb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mb(){return B.bindingsEnabled}function Js(){return null!==B.skipHydrationRootTNode}function w(){return B.lFrame.lView}function oe(){return B.lFrame.tView}function Ct(t){return B.lFrame.contextLView=t,t[ze]}function wt(t){return B.lFrame.contextLView=null,t}function Dt(){let t=Nb();for(;null!==t&&64===t.type;)t=t.parent;return t}function Nb(){return B.lFrame.currentTNode}function ir(t,e){const n=B.lFrame;n.currentTNode=t,n.isParent=e}function Bp(){return B.lFrame.isParent}function Up(){B.lFrame.isParent=!1}function Ut(){const t=B.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xs(){return B.lFrame.bindingIndex++}function Or(t){const e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HV(t,e){const n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hp(e)}function Hp(t){B.lFrame.currentDirectiveIndex=t}function jp(t){const e=B.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function kb(){return B.lFrame.currentQueryIndex}function $p(t){B.lFrame.currentQueryIndex=t}function $V(t){const e=t[A];return 2===e.type?e.declTNode:1===e.type?t[Tt]:null}function xb(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&te.Host||(i=$V(s),null===i||(s=s[qs],10&i.type))););if(null===i)return!1;e=i,t=s}const r=B.lFrame=Fb();return r.currentTNode=e,r.lView=t,!0}function Gp(t){const e=Fb(),n=t[A];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Fb(){const t=B.lFrame,e=null===t?null:t.child;return null===e?Lb(t):e}function Lb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Vb(){const t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bb=Vb;function Wp(){const t=Vb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ht(){return B.lFrame.selectedIndex}function Ki(t){B.lFrame.selectedIndex=t}function Ue(){const t=B.lFrame;return Db(t.tView,t.selectedIndex)}let Hb=!0;function pu(){return Hb}function li(t){Hb=t}function gu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function mu(t,e,n){jb(t,e,3,n)}function _u(t,e,n,r){(3&t[z])===n&&jb(t,e,n,r)}function zp(t,e){let n=t[z];(3&n)===e&&(n&=8191,n+=1,t[z]=n)}function jb(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Ks]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Ks]+=65536),(a<s||-1==s)&&(ZV(t,n,e,l),t[Ks]=(4294901760&t[Ks])+l+2),l++}function $b(t,e){rr(4,t,e);const n=Tn(null);try{e.call(t)}finally{Tn(n),rr(5,t,e)}}function ZV(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[z]>>13<t[Ks]>>16&&(3&t[z])===e&&(t[z]+=8192,$b(a,s)):$b(a,s)}const eo=-1;class Ra{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Kp(t){return t!==eo}function Oa(t){return 32767&t}function Pa(t,e){let n=function tB(t){return t>>16}(t),r=e;for(;n>0;)r=r[qs],n--;return r}let Qp=!0;function yu(t){const e=Qp;return Qp=t,e}const Gb=255,Wb=5;let nB=0;const sr={};function vu(t,e){const n=zb(t,e);if(-1!==n)return n;const r=e[A];r.firstCreatePass&&(t.injectorIndex=e.length,Yp(r.data,t),Yp(e,null),Yp(r.blueprint,null));const i=Eu(t,e),s=t.injectorIndex;if(Kp(i)){const o=Oa(i),a=Pa(i,e),l=a[A].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Yp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zb(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Eu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Xb(i),null===r)return eo;if(n++,i=i[qs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return eo}function Zp(t,e,n){!function rB(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ea)&&(r=n[Ea]),null==r&&(r=n[Ea]=nB++);const i=r&Gb;e.data[t+(i>>Wb)]|=1<<i}(t,e,n)}function qb(t,e,n){if(n&te.Optional||void 0!==t)return t;_p()}function Kb(t,e,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=t[ii],s=Qt(void 0);try{return i?i.get(e,r,n&te.Optional):FD(e,r,n&te.Optional)}finally{Qt(s)}}return qb(r,0,n)}function Qb(t,e,n,r=te.Default,i){if(null!==t){if(2048&e[z]&&!(r&te.Self)){const o=function cB(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[z]&&!(512&o[z]);){const a=Yb(s,o,n,r|te.Self,sr);if(a!==sr)return a;let l=s.parent;if(!l){const c=o[eb];if(c){const u=c.get(n,sr,r);if(u!==sr)return u}l=Xb(o),o=o[qs]}s=l}return i}(t,e,n,r,sr);if(o!==sr)return o}const s=Yb(t,e,n,r,sr);if(s!==sr)return s}return Kb(e,n,r,i)}function Yb(t,e,n,r,i){const s=function oB(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ea)?t[Ea]:void 0;return"number"==typeof e?e>=0?e&Gb:lB:e}(n);if("function"==typeof s){if(!xb(e,t,r))return r&te.Host?qb(i,0,r):Kb(e,n,r,i);try{let o;if(o=s(r),null!=o||r&te.Optional)return o;_p()}finally{Bb()}}else if("number"==typeof s){let o=null,a=zb(t,e),l=eo,c=r&te.Host?e[qe][Tt]:null;for((-1===a||r&te.SkipSelf)&&(l=-1===a?Eu(t,e):e[a+8],l!==eo&&Jb(r,!1)?(o=e[A],a=Oa(l),e=Pa(l,e)):a=-1);-1!==a;){const u=e[A];if(Zb(s,a,u.data)){const d=sB(a,e,n,o,r,c);if(d!==sr)return d}l=e[a+8],l!==eo&&Jb(r,e[A].data[a+8]===c)&&Zb(s,a,e)?(o=u,a=Oa(l),e=Pa(l,e)):a=-1}}return i}function sB(t,e,n,r,i,s){const o=e[A],a=o.data[t+8],u=Cu(a,o,n,null==r?zi(a)&&Qp:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==u?Qi(e,o,u,a):sr}function Cu(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=o[l];if(f&&Bn(f)&&f.type===n)return l}return null}function Qi(t,e,n,r){let i=t[n];const s=e.data;if(function JV(t){return t instanceof Ra}(i)){const o=i;o.resolving&&function SL(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new v(-200,`Circular dependency in DI detected for ${t}${n}`)}(function pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}(s[n]));const a=yu(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Qt(o.injectImpl):null;xb(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function YV(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=yb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Qt(c),yu(a),o.resolving=!1,Bb()}}return i}function Zb(t,e,n){return!!(n[e+(t>>Wb)]&1<<t)}function Jb(t,e){return!(t&te.Self||t&te.Host&&e)}class jt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qb(this._tNode,this._lView,e,su(r),n)}}function lB(){return new jt(Dt(),w())}function bt(t){return Ar(()=>{const e=t.prototype.constructor,n=e[Mr]||Jp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Mr]||Jp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Jp(t){return gp(t)?()=>{const e=Jp(H(t));return e&&e()}:qi(t)}function Xb(t){const e=t[A],n=e.type;return 2===n?e.declTNode:1===n?t[Tt]:null}const no="__parameters__";function io(t,e,n){return Ar(()=>{const r=function Xp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(no)?l[no]:Object.defineProperty(l,no,{value:[]})[no];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function oo(t,e){t.forEach(n=>Array.isArray(n)?oo(n,e):e(n))}function tI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Du(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Fa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function un(t,e,n){let r=ao(t,e);return r>=0?t[1|r]=n:(r=~r,function mB(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function eg(t,e){const n=ao(t,e);if(n>=0)return t[1|n]}function ao(t,e){return function nI(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Iu=va(io("Optional"),8),Tu=va(io("SkipSelf"),4);function Ru(t){return 128==(128&t.flags)}var ci=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ci||{});const LB=/^>|^->|<!--|-->|--!>|<!-$/g,VB=/(<|>)/g,BB="\u200b$1\u200b";const sg=new Map;let UB=0;const ag="__ngContext__";function St(t,e){Jt(e)?(t[ag]=e[Ia],function jB(t){sg.set(t[Ia],t)}(e)):t[ag]=e}let lg;function cg(t,e){return lg(t,e)}function Ba(t){const e=t[ke];return Bt(e)?e[ke]:e}function wI(t){return bI(t[Da])}function DI(t){return bI(t[Vn])}function bI(t){for(;null!==t&&!Bt(t);)t=t[Vn];return t}function uo(t,e,n,r,i){if(null!=r){let s,o=!1;Bt(r)?s=r:Jt(r)&&(o=!0,r=r[Ge]);const a=Ae(r);0===t&&null!==n?null==i?AI(e,n,a):Yi(e,n,a,i||null,!0):1===t&&null!==n?Yi(e,n,a,i||null,!0):2===t?function Vu(t,e,n){const r=Fu(t,e);r&&function a2(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function u2(t,e,n,r,i){const s=n[nr];s!==Ae(n)&&uo(e,t,r,s,i);for(let a=vt;a<n.length;a++){const l=n[a];Ha(l[A],l,t,e,r,s)}}(e,t,s,n,i)}}function ug(t,e){return t.createComment(function pI(t){return t.replace(LB,e=>e.replace(VB,BB))}(e))}function ku(t,e,n){return t.createElement(e,n)}function TI(t,e){const n=t[Qs],r=n.indexOf(e);Ib(e),n.splice(r,1)}function xu(t,e){if(t.length<=vt)return;const n=vt+e,r=t[n];if(r){const i=r[ba];null!==i&&i!==t&&TI(i,r),e>0&&(t[n-1][Vn]=r[Vn]);const s=Du(t,vt+e);!function XB(t,e){Ha(t,e,e[G],2,null,null),e[Ge]=null,e[Tt]=null}(r[A],r);const o=s[tr];null!==o&&o.detachView(s[A]),r[ke]=null,r[Vn]=null,r[z]&=-129}return r}function dg(t,e){if(!(256&e[z])){const n=e[G];e[Ta]&&ub(e[Ta]),e[Sa]&&ub(e[Sa]),n.destroyNode&&Ha(t,e,n,3,null,null),function n2(t){let e=t[Da];if(!e)return hg(t[A],t);for(;e;){let n=null;if(Jt(e))n=e[Da];else{const r=e[vt];r&&(n=r)}if(!n){for(;e&&!e[Vn]&&e!==t;)Jt(e)&&hg(e[A],e),e=e[ke];null===e&&(e=t),Jt(e)&&hg(e[A],e),n=e&&e[Vn]}e=n}}(e)}}function hg(t,e){if(!(256&e[z])){e[z]&=-129,e[z]|=256,function o2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ra)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];rr(4,a,l);try{l.call(a)}finally{rr(5,a,l)}}else{rr(4,i,s);try{s.call(i)}finally{rr(5,i,s)}}}}}(t,e),function s2(t,e){const n=t.cleanup,r=e[Ws];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ws]=null);const i=e[si];if(null!==i){e[si]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[A].type&&e[G].destroy();const n=e[ba];if(null!==n&&Bt(e[ke])){n!==e[ke]&&TI(n,e);const r=e[tr];null!==r&&r.detachView(t)}!function $B(t){sg.delete(t[Ia])}(e)}}function fg(t,e,n){return function SI(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ge];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===bn.None||s===bn.Emulated)return null}return Xt(r,n)}}(t,e.parent,n)}function Yi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AI(t,e,n){t.appendChild(e,n)}function MI(t,e,n,r,i){null!==r?Yi(t,e,n,r,i):AI(t,e,n)}function Fu(t,e){return t.parentNode(e)}function NI(t,e,n){return OI(t,e,n)}let pg,Bu,yg,Uu,OI=function RI(t,e,n){return 40&t.type?Xt(t,n):null};function Lu(t,e,n,r){const i=fg(t,r,e),s=e[G],a=NI(r.parent||e[Tt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)MI(s,i,n[l],a,!1);else MI(s,i,n,a,!1);void 0!==pg&&pg(s,r,e,n,i)}function Ua(t,e){if(null!==e){const n=e.type;if(3&n)return Xt(e,t);if(4&n)return gg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ua(t,r);{const i=t[e.index];return Bt(i)?gg(-1,i):Ae(i)}}if(32&n)return cg(e,t)()||Ae(t[e.index]);{const r=kI(t,e);return null!==r?Array.isArray(r)?r[0]:Ua(Ba(t[qe]),r):Ua(t,e.next)}}return null}function kI(t,e){return null!==e?t[qe][Tt].projection[e.projection]:null}function gg(t,e){const n=vt+t+1;if(n<e.length){const r=e[n],i=r[A].firstChild;if(null!==i)return Ua(r,i)}return e[nr]}function mg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&St(Ae(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)mg(t,e,n.child,r,i,s,!1),uo(e,t,i,a,s);else if(32&l){const c=cg(n,r);let u;for(;u=c();)uo(e,t,i,u,s);uo(e,t,i,a,s)}else 16&l?FI(t,e,r,n,i,s):uo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ha(t,e,n,r,i,s){mg(n,r,t.firstChild,e,i,s,!1)}function FI(t,e,n,r,i,s){const o=n[qe],l=o[Tt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)uo(e,t,i,l[c],s);else{let c=l;const u=o[ke];Ru(r)&&(c.flags|=128),mg(t,e,c,u,i,s,!0)}}function LI(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VI(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Ap(t,e,r),null!==i&&LI(t,e,i),null!==s&&function h2(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ho(t){return function _g(){if(void 0===Bu&&(Bu=null,Se.trustedTypes))try{Bu=Se.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bu}()?.createHTML(t)||t}function fo(){if(void 0!==yg)return yg;if(typeof document<"u")return document;throw new v(210,!1)}function BI(t){return function vg(){if(void 0===Uu&&(Uu=null,Se.trustedTypes))try{Uu=Se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Uu}()?.createHTML(t)||t}class Zi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OD})`}}class _2 extends Zi{getTypeName(){return"HTML"}}class y2 extends Zi{getTypeName(){return"Style"}}class v2 extends Zi{getTypeName(){return"Script"}}class E2 extends Zi{getTypeName(){return"URL"}}class C2 extends Zi{getTypeName(){return"ResourceURL"}}function dn(t){return t instanceof Zi?t.changingThisBreaksApplicationSecurity:t}function or(t,e){const n=function w2(t){return t instanceof Zi&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${OD})`)}return n===e}class A2{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ho(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class M2{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ho(e),n}}const R2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hu(t){return(t=String(t)).match(R2)?t:"unsafe:"+t}function Pr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ja(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const $I=Pr("area,br,col,hr,img,wbr"),GI=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),WI=Pr("rp,rt"),Eg=ja($I,ja(GI,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ja(WI,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ja(WI,GI)),Cg=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zI=ja(Cg,Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),O2=Pr("script,style,template");class P2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Eg.hasOwnProperty(n))return this.sanitizedSomething=!0,!O2.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!zI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Cg[a]&&(l=Hu(l)),this.buf.push(" ",o,'="',qI(l),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Eg.hasOwnProperty(n)&&!$I.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(qI(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const k2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x2=/([^\#-~ |!])/g;function qI(t){return t.replace(/&/g,"&amp;").replace(k2,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(x2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ju;function KI(t,e){let n=null;try{ju=ju||function jI(t){const e=new M2(t);return function N2(){try{return!!(new window.DOMParser).parseFromString(ho(""),"text/html")}catch{return!1}}()?new A2(e):e}(t);let r=e?String(e):"";n=ju.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ju.getInertBodyElement(r)}while(r!==s);return ho((new P2).sanitizeChildren(wg(n)||n))}finally{if(n){const r=wg(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function wg(t){return"content"in t&&function F2(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hn||{});function Dg(t){const e=function $a(){const t=w();return t&&t[zs].sanitizer}();return e?BI(e.sanitize(hn.HTML,t)||""):or(t,"HTML")?BI(dn(t)):KI(fo(),$(t))}class R{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ga=new R("ENVIRONMENT_INITIALIZER"),JI=new R("INJECTOR",-1),XI=new R("INJECTOR_DEF_TYPES");class bg{get(e,n=ya){if(n===ya){const r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}}function j2(...t){return{\u0275providers:eT(0,t),\u0275fromNgModule:!0}}function eT(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return oo(e,o=>{const a=o;$u(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&tT(i,s),n}function tT(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Tg(i,s=>{e(s,r)})}}function $u(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=nu(t);const o=!s&&se(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=nu(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)$u(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{oo(s.imports,u=>{$u(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&tT(c,e)}if(!a){const c=qi(i)||(()=>new i);e({provide:i,useFactory:c,deps:ue},i),e({provide:XI,useValue:i,multi:!0},i),e({provide:Ga,useValue:()=>b(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=t;Tg(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function Tg(t,e){for(let n of t)mp(n)&&(n=n.\u0275providers),Array.isArray(n)?Tg(n,e):e(n)}const $2=_e({provide:String,useValue:_e});function Sg(t){return null!==t&&"object"==typeof t&&$2 in t}function Ji(t){return"function"==typeof t}const Ag=new R("Set Injector scope."),Gu={},W2={};let Mg;function Wu(){return void 0===Mg&&(Mg=new bg),Mg}class An{}class zu extends An{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rg(e,o=>this.processProvider(o)),this.records.set(JI,po(void 0,this)),i.has("environment")&&this.records.set(An,po(void 0,this));const s=this.records.get(Ag);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(XI.multi,ue,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ri(this),r=Qt(void 0);try{return e()}finally{ri(n),Qt(r)}}get(e,n=ya,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(HD))return e[HD](this);r=su(r);const s=ri(this),o=Qt(void 0);try{if(!(r&te.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function Y2(t){return"function"==typeof t||"object"==typeof t&&t instanceof R}(e)&&tu(e);l=c&&this.injectableDefInScope(c)?po(Ng(e),Gu):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&te.Self?Wu():this.parent).get(e,n=r&te.Optional&&n===ya?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[iu]=a[iu]||[]).unshift(it(e)),s)throw a;return function jL(t,e,n,r){const i=t[iu];throw e[VD]&&i.unshift(e[VD]),t.message=function $L(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(LL,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[iu]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Qt(o),ri(s)}}resolveInjectorInitializers(){const e=ri(this),n=Qt(void 0);try{const i=this.get(Ga.multi,ue,te.Self);for(const s of i)s()}finally{ri(e),Qt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new v(205,!1)}processProvider(e){let n=Ji(e=H(e))?e:H(e&&e.provide);const r=function q2(t){return Sg(t)?po(void 0,t.useValue):po(iT(t),Gu)}(e);if(Ji(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=po(void 0,Gu,!0),i.factory=()=>Ip(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Gu&&(n.value=W2,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Q2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ng(t){const e=tu(t),n=null!==e?e.factory:qi(t);if(null!==n)return n;if(t instanceof R)throw new v(204,!1);if(t instanceof Function)return function z2(t){const e=t.length;if(e>0)throw Fa(e,"?"),new v(204,!1);const n=function PL(t){return t&&(t[ru]||t[kD])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new v(204,!1)}function iT(t,e,n){let r;if(Ji(t)){const i=H(t);return qi(i)||Ng(i)}if(Sg(t))r=()=>H(t.useValue);else if(function rT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ip(t.deps||[]));else if(function nT(t){return!(!t||!t.useExisting)}(t))r=()=>b(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function K2(t){return!!t.deps}(t))return qi(i)||Ng(i);r=()=>new i(...Ip(t.deps))}return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Rg(t,e){for(const n of t)Array.isArray(n)?Rg(n,e):n&&mp(n)?Rg(n.\u0275providers,e):e(n)}const qu=new R("AppId",{providedIn:"root",factory:()=>Z2}),Z2="ng",sT=new R("Platform Initializer"),ui=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oT=new R("AnimationModuleType"),aT=new R("CSP nonce",{providedIn:"root",factory:()=>fo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lT=(t,e,n)=>null;function Bg(t,e,n=!1){return lT(t,e,n)}class aU{}class dT{}class cU{resolveComponentFactory(e){throw function lU(t){const e=Error(`No component factory found for ${it(t)}.`);return e.ngComponent=t,e}(e)}}let _o=(()=>{class t{static#e=this.NULL=new cU}return t})();function uU(){return yo(Dt(),w())}function yo(t,e){return new Ke(Xt(t,e))}let Ke=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=uU}return t})();function dU(t){return t instanceof Ke?t.nativeElement:t}class Xi{}let fn=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function hU(){const t=w(),n=cn(Dt().index,t);return(Jt(n)?n:t)[G]}()}return t})(),fU=(()=>{class t{static#e=this.\u0275prov=M({token:t,providedIn:"root",factory:()=>null})}return t})();class qa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pU=new qa("16.2.10"),jg={};function mT(t,e=null,n=null,r){const i=_T(t,e,n,r);return i.resolveInjectorInitializers(),i}function _T(t,e=null,n=null,r,i=new Set){const s=[n||ue,j2(t)];return r=r||("object"==typeof t?void 0:it(t)),new zu(s,e||Wu(),r||null,i)}let ot=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ya;static#t=this.NULL=new bg;static create(n,r){if(Array.isArray(n))return mT({name:""},r,n,"");{const i=n.name??"";return mT({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=M({token:t,providedIn:"any",factory:()=>b(JI)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Gg(t){return t.ngOriginalError}class kr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Gg(e);for(;n&&Gg(n);)n=Gg(n);return n||null}}function zg(t){return e=>{setTimeout(t,void 0,e)}}const Q=class CU extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=zg(s),i&&(i=zg(i)),o&&(o=zg(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ft&&e.add(a),a}};function vT(...t){}class ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Q(!1),this.onMicrotaskEmpty=new Q(!1),this.onStable=new Q(!1),this.onError=new Q(!1),typeof Zone>"u")throw new v(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function wU(){const t="function"==typeof Se.requestAnimationFrame;let e=Se[t?"requestAnimationFrame":"setTimeout"],n=Se[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function IU(t){const e=()=>{!function bU(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Se,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kg(t),t.isCheckStableRunning=!0,qg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function SU(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return ET(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),CT(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return ET(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),CT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Kg(t),qg(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ie.isInAngularZone())throw new v(909,!1)}static assertNotInAngularZone(){if(ie.isInAngularZone())throw new v(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,DU,vT,vT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const DU={};function qg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ET(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CT(t){t._nesting--,qg(t)}class TU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Q,this.onMicrotaskEmpty=new Q,this.onStable=new Q,this.onError=new Q}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const wT=new R("",{providedIn:"root",factory:DT});function DT(){const t=S(ie);let e=!0;return ND(new Be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ie.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(RD()))}function Qg(t){return t.ownerDocument.defaultView}function xr(t){return t instanceof Function?t():t}let Yg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ka(t){for(;t;){t[z]|=64;const e=Ba(t);if(Rp(t)&&!e)return t;t=e}return null}const AT=new R("",{providedIn:"root",factory:()=>!1});let ed=null;function OT(t,e){return t[e]??xT()}function PT(t,e){const n=xT();n.producerNode?.length&&(t[e]=ed,n.lView=t,ed=kT())}const FU={...ib,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ka(t.lView)},lView:null};function kT(){return Object.create(FU)}function xT(){return ed??=kT(),ed}const W={};function J(t){FT(oe(),w(),Ht()+t,!1)}function FT(t,e,n,r){if(!r)if(3==(3&e[z])){const s=t.preOrderCheckHooks;null!==s&&mu(e,s,n)}else{const s=t.preOrderHooks;null!==s&&_u(e,s,0,n)}Ki(n)}function C(t,e=te.Default){const n=w();return null===n?b(t,e):Qb(Dt(),n,H(t),e)}function td(t,e,n,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Ge]=i,d[z]=140|r,(null!==c||t&&2048&t[z])&&(d[z]|=2048),bb(d),d[ke]=d[qs]=t,d[ze]=n,d[zs]=o||t&&t[zs],d[G]=a||t&&t[G],d[ii]=l||t&&t[ii]||null,d[Tt]=s,d[Ia]=function HB(){return UB++}(),d[Nr]=u,d[eb]=c,d[qe]=2==e.type?t[qe]:d,d}function Co(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Zg(t,e,n,r,i){const s=Nb(),o=Bp(),l=t.data[e]=function GU(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Js()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function UV(){return B.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Na(){const t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ir(s,!0),s}function Qa(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function VT(t,e,n,r,i){const s=OT(e,Ta),o=Ht(),a=2&r;try{Ki(-1),a&&e.length>ne&&FT(t,e,ne,!1),rr(a?2:0,i);const c=a?s:null,u=Pp(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{kp(c,u)}}finally{a&&null===e[Ta]&&PT(e,Ta),Ki(o),rr(a?3:1,i)}}function Jg(t,e,n){if(Np(e)){const r=Tn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Tn(r)}}}function Xg(t,e,n){Mb()&&(function ZU(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;zi(n)&&function iH(t,e,n){const r=Xt(e,t),i=BT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=nd(t,td(t,i,null,o,r,e,null,t[zs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||vu(n,e),St(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],c=Qi(e,t,a,n);St(c,e),null!==o&&sH(0,a-i,c,l,0,o),Bn(l)&&(cn(n.index,e)[ze]=Qi(e,t,a,n))}}(t,e,n,Xt(n,e)),64==(64&n.flags)&&GT(t,e,n))}function em(t,e,n=Xt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function BT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=tm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function tm(t,e,n,r,i,s,o,a,l,c,u){const d=ne+r,h=d+i,f=function VU(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(d,h),p="function"==typeof c?c():c;return f[A]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let UT=t=>null;function HT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?jT(n,e,i,s):r.hasOwnProperty(i)&&jT(n,e,r[i],s)}return n}function jT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function pn(t,e,n,r,i,s,o,a){const l=Xt(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(om(t,n,u,r,i),zi(e)&&function qU(t,e){const n=cn(e,t);16&n[z]||(n[z]|=64)}(n,e.index)):3&e.type&&(r=function zU(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function nm(t,e,n,r){if(Mb()){const i=null===r?null:{"":-1},s=function XU(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(KD(e,o.selectors,!1))if(r||(r=[]),Bn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),rm(t,e,a.length)}else r.unshift(o),rm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$T(t,e,n,o,i,a),i&&function eH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new v(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ca(n.mergedAttrs,n.attrs)}function $T(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Zp(vu(n,e),t,r[c].type);!function nH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Qa(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Ca(n.mergedAttrs,u.hostAttrs),rH(t,n,e,l,u),tH(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function WU(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=n?n.get(d):null,p=h?h.outputs:null;l=HT(d.inputs,u,l,h?h.inputs:null),c=HT(d.outputs,u,c,p);const g=null===l||null===o||qD(e)?null:oH(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,s)}function GT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function jV(){return B.lFrame.currentDirectiveIndex}();try{Ki(s);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];Hp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&JU(l,c)}}finally{Ki(-1),Hp(o)}}function JU(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function rm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bn(e)&&(n[""]=t)}}function rH(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=qi(i.type)),o=new Ra(s,Bn(i),C);t.blueprint[r]=o,n[r]=o,function QU(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function YU(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Qa(t,n,i.hostVars,W),i)}function ar(t,e,n,r,i,s){const o=Xt(t,e);!function im(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?$(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[G],o,s,t.value,n,r,i)}function sH(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)WT(r,n,o[a++],o[a++],o[a++])}function WT(t,e,n,r,i){const s=Tn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Tn(s)}}function oH(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function qT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];$p(n[r]),o.contentQueries(2,e[s],s)}}}function nd(t,e){return t[Da]?t[XD][Vn]=e:t[Da]=e,t[XD]=e,e}function sm(t,e,n){$p(0);const r=Tn(null);try{e(t,n)}finally{Tn(r)}}function KT(t){return t[Ws]||(t[Ws]=[])}function QT(t){return t.cleanup||(t.cleanup=[])}function YT(t,e,n){return(null===t||Bn(t))&&(n=function Vp(t){for(;Array.isArray(t);){if("object"==typeof t[Mp])return t;t=t[Ge]}return null}(n[e.index])),n[G]}function ZT(t,e){const n=t[ii],r=n?n.get(kr,null):null;r&&r.handleError(e)}function om(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];WT(t.data[o],e[o],r,a,i)}}function aH(t,e){const n=cn(e,t),r=n[A];!function lH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ge];null!==i&&null===n[Nr]&&(n[Nr]=Bg(i,n[ii])),am(r,n,n[ze])}function am(t,e,n){Gp(e);try{const r=t.viewQuery;null!==r&&sm(1,r,n);const i=t.template;null!==i&&VT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qT(t,e),t.staticViewQueries&&sm(2,t.viewQuery,n);const s=t.components;null!==s&&function cH(t,e){for(let n=0;n<e.length;n++)aH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[z]&=-5,Wp()}}let JT=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function yV(t,e,n){const r=Object.create(vV);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>lb(r),run:()=>{if(r.dirty=!1,r.hasRun&&!cb(r))return;r.hasRun=!0;const o=Pp(r);try{r.cleanupFn(),r.cleanupFn=_b,r.fn(i)}finally{kp(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})();function rd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=pp(i,a):2==s&&(r=pp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ya(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Ae(s)),Bt(s)&&XT(s,r);const o=n.type;if(8&o)Ya(t,e,n.child,r);else if(32&o){const a=cg(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=kI(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ba(e[qe]);Ya(l[A],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XT(t,e){for(let n=vt;n<t.length;n++){const r=t[n],i=r[A].firstChild;null!==i&&Ya(r[A],r,i,e)}t[nr]!==t[Ge]&&e.push(t[nr])}function id(t,e,n,r=!0){const i=e[zs],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{eS(t,e,t.template,n)}catch(l){throw r&&ZT(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function eS(t,e,n,r){const i=e[z];if(256!=(256&i)){e[zs].effectManager?.flush(),Gp(e);try{bb(e),function Ob(t){return B.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&VT(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&mu(e,c,null)}else{const c=t.preOrderHooks;null!==c&&_u(e,c,0,null),zp(e,0)}if(function hH(t){for(let e=wI(t);null!==e;e=DI(e)){if(!e[tb])continue;const n=e[Qs];for(let r=0;r<n.length;r++){MV(n[r])}}}(e),tS(e,2),null!==t.contentQueries&&qT(t,e),o){const c=t.contentCheckHooks;null!==c&&mu(e,c)}else{const c=t.contentHooks;null!==c&&_u(e,c,1),zp(e,1)}!function LU(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=OT(e,Sa);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ki(~s);else{const o=s,a=n[++i],l=n[++i];HV(a,o),r.dirty=!1;const c=Pp(r);try{l(2,e[o])}finally{kp(r,c)}}}}finally{null===e[Sa]&&PT(e,Sa),Ki(-1)}}(t,e);const a=t.components;null!==a&&rS(e,a,0);const l=t.viewQuery;if(null!==l&&sm(2,l,r),o){const c=t.viewCheckHooks;null!==c&&mu(e,c)}else{const c=t.viewHooks;null!==c&&_u(e,c,2),zp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[z]&=-73,Ib(e)}finally{Wp()}}}function tS(t,e){for(let n=wI(t);null!==n;n=DI(n))for(let r=vt;r<n.length;r++)nS(n[r],e)}function fH(t,e,n){nS(cn(e,t),n)}function nS(t,e){if(!function SV(t){return 128==(128&t[z])}(t))return;const n=t[A],r=t[z];if(80&r&&0===e||1024&r||2===e)eS(n,t,n.template,t[ze]);else if(t[wa]>0){tS(t,1);const i=n.components;null!==i&&rS(t,i,1)}}function rS(t,e,n){for(let r=0;r<e.length;r++)fH(t,e[r],n)}class Za{get rootNodes(){const e=this._lView,n=e[A];return Ya(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return 256==(256&this._lView[z])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ke];if(Bt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(xu(e,r),Du(n,r))}this._attachedToViewContainer=!1}dg(this._lView[A],this._lView)}onDestroy(e){!function Sb(t,e){if(256==(256&t[z]))throw new v(911,!1);null===t[si]&&(t[si]=[]),t[si].push(e)}(this._lView,e)}markForCheck(){Ka(this._cdRefInjectingView||this._lView)}detach(){this._lView[z]&=-129}reattach(){this._lView[z]|=128}detectChanges(){id(this._lView[A],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new v(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function t2(t,e){Ha(t,e,e[G],2,null,null)}(this._lView[A],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new v(902,!1);this._appRef=e}}class pH extends Za{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;id(e[A],e,e[ze],!1)}checkNoChanges(){}get context(){return null}}class iS extends _o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=se(e);return new Ja(n,this.ngModule)}}function sS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class mH{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=su(r);const i=this.injector.get(e,jg,r);return i!==jg||n===jg?i:this.parentInjector.get(e,n,r)}}class Ja extends dT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=sS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function XL(t){return t.map(JL).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof An?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new mH(e,s):e,a=o.get(Xi,null);if(null===a)throw new v(407,!1);const d={rendererFactory:a,sanitizer:o.get(fU,null),effectManager:o.get(JT,null),afterRenderEventManager:o.get(Yg,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function BU(t,e,n,r){const s=r.get(AT,!1)||n===bn.ShadowDom,o=t.selectRootElement(e,s);return function UU(t){UT(t)}(o),o}(h,r,this.componentDef.encapsulation,o):ku(h,f,function gH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Bg(p,o,!0));const T=tm(0,null,null,1,0,null,null,null,null,null,null),N=td(null,T,null,E,null,null,d,h,o,null,_);let j,Ee;Gp(N);try{const we=this.componentDef;let mt,It=null;we.findHostDirectiveDefs?(mt=[],It=new Map,we.findHostDirectiveDefs(we,mt,It),mt.push(we)):mt=[we];const En=function yH(t,e){const n=t[A],r=ne;return t[r]=e,Co(n,r,2,"#host",null)}(N,p),Jf=function vH(t,e,n,r,i,s,o){const a=i[A];!function EH(t,e,n,r){for(const i of t)e.mergedAttrs=Ca(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rd(e,e.mergedAttrs,!0),null!==n&&VI(r,n,e))}(r,t,e,o);let l=null;null!==e&&(l=Bg(e,i[ii]));const c=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=td(i,BT(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&rm(a,t,r.length-1),nd(i,d),i[t.index]=d}(En,p,we,mt,N,d,h);Ee=Db(T,ne),p&&function wH(t,e,n,r){if(r)Ap(t,n,["ng-version",pU.full]);else{const{attrs:i,classes:s}=function eV(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ln(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Ap(t,n,i),s&&s.length>0&&LI(t,n,s.join(" "))}}(h,we,p,r),void 0!==n&&function DH(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Ee,this.ngContentSelectors,n),j=function CH(t,e,n,r,i,s){const o=Dt(),a=i[A],l=Xt(o,i);$T(a,i,o,n,null,r);for(let u=0;u<n.length;u++)St(Qi(i,a,o.directiveStart+u,o),i);GT(a,i,o),l&&St(l,i);const c=Qi(i,a,o.directiveStart+o.componentOffset,o);if(t[ze]=i[ze]=c,null!==s)for(const u of s)u(c,e);return Jg(a,o,t),c}(Jf,we,mt,It,N,[bH]),am(T,N,null)}finally{Wp()}return new _H(this.componentType,j,yo(Ee,N),N,Ee)}}class _H extends aU{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pH(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;om(s[A],s,i,e,n),this.previousInputValues.set(e,n),Ka(cn(this._tNode.index,s))}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bH(){const t=Dt();gu(w()[A],t)}function ye(t){let e=function oS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Bn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new v(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=sd(t.inputs),o.inputTransforms=sd(t.inputTransforms),o.declaredInputs=sd(t.declaredInputs),o.outputs=sd(t.outputs);const a=i.hostBindings;a&&AH(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&TH(t,l),c&&SH(t,c),Xc(t.inputs,i.inputs),Xc(t.declaredInputs,i.declaredInputs),Xc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Xc(o.inputTransforms,i.inputTransforms)),Bn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function IH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ca(i.hostAttrs,n=Ca(n,i.hostAttrs))}}(r)}function sd(t){return t===er?{}:t===ue?[]:t}function TH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function SH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function AH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function od(t){return!!lm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function lr(t,e,n){return t[e]=n}function At(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mt(t,e,n,r){const i=w();return At(i,Xs(),e)&&(oe(),ar(Ue(),i,t,e,n,r)),Mt}function Do(t,e,n,r){return At(t,Xs(),n)?e+$(n)+r:W}function Pe(t,e,n,r,i,s,o,a){const l=w(),c=oe(),u=t+ne,d=c.firstCreatePass?function XH(t,e,n,r,i,s,o,a,l){const c=e.consts,u=Co(e,t,4,o||null,ai(c,a));nm(e,n,u,ai(c,l)),gu(e,u);const d=u.tView=tm(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];ir(d,!1);const h=DS(c,l,d,t);pu()&&Lu(c,l,h,d),St(h,l),nd(l,l[u]=zT(h,l,h,d)),uu(d)&&Xg(c,l,d),null!=o&&em(l,d,a)}let DS=function bS(t,e,n,r){return li(!0),e[G].createComment("")};function X(t,e,n){const r=w();return At(r,Xs(),e)&&pn(oe(),Ue(),r,t,e,r[G],n,!1),X}function pm(t,e,n,r,i){const o=i?"class":"style";om(t,n,e.inputs[o],o,r)}function x(t,e,n,r){const i=w(),s=oe(),o=ne+t,a=i[G],l=s.firstCreatePass?function rj(t,e,n,r,i,s){const o=e.consts,l=Co(e,t,2,r,ai(o,i));return nm(e,n,l,ai(o,s)),null!==l.attrs&&rd(l,l.attrs,!1),null!==l.mergedAttrs&&rd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],c=TS(s,i,l,a,e,t);i[o]=c;const u=uu(l);return ir(l,!0),VI(a,c,l),32!=(32&l.flags)&&pu()&&Lu(s,i,c,l),0===function RV(){return B.lFrame.elementDepthCount}()&&St(c,i),function OV(){B.lFrame.elementDepthCount++}(),u&&(Xg(s,i,l),Jg(s,l,i)),null!==r&&em(i,l),x}function F(){let t=Dt();Bp()?Up():(t=t.parent,ir(t,!1));const e=t;(function kV(t){return B.skipHydrationRootTNode===t})(e)&&function VV(){B.skipHydrationRootTNode=null}(),function PV(){B.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(gu(n,t),Np(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function XV(t){return 0!=(8&t.flags)}(e)&&pm(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function eB(t){return 0!=(16&t.flags)}(e)&&pm(n,e,w(),e.stylesWithoutHost,!1),F}function Je(t,e,n,r){return x(t,e,n,r),F(),Je}let TS=(t,e,n,r,i,s)=>(li(!0),ku(r,i,function Ub(){return B.lFrame.currentNamespace}()));function rl(t,e,n){const r=w(),i=oe(),s=t+ne,o=i.firstCreatePass?function oj(t,e,n,r,i){const s=e.consts,o=ai(s,r),a=Co(e,t,8,"ng-container",o);return null!==o&&rd(a,o,!0),nm(e,n,a,ai(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ir(o,!0);const a=AS(i,r,o,t);return r[s]=a,pu()&&Lu(i,r,a,o),St(a,r),uu(o)&&(Xg(i,r,o),Jg(i,o,r)),null!=n&&em(r,o),rl}function il(){let t=Dt();const e=oe();return Bp()?Up():(t=t.parent,ir(t,!1)),e.firstCreatePass&&(gu(e,t),Np(t)&&e.queries.elementEnd(t)),il}let AS=(t,e,n,r)=>(li(!0),ug(e[G],""));function Un(){return w()}function sl(t){return!!t&&"function"==typeof t.then}function MS(t){return!!t&&"function"==typeof t.subscribe}function le(t,e,n,r){const i=w(),s=oe(),o=Dt();return function RS(t,e,n,r,i,s,o){const a=uu(r),c=t.firstCreatePass&&QT(t),u=e[ze],d=KT(e);let h=!0;if(3&r.type||o){const g=Xt(r,e),m=o?o(g):g,E=d.length,_=o?N=>o(Ae(N[r.index])):r.index;let T=null;if(!o&&a&&(T=function cj(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ws],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=PS(r,e,u,s,!1);const N=n.listen(m,i,s);d.push(s,N),c&&c.push(i,_,E,E+1)}}else s=PS(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const j=e[p[m]][p[m+1]].subscribe(s),Ee=d.length;d.push(s,j),c&&c.push(i,r.index,Ee,-(Ee+1))}}}(s,i,i[G],o,t,e,r),le}function OS(t,e,n,r){try{return rr(6,e,n),!1!==n(r)}catch(i){return ZT(t,i),!1}finally{rr(7,e,n)}}function PS(t,e,n,r,i){return function s(o){if(o===Function)return r;Ka(t.componentOffset>-1?cn(t.index,e):e);let l=OS(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=OS(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function ae(t=1){return function GV(t){return(B.lFrame.contextLView=function WV(t,e){for(;t>0;)e=e[qs],t--;return e}(t,B.lFrame.contextLView))[ze]}(t)}function uj(t,e){let n=null;const r=function KL(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?KD(t,s,!0):ZL(r,s))return i}else n=i}return n}function gm(t,e,n){return mm(t,"",e,"",n),gm}function mm(t,e,n,r,i){const s=w(),o=Do(s,e,n,r);return o!==W&&pn(oe(),Ue(),s,t,o,s[G],i,!1),mm}function dd(t,e){return t<<17|e<<2}function di(t){return t>>17&32767}function _m(t){return 2|t}function ts(t){return(131068&t)>>2}function ym(t,e){return-131069&t|e<<2}function vm(t){return 1|t}function GS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?di(s):ts(s),l=!1;for(;0!==a&&(!1===l||o);){const u=t[a+1];mj(t[a],e)&&(l=!0,t[a+1]=r?vm(u):_m(u)),a=r?di(u):ts(u)}l&&(t[n+1]=r?_m(s):vm(s))}function mj(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ao(t,e)>=0}const at={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WS(t){return t.substring(at.key,at.keyEnd)}function zS(t,e){const n=at.textEnd;return n===e?-1:(e=at.keyEnd=function Ej(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,at.key=e,n),Ro(t,e,n))}function Ro(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Oo(t,e,n){return Hn(t,e,n,!1),Oo}function hd(t,e){return Hn(t,e,null,!0),hd}function ur(t){!function jn(t,e,n,r){const i=oe(),s=Or(2);i.firstUpdatePass&&JS(i,null,s,r);const o=w();if(n!==W&&At(o,s,n)){const a=i.data[Ht()];if(nA(a,r)&&!ZS(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=pp(l,n||"")),pm(i,a,o,n,r)}else!function Nj(t,e,n,r,i,s,o,a){i===W&&(i=ue);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),null!==p&&eA(t,e,n,r,p,g,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}(i,a,o,o[G],o[s+1],o[s+1]=function Aj(t,e,n){if(null==n||""===n)return ue;const r=[],i=dn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(Mj,dr,t,!0)}function dr(t,e){for(let n=function yj(t){return function KS(t){at.key=0,at.keyEnd=0,at.value=0,at.valueEnd=0,at.textEnd=t.length}(t),zS(t,Ro(t,0,at.textEnd))}(e);n>=0;n=zS(e,n))un(t,WS(e),!0)}function Hn(t,e,n,r){const i=w(),s=oe(),o=Or(2);s.firstUpdatePass&&JS(s,t,o,r),e!==W&&At(i,o,e)&&eA(s,s.data[Ht()],i,i[G],t,i[o+1]=function Rj(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=it(dn(t)))),t}(e,n),r,o)}function ZS(t,e){return e>=t.expandoStartIndex}function JS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ht()],o=ZS(t,n);nA(s,r)&&null===e&&!o&&(e=!1),e=function bj(t,e,n,r){const i=jp(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ol(n=Em(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Em(i,t,e,n,r),null===s){let l=function Ij(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ts(r))return t[di(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Em(null,t,e,l[1],r),l=ol(l,e.attrs,r),function Tj(t,e,n,r){t[di(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function Sj(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ol(r,t[s].hostAttrs,n);return ol(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function pj(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=di(o),l=ts(o);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||ao(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=di(t[a+1]);t[r+1]=dd(h,a),0!==h&&(t[h+1]=ym(t[h+1],r)),t[a+1]=function hj(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=dd(a,0),0!==a&&(t[a+1]=ym(t[a+1],r)),a=r;else t[r+1]=dd(l,0),0===a?a=r:t[l+1]=ym(t[l+1],r),l=r;c&&(t[r+1]=_m(t[r+1])),GS(t,u,r,!0),GS(t,u,r,!1),function gj(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ao(s,e)>=0&&(n[r+1]=vm(n[r+1]))}(e,u,t,r,s),o=dd(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Em(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ol(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ol(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),un(t,o,!!n||e[++s]))}return void 0===t?null:t}function Mj(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&un(t,r,n)}function eA(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function fj(t){return 1==(1&t)}(c)?tA(l,e,n,i,ts(c),o):void 0;fd(u)||(fd(s)||function dj(t){return 2==(2&t)}(c)&&(s=tA(l,null,n,i,a,o)),function d2(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ci.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ci.Important),t.setStyle(n,r,i,s))}}(r,o,fu(Ht(),n),i,s))}function tA(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===W&&(h=d?ue:void 0);let f=d?eg(h,r):u===r?h:void 0;if(c&&!fd(f)&&(f=eg(l,r)),fd(f)&&(a=f,o))return a;const p=t[i+1];i=o?di(p):ts(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=eg(l,r))}return a}function fd(t){return void 0!==t}function nA(t,e){return 0!=(t.flags&(e?8:16))}function ge(t,e=""){const n=w(),r=oe(),i=t+ne,s=r.firstCreatePass?Co(r,i,1,e,null):r.data[i],o=rA(r,n,s,e,t);n[i]=o,pu()&&Lu(r,n,o,s),ir(s,!1)}let rA=(t,e,n,r,i)=>(li(!0),function Pu(t,e){return t.createText(e)}(e[G],r));function pd(t){return Lr("",t,""),pd}function Lr(t,e,n){const r=w(),i=Do(r,t,e,n);return i!==W&&function Fr(t,e,n){const r=fu(e,t);!function II(t,e,n){t.setValue(e,n)}(t[G],r,n)}(r,Ht(),i),Lr}function Cm(t,e,n){const r=w();if(At(r,Xs(),e)){const s=oe(),o=Ue();pn(s,o,r,t,e,YT(jp(s.data),o,r),n,!0)}return Cm}const ko="en-US";let bA=ko;function bm(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let s=0;s<t.length;s++)bm(t[s],e,n,r,i);else{const s=oe(),o=w(),a=Dt();let l=Ji(t)?t:H(t.provide);const c=iT(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ji(t)||!t.multi){const f=new Ra(c,i,C),p=Tm(l,e,i?u:u+h,d);-1===p?(Zp(vu(a,o),s,l),Im(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Tm(l,e,u+h,d),p=Tm(l,e,u,u+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Zp(vu(a,o),s,l);const E=function J$(t,e,n,r,i){const s=new Ra(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,QA(s,i,r&&!n),s}(i?Z$:Y$,n.length,i,r,c);!i&&m&&(n[p].providerFactory=E),Im(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)}else Im(s,t,f>-1?f:p,QA(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Im(t,e,n,r){const i=Ji(e),s=function G2(t){return!!t.useClass}(e);if(i||s){const l=(s?H(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function QA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Tm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Y$(t,e,n,r){return Sm(this.multi,[])}function Z$(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Qi(n,n[A],this.providerFactory.index,r);s=a.slice(0,o),Sm(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Sm(i,s);return s}function Sm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Q$(t,e,n){const r=oe();if(r.firstCreatePass){const i=Bn(t);bm(n,r.data,r.blueprint,i,!0),bm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class rs{}class YA{}class Am extends rs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iS(this);const i=an(e);this._bootstrapComponents=xr(i.bootstrap),this._r3Injector=_T(e,n,[{provide:rs,useValue:this},{provide:_o,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Mm extends YA{constructor(e){super(),this.moduleType=e}create(e){return new Am(this.moduleType,e,[])}}class ZA extends rs{constructor(e){super(),this.componentFactoryResolver=new iS(this),this.instance=null;const n=new zu([...e.providers,{provide:rs,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],e.parent||Wu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Nm(t,e,n=null){return new ZA({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let tG=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=eT(0,n.type),i=r.length>0?Nm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=M({token:t,providedIn:"environment",factory:()=>new t(b(An))})}return t})();function vd(t){t.getStandaloneInjector=e=>e.get(tG).getOrCreateStandaloneInjector(t)}function Om(t,e,n,r){return function o0(t,e,n,r,i,s){const o=e+n;return At(t,o,i)?lr(t,o+1,s?r.call(s,i):r(i)):function hl(t,e){const n=t[e];return n===W?void 0:n}(t,o+1)}(w(),Ut(),t,e,n,r)}function IG(){return this._results[Symbol.iterator]()}class Pm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Q)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Pm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=IG)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Sn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function pB(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function SG(t,e,n,r=!0){const i=e[A];if(function r2(t,e,n,r){const i=vt+r,s=n.length;r>0&&(n[i-1][Vn]=e),r<s-vt?(e[Vn]=n[i],tI(n,vt+r,e)):(n.push(e),e[Vn]=null),e[ke]=n;const o=e[ba];null!==o&&n!==o&&function i2(t,e){const n=t[Qs];e[qe]!==e[ke][ke][qe]&&(t[tb]=!0),null===n?t[Qs]=[e]:n.push(e)}(o,e);const a=e[tr];null!==a&&a.insertView(t),e[z]|=128}(i,e,t,n),r){const s=gg(n,t),o=e[G],a=Fu(o,t[nr]);null!==a&&function e2(t,e,n,r,i,s){r[Ge]=i,r[Tt]=e,Ha(t,r,n,1,i,s)}(i,t[Tt],o,e,a,s)}}let hr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=NG}return t})();const AG=hr,MG=class extends AG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function TG(t,e,n,r){const i=e.tView,a=td(t,i,n,4096&t[z]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ba]=t[e.index];const c=t[tr];return null!==c&&(a[tr]=c.createEmbeddedView(i)),am(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Za(i)}};function NG(){return Ed(Dt(),w())}function Ed(t,e){return 4&t.type?new MG(e,t,yo(t,e)):null}let $n=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=FG}return t})();function FG(){return _0(Dt(),w())}const LG=$n,g0=class extends LG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yo(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Eu(this._hostTNode,this._hostLView);if(Kp(e)){const n=Pa(e,this._hostLView),r=Oa(e);return new jt(n[A].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=m0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function xa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new Ja(se(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?c:this.parentInjector).get(An,null);m&&(s=m)}se(l.componentType??{});const f=l.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function AV(t){return Bt(t[ke])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[ke],u=new g0(c,c[Tt],c[ke]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return SG(a,i,o,!r),e.attachToViewContainerRef(),tI(km(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=m0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=xu(this._lContainer,n);r&&(Du(km(this._lContainer),n),dg(r[A],r))}detach(e){const n=this._adjustIndex(e,-1),r=xu(this._lContainer,n);return r&&null!=Du(km(this._lContainer),n)?new Za(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function m0(t){return t[8]}function km(t){return t[8]||(t[8]=[])}function _0(t,e){let n;const r=e[t.index];return Bt(r)?n=r:(n=zT(r,e,null,t),e[t.index]=n,nd(e,n)),y0(n,e,t,r),new g0(n,t,e)}let y0=function v0(t,e,n,r){if(t[nr])return;let i;i=8&n.type?Ae(r):function VG(t,e){const n=t[G],r=n.createComment(""),i=Xt(e,t);return Yi(n,Fu(n,i),r,function l2(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[nr]=i};class xm{constructor(e){this.queryList=e,this.matches=null}clone(){return new xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Fm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==b0(e,n).matches&&this.queries[n].setDirty()}}class E0{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Lm{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Lm(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Vm{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Vm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,HG(n,s)),this.matchTNodeWithReadOption(e,n,Cu(n,e,s,!1,!1))}else r===hr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ke||i===$n||i===hr&&4&n.type)this.addMatch(n.index,-2);else{const s=Cu(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function HG(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function $G(t,e,n,r){return-1===n?function jG(t,e){return 11&t.type?yo(t,e):4&t.type?Ed(t,e):null}(e,t):-2===n?function GG(t,e,n){return n===Ke?yo(e,t):n===hr?Ed(e,t):n===$n?_0(e,t):void 0}(t,e,r):Qi(t,t[A],n,e)}function C0(t,e,n,r){const i=e[tr].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:$G(e,s[c],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function Bm(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=C0(t,e,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=vt;d<u.length;d++){const h=u[d];h[ba]===h[ke]&&Bm(h[A],h,c,r)}if(null!==u[Qs]){const d=u[Qs];for(let h=0;h<d.length;h++){const f=d[h];Bm(f[A],f,c,r)}}}}}return r}function Um(t){const e=w(),n=oe(),r=kb();$p(r+1);const i=b0(n,r);if(t.dirty&&function TV(t){return 4==(4&t[z])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Bm(n,e,r,[]):C0(n,e,i,r);t.reset(s,dU),t.notifyOnChanges()}return!0}return!1}function Hm(t,e,n,r){const i=oe();if(i.firstCreatePass){const s=Dt();(function D0(t,e,n){null===t.queries&&(t.queries=new Lm),t.queries.track(new Vm(e,n))})(i,new E0(e,n,r),s.index),function qG(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function w0(t,e,n){const r=new Pm(4==(4&n));(function $U(t,e,n,r){const i=KT(e);i.push(n),t.firstCreatePass&&QT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[tr]&&(e[tr]=new Fm),e[tr].queries.push(new xm(r))}(i,w(),n)}function b0(t,e){return t.queries.getByIndex(e)}function I0(t,e){return Ed(t,e)}const Km=new R("Application Initializer");let Qm=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=S(Km,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(sl(s))n.push(s);else if(MS(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),j0=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Vr=new R("LocaleId",{providedIn:"root",factory:()=>S(Vr,te.Optional|te.SkipSelf)||function pW(){return typeof $localize<"u"&&$localize.locale||ko}()});let $0=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class _W{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let G0=(()=>{class t{compileModuleSync(n){return new Mm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=xr(an(n).declarations).reduce((o,a)=>{const l=se(a);return l&&o.push(new Ja(l)),o},[]);return new _W(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const K0=new R(""),bd=new R("");let e_,Jm=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e_||(function LW(t){e_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(b(ie),b(Xm),b(bd))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Xm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return e_?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),hi=null;const Q0=new R("AllowMultipleToken"),t_=new R("PlatformDestroyListeners"),n_=new R("appBootstrapListener");class Z0{constructor(e,n){this.name=e,this.token=n}}function X0(t,e,n=[]){const r=`Platform: ${e}`,i=new R(r);return(s=[])=>{let o=r_();if(!o||o.injector.get(Q0,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function UW(t){if(hi&&!hi.get(Q0,!1))throw new v(400,!1);(function Y0(){!function fV(t){fb=t}(()=>{throw new v(600,!1)})})(),hi=t;const e=t.get(tM);(function J0(t){t.get(sT,null)?.forEach(n=>n())})(t)}(function eM(t=[],e){return ot.create({name:e,providers:[{provide:Ag,useValue:"platform"},{provide:t_,useValue:new Set([()=>hi=null])},...t]})}(a,r))}return function jW(t){const e=r_();if(!e)throw new v(401,!1);return e}()}}function r_(){return hi?.get(tM)??null}let tM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function $W(t="zone.js",e){return"noop"===t?new TU:"zone.js"===t?new ie(e):t}(r?.ngZone,function nM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function eG(t,e,n){return new Am(t,e,n)}(n.moduleType,this.injector,function aM(t){return[{provide:ie,useFactory:t},{provide:Ga,multi:!0,useFactory:()=>{const e=S(WW,{optional:!0});return()=>e.initialize()}},{provide:oM,useFactory:GW},{provide:wT,useFactory:DT}]}(()=>i)),o=s.injector.get(kr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Id(this._modules,s),a.unsubscribe()})}),function rM(t,e,n){try{const r=n();return sl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Qm);return a.runInitializers(),a.donePromise.then(()=>(function IA(t){Dn(t,"Expected localeId to be defined"),"string"==typeof t&&(bA=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Vr,ko)||ko),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=iM({},r);return function VW(t,e,n){const r=new Mm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(fr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new v(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new v(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(t_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(b(ot))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function iM(t,e){return Array.isArray(e)?e.reduce(iM,t):{...t,...e}}let fr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(oM),this.zoneIsStable=S(wT),this.componentTypes=[],this.components=[],this.isStable=S($0).hasPendingTasks.pipe(Xn(n=>n?U(!1):this.zoneIsStable),function bL(t,e=ti){return t=t??IL,rt((n,r)=>{let i,s=!0;n.subscribe(Ze(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),RD()),this._injector=S(An)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dT;if(!this._injector.get(Qm).done)throw!i&&function Gs(t){const e=se(t)||yt(t)||Vt(t);return null!==e&&e.standalone}(n),new v(405,!1);let o;o=i?n:this._injector.get(_o).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function BW(t){return t.isBoundToModule}(o)?void 0:this._injector.get(rs),c=o.create(ot.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(K0,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Id(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new v(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Id(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(n_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Id(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new v(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Id(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oM=new R("",{providedIn:"root",factory:()=>S(kr).handleError.bind(void 0)});function GW(){const t=S(ie),e=S(kr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let WW=(()=>{class t{constructor(){this.zone=S(ie),this.applicationRef=S(fr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Td=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qW}return t})();function qW(t){return function KW(t,e,n){if(zi(t)&&!n){const r=cn(t.index,e);return new Za(r,r)}return 47&t.type?new Za(e[qe],e):null}(Dt(),w(),16==(16&t))}class dM{constructor(){}supports(e){return od(e)}create(e){return new e3(e)}}const XW=(t,e)=>e;class e3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<fM(r,i,s)?n:r,a=fM(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!od(e))throw new v(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function xH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new t3(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new hM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class t3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class hM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new n3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class pM{constructor(){}supports(e){return e instanceof Map||lm(e)}create(){return new r3}}class r3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||lm(e)))throw new v(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new i3(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class i3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gM(){return new Md([new dM])}let Md=(()=>{class t{static#e=this.\u0275prov=M({token:t,providedIn:"root",factory:gM});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||gM()),deps:[[t,new Tu,new Iu]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new v(901,!1)}}return t})();function mM(){return new ml([new pM])}let ml=(()=>{class t{static#e=this.\u0275prov=M({token:t,providedIn:"root",factory:mM});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||mM()),deps:[[t,new Tu,new Iu]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new v(901,!1)}}return t})();const a3=X0(null,"core",[]);let l3=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(b(fr))};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({})}return t})();let c_=null;function fi(){return c_}class w3{}const Qe=new R("DocumentToken");let u_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(){return S(b3)},providedIn:"platform"})}return t})();const D3=new R("Location Initialized");let b3=(()=>{class t extends u_{constructor(){super(),this._doc=S(Qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fi().getBaseHref(this._doc)}onPopState(n){const r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function d_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function IM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Br(t){return t&&"?"!==t[0]?"?"+t:t}let ss=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(){return S(SM)},providedIn:"root"})}return t})();const TM=new R("appBaseHref");let SM=(()=>{class t extends ss{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return d_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Br(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Br(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(u_),b(TM,8))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),I3=(()=>{class t extends ss{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=d_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Br(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Br(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(u_),b(TM,8))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),h_=(()=>{class t{constructor(n){this._subject=new Q,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function A3(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(IM(AM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Br(r))}normalize(n){return t.stripTrailingSlash(function S3(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,AM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Br;static#t=this.joinWithSlash=d_;static#n=this.stripTrailingSlash=IM;static#r=this.\u0275fac=function(r){return new(r||t)(b(ss))};static#i=this.\u0275prov=M({token:t,factory:function(){return function T3(){return new h_(b(ss))}()},providedIn:"root"})}return t})();function AM(t){return t.replace(/\/index.html$/,"")}const w_=/\s+/,LM=[];let VM=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=LM,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(w_):LM}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(w_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(w_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(C(Md),C(ml),C(Ke),C(fn))};static#t=this.\u0275dir=k({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class pz{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let UM=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new pz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),HM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{HM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C($n),C(hr),C(Md))};static#t=this.\u0275dir=k({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function HM(t,e){t.context.$implicit=e.item}let vl=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new gz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C($n),C(hr))};static#t=this.\u0275dir=k({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class gz{constructor(){this.$implicit=null,this.ngIf=null}}function jM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${it(e)}'.`)}let WM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({})}return t})();const zM="browser";function qM(t){return t===zM}function KM(t){return"server"===t}let $z=(()=>{class t{static#e=this.\u0275prov=M({token:t,providedIn:"root",factory:()=>new Gz(b(Qe),window)})}return t})();class Gz{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Wz(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class gq extends w3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M_ extends gq{static makeCurrent(){!function C3(t){c_||(c_=t)}(new M_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function mq(){return Cl=Cl||document.querySelector("base"),Cl?Cl.getAttribute("href"):null}();return null==n?null:function _q(t){$d=$d||document.createElement("a"),$d.setAttribute("href",t);const e=$d.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Cl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hz(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let $d,Cl=null,vq=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();const N_=new R("EventManagerPlugins");let XM=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new v(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(b(N_),b(ie))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();class eN{constructor(e){this._doc=e}}const R_="ng-app-id";let tN=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=KM(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${R_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(R_),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(R_,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Qe),b(qu),b(aT,8),b(ui))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();const O_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P_=/%COMP%/g,Dq=new R("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function rN(t,e){return e.map(n=>n.replace(P_,t))}let k_=(()=>{class t{constructor(n,r,i,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=KM(a),this.defaultRenderer=new x_(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bn.ShadowDom&&(r={...r,encapsulation:bn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof sN?i.applyToHost(n):i instanceof F_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case bn.Emulated:s=new sN(l,c,r,this.appId,u,o,a,d);break;case bn.ShadowDom:return new Sq(l,c,n,r,o,a,this.nonce,d);default:s=new F_(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(b(XM),b(tN),b(qu),b(Dq),b(Qe),b(ui),b(ie),b(aT))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();class x_{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(O_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new v(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=O_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=O_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ci.DashCase|ci.Important)?e.style.setProperty(n,r,i&ci.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ci.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=fi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function iN(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Sq extends x_{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=rN(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class F_ extends x_{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?rN(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class sN extends F_{constructor(e,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=function bq(t){return"_ngcontent-%COMP%".replace(P_,t)}(c),this.hostAttr=function Iq(t){return"_nghost-%COMP%".replace(P_,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Aq=(()=>{class t extends eN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Qe))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();const oN=["alt","control","meta","shift"],Mq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Rq=(()=>{class t extends eN{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),oN.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=Mq[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oN.forEach(o=>{o!==i&&(0,Nq[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(b(Qe))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();const xq=X0(a3,"browser",[{provide:ui,useValue:zM},{provide:sT,useValue:function Oq(){M_.makeCurrent()},multi:!0},{provide:Qe,useFactory:function kq(){return function m2(t){yg=t}(document),document},deps:[]}]),Fq=new R(""),cN=[{provide:bd,useClass:class yq{addToWindow(e){Se.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new v(5103,!1);return s},Se.getAllAngularTestabilities=()=>e.getAllTestabilities(),Se.getAllAngularRootElements=()=>e.getAllRootElements(),Se.frameworkStabilizers||(Se.frameworkStabilizers=[]),Se.frameworkStabilizers.push(r=>{const i=Se.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?fi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:K0,useClass:Jm,deps:[ie,Xm,bd]},{provide:Jm,useClass:Jm,deps:[ie,Xm,bd]}],uN=[{provide:Ag,useValue:"root"},{provide:kr,useFactory:function Pq(){return new kr},deps:[]},{provide:N_,useClass:Aq,multi:!0,deps:[Qe,ie,ui]},{provide:N_,useClass:Rq,multi:!0,deps:[Qe]},k_,tN,XM,{provide:Xi,useExisting:k_},{provide:class zz{},useClass:vq,deps:[]},[]];let Lq=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:qu,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(b(Fq,12))};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({providers:[...uN,...cN],imports:[WM,l3]})}return t})(),dN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(b(Qe))};static#t=this.\u0275prov=M({token:t,factory:function(r){let i=null;return i=r?new r:function Bq(){return new dN(b(Qe))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let pN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(r){let i=null;return i=r?new(r||t):b(gN),i},providedIn:"root"})}return t})(),gN=(()=>{class t extends pN{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case hn.NONE:return r;case hn.HTML:return or(r,"HTML")?dn(r):KI(this._doc,String(r)).toString();case hn.STYLE:return or(r,"Style")?dn(r):r;case hn.SCRIPT:if(or(r,"Script"))return dn(r);throw new v(5200,!1);case hn.URL:return or(r,"URL")?dn(r):Hu(String(r));case hn.RESOURCE_URL:if(or(r,"ResourceURL"))return dn(r);throw new v(5201,!1);default:throw new v(5202,!1)}}bypassSecurityTrustHtml(n){return function D2(t){return new _2(t)}(n)}bypassSecurityTrustStyle(n){return function b2(t){return new y2(t)}(n)}bypassSecurityTrustScript(n){return function I2(t){return new v2(t)}(n)}bypassSecurityTrustUrl(n){return function T2(t){return new E2(t)}(n)}bypassSecurityTrustResourceUrl(n){return function S2(t){return new C2(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Qe))};static#t=this.\u0275prov=M({token:t,factory:function(r){let i=null;return i=r?new r:function $q(t){return new gN(t.get(Qe))}(b(ot)),i},providedIn:"root"})}return t})();class _N{}class Gq{}const jr="*";function Wq(t,e){return{type:7,name:t,definitions:e,options:{}}}function yN(t,e=null){return{type:4,styles:e,timings:t}}function vN(t,e=null){return{type:2,steps:t,options:e}}function wl(t){return{type:6,styles:t,offset:null}}function V_(t,e,n){return{type:0,name:t,styles:e,options:n}}function EN(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class Dl{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class CN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function wN(t){return new v(3e3,!1)}function gi(t){switch(t.length){case 0:return new Dl;case 1:return t[0];default:return new CN(t)}}function DN(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case jr:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),u||s.push(d),a=d,o=c}),i.length)throw function p4(t){return new v(3502,!1)}();return s}function U_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&H_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&H_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&H_(n,"destroy",t)))}}function H_(t,e,n){const s=j_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function j_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function mn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function bN(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const T4=(()=>typeof document>"u"?null:document.documentElement)();function $_(t){const e=t.parentNode||t.host||null;return e===T4?null:e}let os=null,IN=!1;function TN(t,e){for(;e;){if(e===t)return!0;e=$_(e)}return!1}function SN(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let AN=(()=>{class t{validateStyleProperty(n){return function A4(t){os||(os=function M4(){return typeof document<"u"?document.body:null}()||{},IN=!!os.style&&"WebkitAppearance"in os.style);let e=!0;return os.style&&!function S4(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in os.style,!e&&IN&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in os.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return TN(n,r)}getParentElement(n){return $_(n)}query(n,r,i){return SN(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new Dl(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),G_=(()=>{class t{static#e=this.NOOP=new AN}return t})();const N4=1e3,W_="ng-enter",Gd="ng-leave",Wd="ng-trigger",zd=".ng-trigger",NN="ng-animating",z_=".ng-animating";function $r(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:q_(parseFloat(e[1]),e[2])}function q_(t,e){return"s"===e?t*N4:t}function qd(t,e,n){return t.hasOwnProperty("duration")?t:function O4(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(wN()),{duration:0,delay:0,easing:""};i=q_(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=q_(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function zq(){return new v(3100,!1)}()),a=!0),s<0&&(e.push(function qq(){return new v(3101,!1)}()),a=!0),a&&e.splice(l,0,wN())}return{duration:i,delay:s,easing:o}}(t,e,n)}function bl(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function RN(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function mi(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function pr(t,e,n){e.forEach((r,i)=>{const s=Q_(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function as(t,e){e.forEach((n,r)=>{const i=Q_(r);t.style[i]=""})}function Il(t){return Array.isArray(t)?1==t.length?t[0]:vN(t):t}const K_=new RegExp("{{\\s*(.+?)\\s*}}","g");function PN(t){let e=[];if("string"==typeof t){let n;for(;n=K_.exec(t);)e.push(n[1]);K_.lastIndex=0}return e}function Tl(t,e,n){const r=t.toString(),i=r.replace(K_,(s,o)=>{let a=e[o];return null==a&&(n.push(function Qq(t){return new v(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function Kd(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const x4=/-+([a-z0-9])/g;function Q_(t){return t.replace(x4,(...e)=>e[1].toUpperCase())}function _n(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function Yq(t){return new v(3004,!1)}()}}function kN(t,e){return window.getComputedStyle(t)[e]}const Qd="*";function V4(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function B4(t,e,n){if(":"==t[0]){const l=function U4(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function u4(t){return new v(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function c4(t){return new v(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(xN(i,o));"<"==s[0]&&!(i==Qd&&o==Qd)&&e.push(xN(o,i))}(r,n,e)):n.push(t),n}const Yd=new Set(["true","1"]),Zd=new Set(["false","0"]);function xN(t,e){const n=Yd.has(t)||Zd.has(t),r=Yd.has(e)||Zd.has(e);return(i,s)=>{let o=t==Qd||t==i,a=e==Qd||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Yd.has(t):Zd.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Yd.has(e):Zd.has(e)),o&&a}}const H4=new RegExp("s*:selfs*,?","g");function Y_(t,e,n,r){return new j4(t).build(e,n,r)}class j4{constructor(e){this._driver=e}build(e,n,r){const i=new W4(n);return this._resetContextStyleTimingState(i),_n(this,Il(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function Jq(){return new v(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function Xq(){return new v(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{PN(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Kd(s.values()),n.errors.push(function e4(t,e){return new v(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=_n(this,Il(e.animation),n);return{type:1,matchers:V4(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ls(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>_n(this,r,n)),options:ls(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=_n(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:ls(e.options)}}visitAnimate(e,n){const r=function q4(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return Z_(qd(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Z_(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=qd(n,e);return Z_(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:wl({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=wl(c)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===jr?r.push(a):n.errors.push(new v(3002,!1)):r.push(RN(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(function n4(t,e,n,r,i){return new v(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&function k4(t,e,n){const r=e.params||{},i=PN(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Kq(t){return new v(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function r4(){return new v(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(E=>{const _=this._makeStyleAst(E,n);let T=null!=_.offset?_.offset:function z4(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(_.styles),N=0;return null!=T&&(s++,N=_.offset=T),l=l||N<0||N>1,a=a||N<c,c=N,o.push(N),_});l&&n.errors.push(function i4(){return new v(3012,!1)}()),a&&n.errors.push(function s4(){return new v(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function o4(){return new v(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return u.forEach((E,_)=>{const T=h>0?_==f?1:h*_:o[_],N=T*m;n.currentTime=p+g.delay+N,g.duration=N,this._validateStyleAst(E,n),E.offset=T,r.styles.push(E)}),r}visitReference(e,n){return{type:8,animation:_n(this,Il(e.animation),n),options:ls(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ls(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ls(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function $4(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(H4,"")),t=t.replace(/@\*/g,zd).replace(/@\w+/g,n=>zd+"-"+n.slice(1)).replace(/:animating/g,z_),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,mn(n.collectedStyles,n.currentQuerySelector,new Map);const a=_n(this,Il(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ls(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function a4(){return new v(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:qd(e.timings,n.errors,!0);return{type:12,animation:_n(this,Il(e.animation),n),timings:r,options:null}}}class W4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ls(t){return t?(t=bl(t)).params&&(t.params=function G4(t){return t?bl(t):null}(t.params)):t={},t}function Z_(t,e,n){return{duration:t,delay:e,easing:n}}function J_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Jd{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Y4=new RegExp(":enter","g"),J4=new RegExp(":leave","g");function X_(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return(new X4).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class X4{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new Jd;const d=new ey(e,n,c,i,s,u,[]);d.options=l;const h=l.delay?$r(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),_n(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[J_(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:$r(Tl(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?$r(r.duration):null,a=null!=r.delay?$r(r.delay):null;return 0!==o&&e.forEach(l=>{const c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),_n(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Xd);const o=$r(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>_n(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?$r(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),_n(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return qd(n.params?Tl(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?$r(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Xd);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),_n(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=n.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;_n(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Xd={};class ey{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new eh(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=$r(r.duration)),null!=r.delay&&(i.delay=$r(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Tl(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new ey(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Xd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new e8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Y4,"."+this._enterClassName)).replace(J4,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function l4(t){return new v(3014,!1)}()),a}}class eh{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new eh(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||jr),this._currentKeyframe.set(n,jr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function t8(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,jr)}else mi(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Tl(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??jr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=mi(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===jr&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?Kd(e.values()):[],o=n.size?Kd(n.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return J_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class e8 extends eh{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=mi(e[0]);l.set("offset",0),s.push(l);const c=mi(e[0]);c.set("offset",VN(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=mi(e[d]);const f=h.get("offset");h.set("offset",VN((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return J_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function VN(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ty{}const n8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class r8 extends ty{normalizePropertyName(e,n){return Q_(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(n8.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Zq(t,e){return new v(3005,!1)}())}return o+s}}function BN(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const ny={};class UN{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function i8(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||ny,p=this.buildStyles(r,a&&a.params||ny,d),g=l&&l.params||ny,m=this.buildStyles(i,g,d),E=new Set,_=new Map,T=new Map,N="void"===i,j={params:s8(g,h),delay:this.ast.options?.delay},Ee=u?[]:X_(e,n,this.ast.animation,s,o,p,m,j,c,d);let we=0;if(Ee.forEach(It=>{we=Math.max(It.duration+It.delay,we)}),d.length)return BN(n,this._triggerName,r,i,N,p,m,[],[],_,T,we,d);Ee.forEach(It=>{const En=It.element,Jf=mn(_,En,new Set);It.preStyleProps.forEach(Bs=>Jf.add(Bs));const Kc=mn(T,En,new Set);It.postStyleProps.forEach(Bs=>Kc.add(Bs)),En!==n&&E.add(En)});const mt=Kd(E.values());return BN(n,this._triggerName,r,i,N,p,m,Ee,mt,_,T,we)}}function s8(t,e){const n=bl(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class o8{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=bl(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Tl(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class l8{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new o8(i.style,i.options&&i.options.params||{},r))}),HN(this.states,"true","1"),HN(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new UN(e,i,this.states))}),this.fallbackTransition=function c8(t,e,n){return new UN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function HN(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const u8=new Jd;class d8{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=Y_(this._driver,n,r,[]);if(r.length)throw function g4(t){return new v(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=DN(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=X_(this._driver,n,s,W_,Gd,new Map,new Map,r,u8,i),o.forEach(u=>{const d=mn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function m4(){return new v(3300,!1)}()),o=[]),i.length)throw function _4(t){return new v(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,jr))})});const c=gi(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function y4(t){return new v(3301,!1)}();return n}listen(e,n,r,i){const s=j_(n,"","","");return U_(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jN="ng-animate-queued",ry="ng-animate-disabled",m8=[],$N={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zn="__ng_removed";class iy{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function C8(t){return t??null}(r?e.value:e),r){const s=bl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Sl="void",sy=new iy(Sl);class y8{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,On(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function v4(t,e){return new v(3302,!1)}();if(null==r||0==r.length)throw function E4(t){return new v(3303,!1)}();if(!function w8(t){return"start"==t||"done"==t}(r))throw function C4(t,e){return new v(3400,!1)}();const s=mn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=mn(this._engine.statesByElement,e,new Map);return a.has(n)||(On(e,Wd),On(e,Wd+"-"+n),a.set(n,sy)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function w4(t){return new v(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new oy(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(On(e,Wd),On(e,Wd+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const c=new iy(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=sy),c.value!==Sl&&l.value===c.value){if(!function I8(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],m=s.matchStyles(l.value,l.params,g),E=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{as(e,m),pr(e,E)})}return}const h=mn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(On(e,jN),o.onStart(()=>{Bo(e,jN)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let E=m.indexOf(o);E>=0&&m.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,zd,!0);r.forEach(i=>{if(i[zn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Sl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&gi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||sy,u=new iy(Sl),d=new oy(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[zn];(!s||s===$N)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){On(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=j_(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,U_(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class v8{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new y8(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(th(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!th(n))return;const s=n[zn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),On(e,ry)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bo(e,ry))}removeNode(e,n,r){if(th(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[zn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return th(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,zd,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,z_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[zn];if(n&&n.setForRemoval){if(e[zn]=$N,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(ry)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)On(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?gi(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function D4(t){return new v(3402,!1)}()}_flushAnimations(e,n){const r=new Jd,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const P=this.driver.query(O,".ng-animate-queued",!0);for(let L=0;L<P.length;L++)u.add(P[L])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=zN(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((O,P)=>{const L=W_+g++;p.set(P,L),O.forEach(ce=>On(ce,L))});const m=[],E=new Set,_=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const P=this.collectedLeaveElements[O],L=P[zn];L&&L.setForRemoval&&(m.push(P),E.add(P),L.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(ce=>E.add(ce)):_.add(P))}const T=new Map,N=zN(h,Array.from(E));N.forEach((O,P)=>{const L=Gd+g++;T.set(P,L),O.forEach(ce=>On(ce,L))}),e.push(()=>{f.forEach((O,P)=>{const L=p.get(P);O.forEach(ce=>Bo(ce,L))}),N.forEach((O,P)=>{const L=T.get(P);O.forEach(ce=>Bo(ce,L))}),m.forEach(O=>{this.processLeaveNode(O)})});const j=[],Ee=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(n).forEach(L=>{const ce=L.player,_t=L.element;if(j.push(ce),this.collectedEnterElements.length){const xt=_t[zn];if(xt&&xt.setForMove){if(xt.previousTriggersValues&&xt.previousTriggersValues.has(L.triggerName)){const Us=xt.previousTriggersValues.get(L.triggerName),Fn=this.statesByElement.get(L.element);if(Fn&&Fn.has(L.triggerName)){const Xf=Fn.get(L.triggerName);Xf.value=Us,Fn.set(L.triggerName,Xf)}}return void ce.destroy()}}const Tr=!d||!this.driver.containsElement(d,_t),Cn=T.get(_t),ji=p.get(_t),$e=this._buildInstruction(L,r,ji,Cn,Tr);if($e.errors&&$e.errors.length)return void Ee.push($e);if(Tr)return ce.onStart(()=>as(_t,$e.fromStyles)),ce.onDestroy(()=>pr(_t,$e.toStyles)),void i.push(ce);if(L.isFallbackTransition)return ce.onStart(()=>as(_t,$e.fromStyles)),ce.onDestroy(()=>pr(_t,$e.toStyles)),void i.push(ce);const SF=[];$e.timelines.forEach(xt=>{xt.stretchStartingKeyframe=!0,this.disabledNodes.has(xt.element)||SF.push(xt)}),$e.timelines=SF,r.append(_t,$e.timelines),o.push({instruction:$e,player:ce,element:_t}),$e.queriedElements.forEach(xt=>mn(a,xt,[]).push(ce)),$e.preStyleProps.forEach((xt,Us)=>{if(xt.size){let Fn=l.get(Us);Fn||l.set(Us,Fn=new Set),xt.forEach((Xf,iD)=>Fn.add(iD))}}),$e.postStyleProps.forEach((xt,Us)=>{let Fn=c.get(Us);Fn||c.set(Us,Fn=new Set),xt.forEach((Xf,iD)=>Fn.add(iD))})});if(Ee.length){const O=[];Ee.forEach(P=>{O.push(function b4(t,e){return new v(3505,!1)}())}),j.forEach(P=>P.destroy()),this.reportError(O)}const we=new Map,mt=new Map;o.forEach(O=>{const P=O.element;r.has(P)&&(mt.set(P,P),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,we))}),i.forEach(O=>{const P=O.element;this._getPreviousPlayers(P,!1,O.namespaceId,O.triggerName,null).forEach(ce=>{mn(we,P,[]).push(ce),ce.destroy()})});const It=m.filter(O=>KN(O,l,c)),En=new Map;WN(En,this.driver,_,c,jr).forEach(O=>{KN(O,l,c)&&It.push(O)});const Kc=new Map;f.forEach((O,P)=>{WN(Kc,this.driver,new Set(O),l,"!")}),It.forEach(O=>{const P=En.get(O),L=Kc.get(O);En.set(O,new Map([...P?.entries()??[],...L?.entries()??[]]))});const Bs=[],IF=[],TF={};o.forEach(O=>{const{element:P,player:L,instruction:ce}=O;if(r.has(P)){if(u.has(P))return L.onDestroy(()=>pr(P,ce.toStyles)),L.disabled=!0,L.overrideTotalTime(ce.totalTime),void i.push(L);let _t=TF;if(mt.size>1){let Cn=P;const ji=[];for(;Cn=Cn.parentNode;){const $e=mt.get(Cn);if($e){_t=$e;break}ji.push(Cn)}ji.forEach($e=>mt.set($e,_t))}const Tr=this._buildAnimation(L.namespaceId,ce,we,s,Kc,En);if(L.setRealPlayer(Tr),_t===TF)Bs.push(L);else{const Cn=this.playersByElement.get(_t);Cn&&Cn.length&&(L.parentPlayer=gi(Cn)),i.push(L)}}else as(P,ce.fromStyles),L.onDestroy(()=>pr(P,ce.toStyles)),IF.push(L),u.has(P)&&i.push(L)}),IF.forEach(O=>{const P=s.get(O.element);if(P&&P.length){const L=gi(P);O.setRealPlayer(L)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<m.length;O++){const P=m[O],L=P[zn];if(Bo(P,Gd),L&&L.hasAnimation)continue;let ce=[];if(a.size){let Tr=a.get(P);Tr&&Tr.length&&ce.push(...Tr);let Cn=this.driver.query(P,z_,!0);for(let ji=0;ji<Cn.length;ji++){let $e=a.get(Cn[ji]);$e&&$e.length&&ce.push(...$e)}}const _t=ce.filter(Tr=>!Tr.destroyed);_t.length?D8(this,P,_t):this.processLeaveNode(P)}return m.length=0,Bs.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const P=this.players.indexOf(O);this.players.splice(P,1)}),O.play()}),Bs}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Sl;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,u=c!==s,d=mn(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}as(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;u.add(g);const m=g[zn];if(m&&m.removedBeforeQueried)return new Dl(p.duration,p.delay);const E=g!==l,_=function b8(t){const e=[];return qN(t,e),e}((r.get(g)||m8).map(we=>we.getRealPlayer())).filter(we=>!!we.element&&we.element===g),T=s.get(g),N=o.get(g),j=DN(this._normalizer,p.keyframes,T,N),Ee=this._buildPlayer(p,j,_);if(p.subTimeline&&i&&d.add(g),E){const we=new oy(e,a,g);we.setRealPlayer(Ee),c.push(we)}return Ee});c.forEach(p=>{mn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function E8(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>On(p,NN));const f=gi(h);return f.onDestroy(()=>{u.forEach(p=>Bo(p,NN)),pr(l,n.toStyles)}),d.forEach(p=>{mn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Dl(e.duration,e.delay)}}class oy{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Dl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>U_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){mn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function th(t){return t&&1===t.nodeType}function GN(t,e){const n=t.style.display;return t.style.display=e??"none",n}function WN(t,e,n,r,i){const s=[];n.forEach(l=>s.push(GN(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[zn]=_8,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>GN(l,s[a++])),o}function zN(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function On(t,e){t.classList?.add(e)}function Bo(t,e){t.classList?.remove(e)}function D8(t,e,n){gi(n).onDone(()=>t.processLeaveNode(e))}function qN(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof CN?qN(r.players,e):e.push(r)}}function KN(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class nh{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new v8(e,n,r),this._timelineEngine=new d8(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=Y_(this._driver,s,l,[]);if(l.length)throw function f4(t,e){return new v(3404,!1)}();a=function a8(t,e,n){return new l8(t,e,n)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=bN(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=bN(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let S8=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&pr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pr(this._element,this._initialStyles),this._endStyles&&(pr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(as(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(as(this._element,this._endStyles),this._endStyles=null),pr(this._element,this._initialStyles),this._state=3)}}return t})();function ay(t){let e=null;return t.forEach((n,r)=>{(function A8(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class QN{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:kN(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class M8{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return TN(e,n)}getParentElement(e){return $_(e)}query(e,n,r){return SN(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof QN);(function F4(t,e){return 0===t||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function P4(t){return t.length?t[0]instanceof Map?t:t.map(e=>RN(e)):[]}(n).map(f=>mi(f));d=function L4(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,kN(t,a)))}}return e}(e,d,c);const h=function T8(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ay(e[0]),e.length>1&&(r=ay(e[e.length-1]))):e instanceof Map&&(n=ay(e)),n||r?new S8(t,n,r):null}(e,d);return new QN(e,d,l,h)}}let N8=(()=>{class t extends _N{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:bn.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?vN(n):n;return YN(this._renderer,null,r,"register",[i]),new R8(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Xi),b(Qe))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();class R8 extends Gq{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new O8(this._id,e,n||{},this._renderer)}}class O8{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return YN(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function YN(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const ZN="@.disabled";let P8=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new JN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,n,u.name,u)};return r.data.animation.forEach(l),new k8(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Xi),b(nh),b(ie))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();class JN{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==ZN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class k8 extends JN{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==ZN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function x8(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function F8(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}const U8=[{provide:G_,useFactory:()=>new M8},{provide:oT,useValue:"BrowserAnimations"},...[{provide:_N,useClass:N8},{provide:ty,useFactory:function V8(){return new r8}},{provide:nh,useClass:(()=>{class t extends nh{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(b(Qe),b(G_),b(ty),b(fr))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})()},{provide:Xi,useFactory:function B8(t,e,n){return new P8(t,e,n)},deps:[k_,nh,ie]}]];function j8(){return[...U8]}const{isArray:$8}=Array,{getPrototypeOf:G8,prototype:W8,keys:z8}=Object;function eR(t){if(1===t.length){const e=t[0];if($8(e))return{args:e,keys:null};if(function q8(t){return t&&"object"==typeof t&&G8(t)===W8}(e)){const n=z8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:K8}=Array;function ly(t){return De(e=>function Q8(t,e){return K8(e)?t(...e):t(e)}(t,e))}function tR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let nR=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(fn),C(Ke))};static#t=this.\u0275dir=k({type:t})}return t})(),cs=(()=>{class t extends nR{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275dir=k({type:t,features:[ye]})}return t})();const gr=new R("NgValueAccessor"),J8={provide:gr,useExisting:Te(()=>Al),multi:!0},e6=new R("CompositionEventMode");let Al=(()=>{class t extends nR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function X8(){const t=fi()?fi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(fn),C(Ke),C(e6,8))};static#t=this.\u0275dir=k({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&le("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[xe([J8]),ye]})}return t})();const Nt=new R("NgValidators"),yi=new R("NgAsyncValidators");function fR(t){return null!=t}function pR(t){return sl(t)?dt(t):t}function gR(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function mR(t,e){return e.map(n=>n(t))}function _R(t){return t.map(e=>function n6(t){return!t.validate}(e)?e:n=>e.validate(n))}function cy(t){return null!=t?function yR(t){if(!t)return null;const e=t.filter(fR);return 0==e.length?null:function(n){return gR(mR(n,e))}}(_R(t)):null}function uy(t){return null!=t?function vR(t){if(!t)return null;const e=t.filter(fR);return 0==e.length?null:function(n){return function Y8(...t){const e=TD(t),{args:n,keys:r}=eR(t),i=new Be(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Kt(n[u]).subscribe(Ze(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?tR(r,a):a),s.complete())}))}});return e?i.pipe(ly(e)):i}(mR(n,e).map(pR)).pipe(De(gR))}}(_R(t)):null}function ER(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CR(t){return t._rawValidators}function wR(t){return t._rawAsyncValidators}function dy(t){return t?Array.isArray(t)?t:[t]:[]}function sh(t,e){return Array.isArray(t)?t.includes(e):t===e}function DR(t,e){const n=dy(e);return dy(t).forEach(i=>{sh(n,i)||n.push(i)}),n}function bR(t,e){return dy(e).filter(n=>!sh(t,n))}class IR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class zt extends IR{get formDirective(){return null}get path(){return null}}class vi extends IR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class TR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hy=(()=>{class t extends TR{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(vi,2))};static#t=this.\u0275dir=k({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&hd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ye]})}return t})(),SR=(()=>{class t extends TR{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(zt,10))};static#t=this.\u0275dir=k({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&hd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ye]})}return t})();const Ml="VALID",ah="INVALID",Uo="PENDING",Nl="DISABLED";function gy(t){return(lh(t)?t.validators:t)||null}function my(t,e){return(lh(e)?e.asyncValidators:t)||null}function lh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class RR{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ml}get invalid(){return this.status===ah}get pending(){return this.status==Uo}get disabled(){return this.status===Nl}get enabled(){return this.status!==Nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bR(e,this._rawAsyncValidators))}hasValidator(e){return sh(this._rawValidators,e)}hasAsyncValidator(e){return sh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Uo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Nl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ml,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ml||this.status===Uo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nl:Ml}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Uo,this._hasOwnPendingAsyncValidator=!0;const n=pR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Q,this.statusChanges=new Q}_calculateStatus(){return this._allControlsDisabled()?Nl:this.errors?ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uo)?Uo:this._anyControlsHaveStatus(ah)?ah:Ml}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function o6(t){return Array.isArray(t)?cy(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function a6(t){return Array.isArray(t)?uy(t):t||null}(this._rawAsyncValidators)}}class Rl extends RR{constructor(e,n,r){super(gy(n),my(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function NR(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new v(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function MR(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new v(1e3,"");if(!r[n])throw new v(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const us=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Ol}),Ol="always";function ch(t,e){return[...e.path,t]}function Pl(t,e,n=Ol){_y(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function u6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&OR(t,e)})}(t,e),function h6(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function d6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&OR(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function c6(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function uh(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),hh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function dh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _y(t,e){const n=CR(t);null!==e.validator?t.setValidators(ER(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=wR(t);null!==e.asyncValidator?t.setAsyncValidators(ER(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();dh(e._rawValidators,i),dh(e._rawAsyncValidators,i)}function hh(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=CR(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=wR(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return dh(e._rawValidators,r),dh(e._rawAsyncValidators,r),n}function OR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vy(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Ey(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Al?n=s:function g6(t){return Object.getPrototypeOf(t.constructor)===cs}(s)?r=s:i=s}),i||r||n||null}function xR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function FR(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ds=class extends RR{constructor(e=null,n,r){super(gy(n),my(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=FR(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){FR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},E6={provide:vi,useExisting:Te(()=>wy)},BR=(()=>Promise.resolve())();let wy=(()=>{class t extends vi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new ds,this._registered=!1,this.name="",this.update=new Q,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ey(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),vy(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){BR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Lo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);BR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ch(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(C(zt,9),C(Nt,10),C(yi,10),C(gr,10),C(Td,8),C(us,8))};static#t=this.\u0275dir=k({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xe([E6]),ye,ln]})}return t})(),UR=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=k({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),jR=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({})}return t})();const Dy=new R("NgModelWithFormControlWarning"),T6={provide:zt,useExisting:Te(()=>fh)};let fh=(()=>{class t extends zt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Q,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Pl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){uh(n.control||null,n,!1),function m6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function kR(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(uh(r||null,n),(t=>t instanceof ds)(i)&&(Pl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function PR(t,e){_y(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function f6(t,e){return hh(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_y(this.form,this),this._oldForm&&hh(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(C(Nt,10),C(yi,10),C(us,8))};static#t=this.\u0275dir=k({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&le("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xe([T6]),ye,ln]})}return t})();const M6={provide:vi,useExisting:Te(()=>Ty)};let Ty=(()=>{class t extends vi{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Q,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ey(0,s)}ngOnChanges(n){this._added||this._setUpControl(),vy(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ch(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(C(zt,13),C(Nt,10),C(yi,10),C(gr,10),C(Dy,8))};static#n=this.\u0275dir=k({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xe([M6]),ye,ln]})}return t})(),iO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({imports:[jR]})}return t})(),W6=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:us,useValue:n.callSetDisabledState??Ol}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({imports:[iO]})}return t})(),z6=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Dy,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:us,useValue:n.callSetDisabledState??Ol}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({imports:[iO]})}return t})();function Ny(...t){const e=_a(t),n=TD(t),{args:r,keys:i}=eR(t);if(0===r.length)return dt([],e);const s=new Be(function K6(t,e,n=ti){return r=>{sO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)sO(e,()=>{const c=dt(t[l],e);let u=!1;c.subscribe(Ze(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>tR(i,o):ti));return n?s.pipe(ly(n)):s}function sO(t,e,n){t?Sr(n,t,e):e()}const ph=ga(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ry(...t){return function Q6(){return js(1)}()(dt(t,_a(t)))}function oO(t){return new Be(e=>{Kt(t()).subscribe(e)})}function xl(t,e){const n=re(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function Oy(){return rt((t,e)=>{let n=null;t._refCount++;const r=Ze(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class aO extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ft;const n=this.getSubject();e.add(this.source.subscribe(Ze(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ft.EMPTY)}return e}refCount(){return Oy()(this)}}function fs(t){return t<=0?()=>Jn:rt((e,n)=>{let r=0;e.subscribe(Ze(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ei(t,e){return rt((n,r)=>{let i=0;n.subscribe(Ze(r,s=>t.call(e,s,i++)&&r.next(s)))})}function gh(t){return rt((e,n)=>{let r=!1;e.subscribe(Ze(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function lO(t=Z6){return rt((e,n)=>{let r=!1;e.subscribe(Ze(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Z6(){return new ph}function ps(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ei((i,s)=>t(i,s,r)):ti,fs(1),n?gh(e):lO(()=>new ph))}function Fl(t,e){return re(e)?ut(t,e,1):ut(t,1)}function Rt(t,e,n){const r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?rt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ze(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ti}function gs(t){return rt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ze(n,void 0,void 0,o=>{s=Kt(t(o,gs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Py(t){return t<=0?()=>Jn:rt((e,n)=>{let r=[];e.subscribe(Ze(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ky(t){return rt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const K="primary",Ll=Symbol("RouteTitle");class r5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ho(t){return new r5(t)}function i5(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!cO(t[i],e[i]))return!1;return!0}function cO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function uO(t){return t.length>0?t[t.length-1]:null}function Ci(t){return function q6(t){return!!t&&(t instanceof Be||re(t.lift)&&re(t.subscribe))}(t)?t:sl(t)?dt(Promise.resolve(t)):U(t)}const o5={exact:function fO(t,e,n){if(!ms(t.segments,e.segments)||!mh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!fO(t.children[r],e.children[r],n))return!1;return!0},subset:pO},dO={exact:function a5(t,e){return mr(t,e)},subset:function l5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cO(t[n],e[n]))},ignored:()=>!0};function hO(t,e,n){return o5[n.paths](t.root,e.root,n.matrixParams)&&dO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function pO(t,e,n){return gO(t,e,e.segments,n)}function gO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ms(i,n)||e.hasChildren()||!mh(i,n,r))}if(t.segments.length===n.length){if(!ms(t.segments,n)||!mh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!pO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ms(t.segments,i)&&mh(t.segments,i,r)&&t.children[K])&&gO(t.children[K],e,s,r)}}function mh(t,e,n){return e.every((r,i)=>dO[n](t[i].parameters,r.parameters))}class jo{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return d5.serialize(this)}}class ve{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _h(this)}}class Vl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ho(this.parameters)),this._parameterMap}toString(){return yO(this)}}function ms(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Bl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(){return new xy},providedIn:"root"})}return t})();class xy{parse(e){const n=new w5(e);return new jo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ul(e.root,!0)}`,r=function p5(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${yh(n)}=${yh(i)}`).join("&"):`${yh(n)}=${yh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function h5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const d5=new xy;function _h(t){return t.segments.map(e=>yO(e)).join("/")}function Ul(t,e){if(!t.hasChildren())return _h(t);if(e){const n=t.children[K]?Ul(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Ul(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function u5(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===K?[Ul(t.children[K],!1)]:[`${i}:${Ul(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[K]?`${_h(t)}/${n[0]}`:`${_h(t)}/(${n.join("//")})`}}function mO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yh(t){return mO(t).replace(/%3B/gi,";")}function Fy(t){return mO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(t){return decodeURIComponent(t)}function _O(t){return vh(t.replace(/\+/g,"%20"))}function yO(t){return`${Fy(t.path)}${function f5(t){return Object.keys(t).map(e=>`;${Fy(e)}=${Fy(t[e])}`).join("")}(t.parameters)}`}const g5=/^[^\/()?;#]+/;function Ly(t){const e=t.match(g5);return e?e[0]:""}const m5=/^[^\/()?;=#]+/,y5=/^[^=?&#]+/,E5=/^[^&#]+/;class w5{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new ve(e,n)),r}parseSegment(){const e=Ly(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new v(4009,!1);return this.capture(e),new Vl(vh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function _5(t){const e=t.match(m5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ly(this.remaining);i&&(r=i,this.capture(r))}e[vh(n)]=vh(r)}parseQueryParam(e){const n=function v5(t){const e=t.match(y5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function C5(t){const e=t.match(E5);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=_O(n),s=_O(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ly(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new v(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[K]:new ve([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new v(4011,!1)}}function vO(t){return t.segments.length>0?new ve([],{[K]:t}):t}function EO(t){const e={};for(const r of Object.keys(t.children)){const s=EO(t.children[r]);if(r===K&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function D5(t){if(1===t.numberOfChildren&&t.children[K]){const e=t.children[K];return new ve(t.segments.concat(e.segments),e.children)}return t}(new ve(t.segments,e))}function _s(t){return t instanceof jo}function CO(t){let e;const i=vO(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new ve(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function wO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Vy(i,i,i,n,r);const s=function I5(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new bO(n,e,r)}(e);if(s.toRoot())return Vy(i,i,new ve([],{}),n,r);const o=function T5(t,e,n){if(t.isAbsolute)return new Ch(e,!0,0);if(!n)return new Ch(e,!1,NaN);if(null===n.parent)return new Ch(n,!0,0);const r=Eh(t.commands[0])?0:1;return function S5(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new v(4005,!1);i=r.segments.length}return new Ch(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?jl(o.segmentGroup,o.index,s.commands):IO(o.segmentGroup,o.index,s.commands);return Vy(i,o.segmentGroup,a,n,r)}function Eh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hl(t){return"object"==typeof t&&null!=t&&t.outlets}function Vy(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=t===e?n:DO(t,e,n);const a=vO(EO(o));return new jo(a,s,i)}function DO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:DO(s,e,n)}),new ve(t.segments,r)}class bO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Eh(r[0]))throw new v(4003,!1);const i=r.find(Hl);if(i&&i!==uO(r))throw new v(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ch{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function IO(t,e,n){if(t||(t=new ve([],{})),0===t.segments.length&&t.hasChildren())return jl(t,e,n);const r=function M5(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Hl(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!SO(l,c,o))return s;r+=2}else{if(!SO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ve(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new ve(t.segments.slice(r.pathIndex),t.children),jl(s,0,i)}return r.match&&0===i.length?new ve(t.segments,{}):r.match&&!t.hasChildren()?By(t,e,n):r.match?jl(t,0,i):By(t,e,n)}function jl(t,e,n){if(0===n.length)return new ve(t.segments,{});{const r=function A5(t){return Hl(t[0])?t[0].outlets:{[K]:t}}(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&1===t.numberOfChildren&&0===t.children[K].segments.length){const s=jl(t.children[K],e,n);return new ve(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=IO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ve(t.segments,i)}}function By(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Hl(s)){const l=N5(s.outlets);return new ve(r,l)}if(0===i&&Eh(n[0])){r.push(new Vl(t.segments[e].path,TO(n[0]))),i++;continue}const o=Hl(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Eh(a)?(r.push(new Vl(o,TO(a))),i+=2):(r.push(new Vl(o,{})),i++)}return new ve(r,{})}function N5(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=By(new ve([],{}),0,r))}),e}function TO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function SO(t,e,n){return t==n.path&&mr(e,n.parameters)}const $l="imperative";class _r{constructor(e,n){this.id=e,this.url=n}}class wh extends _r{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wi extends _r{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gl extends _r{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $o extends _r{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Dh extends _r{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AO extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R5 extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O5 extends _r{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class P5 extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k5 extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class F5{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class L5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B5{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Uy{}class Hy{constructor(e){this.url=e}}class H5{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wl,this.attachRef=null}}let Wl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new H5,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class NO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=jy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=jy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=$y(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $y(e,this._root).map(n=>n.value)}}function jy(t,e){if(t===e.value)return e;for(const n of e.children){const r=jy(t,n);if(r)return r}return null}function $y(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$y(t,n);if(r.length)return r.unshift(e),r}return[]}class Gr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Go(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class RO extends NO{constructor(e,n){super(e),this.snapshot=n,Gy(this,e)}toString(){return this.snapshot.toString()}}function OO(t,e){const n=function j5(t,e){const o=new bh([],{},{},"",{},K,e,null,{});return new kO("",new Gr(o,[]))}(0,e),r=new wn([new Vl("",{})]),i=new wn({}),s=new wn({}),o=new wn({}),a=new wn(""),l=new Wo(r,i,o,a,s,K,e,n.root);return l.snapshot=n.root,new RO(new Gr(l,[]),n)}class Wo{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(c=>c[Ll]))??U(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(e=>Ho(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(e=>Ho(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function $5(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class bh{get title(){return this.data?.[Ll]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ho(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kO extends NO{constructor(e,n){super(n),this.url=e,Gy(this,n)}toString(){return xO(this._root)}}function Gy(t,e){e.value._routerState=t,e.children.forEach(n=>Gy(t,n))}function xO(t){const e=t.children.length>0?` { ${t.children.map(xO).join(", ")} } `:"";return`${t.value}${e}`}function Wy(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mr(e.params,n.params)||t.paramsSubject.next(n.params),function s5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),mr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zy(t,e){const n=mr(t.params,e.params)&&function c5(t,e){return ms(t,e)&&t.every((n,r)=>mr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||zy(t.parent,e.parent))}let qy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Q,this.deactivateEvents=new Q,this.attachEvents=new Q,this.detachEvents=new Q,this.parentContexts=S(Wl),this.location=S($n),this.changeDetector=S(Td),this.environmentInjector=S(An),this.inputBinder=S(Ih,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new v(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new G5(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=k({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ln]})}return t})();class G5{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Wo?this.route:e===Wl?this.childContexts:this.parent.get(e,n)}}const Ih=new R("");let FO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Ny([r.queryParams,r.params,r.data]).pipe(Xn(([s,o,a],l)=>(a={...s,...o,...a},0===l?U(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function E3(t){const e=se(t);if(!e)return null;const n=new Ja(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function zl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function z5(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zl(t,r,i);return zl(t,r)})}(t,e,n);return new Gr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zl(t,a)),o}}const r=function q5(t){return new Wo(new wn(t.url),new wn(t.params),new wn(t.queryParams),new wn(t.fragment),new wn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>zl(t,s));return new Gr(r,i)}}const Ky="ngNavigationCancelingError";function LO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=_s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function VO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Ky]=!0,r.cancellationCode=e,n&&(r.url=n),r}function BO(t){return t&&t[Ky]}let UO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=In({type:t,selectors:[["ng-component"]],standalone:!0,features:[vd],decls:1,vars:0,template:function(r,i){1&r&&Je(0,"router-outlet")},dependencies:[qy],encapsulation:2})}return t})();function Qy(t){const e=t.children&&t.children.map(Qy),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=UO),n}function qn(t){return t.outlet||K}function ql(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class tK{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Wy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Go(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Go(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Go(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Go(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new U5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new V5(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Wy(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Wy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ql(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class HO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Th{constructor(e,n){this.component=e,this.route=n}}function nK(t,e,n){const r=t._root;return Kl(r,e?e._root:null,n,[r.value])}function zo(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function OL(t){return null!==tu(t)}(t)?e.get(t):t:r}function Kl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Go(e);return t.children.forEach(o=>{(function iK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function sK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ms(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(t.url,e.url)||!mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zy(t,e)||!mr(t.queryParams,e.queryParams);default:return!zy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new HO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Kl(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Th(a.outlet.component,o))}else o&&Ql(e,a,i),i.canActivateChecks.push(new HO(r)),Kl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ql(a,n.getContext(o),i)),i}function Ql(t,e,n){const r=Go(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Ql(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Th(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yl(t){return"function"==typeof t}function jO(t){return t instanceof ph||"EmptyError"===t?.name}const Sh=Symbol("INITIAL_VALUE");function qo(){return Xn(t=>Ny(t.map(e=>e.pipe(fs(1),function Y6(...t){const e=_a(t);return rt((n,r)=>{(e?Ry(t,n,e):Ry(t,n)).subscribe(r)})}(Sh)))).pipe(De(e=>{for(const n of e)if(!0!==n){if(n===Sh)return Sh;if(!1===n||n instanceof jo)return n}return!0}),Ei(e=>e!==Sh),fs(1)))}function $O(t){return function FF(...t){return cD(t)}(Rt(e=>{if(_s(e))throw LO(0,e)}),De(e=>!0===e))}class Ah{constructor(e){this.segmentGroup=e||null}}class GO{constructor(e){this.urlTree=e}}function Ko(t){return xl(new Ah(t))}function WO(t){return xl(new GO(t))}class IK{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new v(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[K])return xl(new v(4e3,!1));i=i.children[K]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new jo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ve(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new v(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Yy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TK(t,e,n,r,i){const s=Zy(t,e,n);return s.matched?(r=function Q5(t,e){return t.providers&&!t._injector&&(t._injector=Nm(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function wK(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?U(i.map(o=>{const a=zo(o,t);return Ci(function dK(t){return t&&Yl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(qo(),$O()):U(!0)}(r,e,n).pipe(De(o=>!0===o?s:{...Yy}))):U(s)}function Zy(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Yy}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||i5)(n,t,e);if(!i)return{...Yy};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function zO(t,e,n,r){return n.length>0&&function MK(t,e,n){return n.some(r=>Mh(t,e,r)&&qn(r)!==K)}(t,n,r)?{segmentGroup:new ve(e,AK(r,new ve(n,t.children))),slicedSegments:[]}:0===n.length&&function NK(t,e,n){return n.some(r=>Mh(t,e,r))}(t,n,r)?{segmentGroup:new ve(t.segments,SK(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function SK(t,e,n,r,i){const s={};for(const o of r)if(Mh(t,n,o)&&!i[qn(o)]){const a=new ve([],{});s[qn(o)]=a}return{...i,...s}}function AK(t,e){const n={};n[K]=e;for(const r of t)if(""===r.path&&qn(r)!==K){const i=new ve([],{});n[qn(r)]=i}return n}function Mh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class kK{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new IK(this.urlSerializer,this.urlTree)}noMatchError(e){return new v(4002,!1)}recognize(){const e=zO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,K).pipe(gs(n=>{if(n instanceof GO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Ah?this.noMatchError(n):n}),De(n=>{const r=new bh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new Gr(r,n),s=new kO("",i),o=function b5(t,e,n=null,r=null){return wO(CO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,K).pipe(gs(r=>{throw r instanceof Ah?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=PO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dt(i).pipe(Fl(s=>{const o=r.children[s],a=function X5(t,e){const n=t.filter(r=>qn(r)===e);return n.push(...t.filter(r=>qn(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function X6(t,e){return rt(function J6(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(Ze(o,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),gh(null),function e5(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ei((i,s)=>t(i,s,r)):ti,Py(1),n?gh(e):lO(()=>new ph))}(),ut(s=>{if(null===s)return Ko(r);const o=qO(s);return function xK(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}(o),U(o)}))}processSegment(e,n,r,i,s,o){return dt(n).pipe(Fl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(gs(l=>{if(l instanceof Ah)return U(null);throw l}))),ps(a=>!!a),gs(a=>{if(jO(a))return function OK(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?U([]):Ko(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function RK(t,e,n,r){return!!(qn(t)===r||r!==K&&Mh(e,n,t))&&("**"===t.path||Zy(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ko(i):Ko(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?WO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(ut(o=>{const a=new ve(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Zy(n,i,s);if(!a)return Ko(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?WO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(ut(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?uO(i).parameters:{};a=U({snapshot:new bh(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KO(r),qn(r),r.component??r._loadedComponent??null,r,QO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=TK(n,r,i,e).pipe(De(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new bh(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KO(r),qn(r),r.component??r._loadedComponent??null,r,QO(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Xn(l=>null===l?Ko(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Xn(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=zO(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(De(E=>null===E?null:[new Gr(d,E)]));if(0===c.length&&0===g.length)return U([new Gr(d,[])]);const m=qn(r)===s;return this.processSegment(u,c,p,g,m?K:s,!0).pipe(De(E=>[new Gr(d,E)]))}))))}getChildConfig(e,n,r){return n.children?U({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?U({routes:n._loadedRoutes,injector:n._loadedInjector}):function CK(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?U(!0):U(i.map(o=>{const a=zo(o,t);return Ci(function aK(t){return t&&Yl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(qo(),$O())}(e,n,r).pipe(ut(i=>i?this.configLoader.loadChildren(e,n).pipe(Rt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function bK(t){return xl(VO(!1,3))}())):U({routes:[],injector:e})}}function FK(t){const e=t.value.routeConfig;return e&&""===e.path}function qO(t){const e=[],n=new Set;for(const r of t){if(!FK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=qO(r.children);e.push(new Gr(r.value,i))}return e.filter(r=>!n.has(r))}function KO(t){return t.data||{}}function QO(t){return t.resolve||{}}function YO(t){return"string"==typeof t.title||null===t.title}function Jy(t){return Xn(e=>{const n=t(e);return n?dt(n).pipe(De(()=>e)):U(e)})}const Qo=new R("ROUTES");let Xy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(G0)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return U(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ci(n.loadComponent()).pipe(De(ZO),Rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ky(()=>{this.componentLoaders.delete(n)})),i=new aO(r,()=>new nt).pipe(Oy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function $K(t,e,n,r){return Ci(t.loadChildren()).pipe(De(ZO),ut(i=>i instanceof YA||Array.isArray(i)?U(i):dt(e.compileModuleAsync(i))),De(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Qo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qy),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ky(()=>{this.childrenLoaders.delete(r)})),o=new aO(s,()=>new nt).pipe(Oy());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZO(t){return function GK(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Nh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=S(Xy),this.environmentInjector=S(An),this.urlSerializer=S(Bl),this.rootContexts=S(Wl),this.inputBindingEnabled=null!==S(Ih,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>U(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new F5(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new x5(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new wn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$l,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(s=>0!==s.id),De(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Xn(s=>{this.currentTransition=s;let o=!1,a=!1;return U(s).pipe(Rt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xn(l=>{const c=l.currentBrowserUrl.toString(),u=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new $o(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Jn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return U(l).pipe(Xn(h=>{const f=this.transitions?.getValue();return this.events.next(new wh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Jn:Promise.resolve(h)}),function LK(t,e,n,r,i,s){return ut(o=>function PK(t,e,n,r,i,s,o="emptyOnly"){return new kK(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(De(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Rt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new AO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=l,E=new wh(h,this.urlSerializer.serialize(f),p,g);this.events.next(E);const _=OO(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},U(s)}{const h="";return this.events.next(new $o(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Jn}}),Rt(l=>{const c=new R5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),De(l=>(this.currentTransition=s={...l,guards:nK(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function fK(t,e){return ut(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?U({...n,guardsResult:!0}):function pK(t,e,n,r){return dt(t).pipe(ut(i=>function EK(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?U(s.map(a=>{const l=ql(e)??i,c=zo(a,l);return Ci(function uK(t){return t&&Yl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(ps())})).pipe(qo()):U(!0)}(i.component,i.route,n,e,r)),ps(i=>!0!==i,!0))}(o,r,i,t).pipe(ut(a=>a&&function oK(t){return"boolean"==typeof t}(a)?function gK(t,e,n,r){return dt(e).pipe(Fl(i=>Ry(function _K(t,e){return null!==t&&e&&e(new L5(t)),U(!0)}(i.route.parent,r),function mK(t,e){return null!==t&&e&&e(new B5(t)),U(!0)}(i.route,r),function vK(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function rK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>oO(()=>U(o.guards.map(l=>{const c=ql(o.node)??n,u=zo(l,c);return Ci(function cK(t){return t&&Yl(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(ps())})).pipe(qo())));return U(s).pipe(qo())}(t,i.path,n),function yK(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(s=>oO(()=>{const o=ql(e)??n,a=zo(s,o);return Ci(function lK(t){return t&&Yl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ps())}));return U(i).pipe(qo())}(t,i.route,n))),ps(i=>!0!==i,!0))}(r,s,t,e):U(a)),De(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Rt(l=>{if(s.guardsResult=l.guardsResult,_s(l.guardsResult))throw LO(0,l.guardsResult);const c=new O5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ei(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Jy(l=>{if(l.guards.canActivateChecks.length)return U(l).pipe(Rt(c=>{const u=new P5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Xn(c=>{let u=!1;return U(c).pipe(function VK(t,e){return ut(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let s=0;return dt(i).pipe(Fl(o=>function BK(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!YO(i)&&(s[Ll]=i.title),function UK(t,e,n,r){const i=function HK(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return U({});const s={};return dt(i).pipe(ut(o=>function jK(t,e,n,r){const i=ql(e)??r,s=zo(t,i);return Ci(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ps(),Rt(a=>{s[o]=a}))),Py(1),function t5(t){return De(()=>t)}(s),gs(o=>jO(o)?Jn:xl(o)))}(s,t,e,r).pipe(De(o=>(t._resolvedData=o,t.data=PO(t,n).resolve,i&&YO(i)&&(t.data[Ll]=i.title),null)))}(o.route,r,t,e)),Rt(()=>s++),Py(1),ut(o=>s===i.length?U(n):Jn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Rt(c=>{const u=new k5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Jy(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Rt(h=>{u.component=h}),De(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Ny(c(l.targetSnapshot.root)).pipe(gh(),fs(1))}),Jy(()=>this.afterPreactivation()),De(l=>{const c=function W5(t,e,n){const r=zl(t,e._root,n?n._root:void 0);return new RO(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Rt(()=>{this.events.next(new Uy)}),((t,e,n,r)=>De(i=>(new tK(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fs(1),Rt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function n5(t){return rt((e,n)=>{Kt(t).subscribe(Ze(n,()=>n.complete(),ep)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Rt(l=>{throw l}))),ky(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),gs(l=>{if(a=!0,BO(l))this.events.next(new Gl(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function K5(t){return BO(t)&&_s(t.url)}(l)?this.events.next(new Hy(l.url)):s.resolve(!1);else{this.events.next(new Dh(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(c){s.reject(c)}}return Jn}))}))}cancelNavigationTransition(n,r,i){const s=new Gl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JO(t){return t!==$l}let XO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===K);return r}getResolvedTitleForRoute(n){return n.data[Ll]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(){return S(WK)},providedIn:"root"})}return t})(),WK=(()=>{class t extends XO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(b(dN))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(){return S(KK)},providedIn:"root"})}return t})();class qK{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let KK=(()=>{class t extends qK{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Rh=new R("",{providedIn:"root",factory:()=>({})});let QK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:function(){return S(YK)},providedIn:"root"})}return t})(),YK=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zl||{});function eP(t,e){t.events.pipe(Ei(n=>n instanceof wi||n instanceof Gl||n instanceof Dh||n instanceof $o),De(n=>n instanceof wi||n instanceof $o?Zl.COMPLETE:n instanceof Gl&&(0===n.code||1===n.code)?Zl.REDIRECTING:Zl.FAILED),Ei(n=>n!==Zl.REDIRECTING),fs(1)).subscribe(()=>{e()})}function ZK(t){throw t}function JK(t,e,n){return e.parse("/")}const XK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S(j0),this.isNgZoneEnabled=!1,this._events=new nt,this.options=S(Rh,{optional:!0})||{},this.pendingTasks=S($0),this.errorHandler=this.options.errorHandler||ZK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||JK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S(QK),this.routeReuseStrategy=S(zK),this.titleStrategy=S(XO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S(Qo,{optional:!0})?.flat()??[],this.navigationTransitions=S(Nh),this.urlSerializer=S(Bl),this.location=S(h_),this.componentInputBindingEnabled=!!S(Ih,{optional:!0}),this.eventsSubscription=new Ft,this.isNgZoneEnabled=S(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(tP(r)&&this._events.next(r));if(r instanceof wh)JO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof $o)this.rawUrlTree=i.rawUrl;else if(r instanceof AO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Uy)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Gl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Hy){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JO(i.source)};this.scheduleNavigation(s,$l,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Dh&&this.restoreHistory(i,!0),r instanceof wi&&(this.navigated=!0),tP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$l,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Qy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=CO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return wO(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=_s(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$l,null,r)}navigate(n,r={skipLocationChange:!1}){return function t7(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new v(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...XK}:!1===r?{...e7}:r,_s(n))return hO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return hO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return eP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tP(t){return!(t instanceof Uy||t instanceof Hy)}class nP{}let i7=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(n=>n instanceof wi),Fl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Nm(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return dt(i).pipe(js())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):U(null);const s=i.pipe(ut(o=>null===o?U(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?dt([s,this.loader.loadComponent(r)]).pipe(js()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Pn),b(G0),b(An),b(nP),b(Xy))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tv=new R("");let rP=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof wi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $o&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof MO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function LT(){throw new Error("invalid")}()};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function Wr(t,e){return{\u0275kind:t,\u0275providers:e}}function sP(){const t=S(ot);return e=>{const n=t.get(fr);if(e!==n.components[0])return;const r=t.get(Pn),i=t.get(oP);1===t.get(nv)&&r.initialNavigation(),t.get(aP,null,te.Optional)?.setUpPreloading(),t.get(tv,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oP=new R("",{factory:()=>new nt}),nv=new R("",{providedIn:"root",factory:()=>1}),aP=new R("");function l7(t){return Wr(0,[{provide:aP,useExisting:i7},{provide:nP,useExisting:t}])}const lP=new R("ROUTER_FORROOT_GUARD"),u7=[h_,{provide:Bl,useClass:xy},Pn,Wl,{provide:Wo,useFactory:function iP(t){return t.routerState.root},deps:[Pn]},Xy,[]];function d7(){return new Z0("Router",Pn)}let cP=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[u7,[],{provide:Qo,multi:!0,useValue:n},{provide:lP,useFactory:g7,deps:[[Pn,new Iu,new Tu]]},{provide:Rh,useValue:r||{}},r?.useHash?{provide:ss,useClass:I3}:{provide:ss,useClass:SM},{provide:tv,useFactory:()=>{const t=S($z),e=S(ie),n=S(Rh),r=S(Nh),i=S(Bl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new rP(i,r,t,e,n)}},r?.preloadingStrategy?l7(r.preloadingStrategy).\u0275providers:[],{provide:Z0,multi:!0,useFactory:d7},r?.initialNavigation?m7(r):[],r?.bindToComponentInputs?Wr(8,[FO,{provide:Ih,useExisting:FO}]).\u0275providers:[],[{provide:uP,useFactory:sP},{provide:n_,multi:!0,useExisting:uP}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Qo,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(b(lP,8))};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({})}return t})();function g7(t){return"guarded"}function m7(t){return["disabled"===t.initialNavigation?Wr(3,[{provide:Km,multi:!0,useFactory:()=>{const e=S(Pn);return()=>{e.setUpLocationChangeListener()}}},{provide:nv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Wr(2,[{provide:nv,useValue:0},{provide:Km,multi:!0,deps:[ot],useFactory:e=>{const n=e.get(D3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Pn),s=e.get(oP);eP(i,()=>{r(!0)}),e.get(Nh).afterPreactivation=()=>(r(!0),s.closed?U(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const uP=new R("");function dP(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){dP(s,r,i,o,a,"next",l)}function a(l){dP(s,r,i,o,a,"throw",l)}o(void 0)})}}const D=function(t,e){if(!t)throw Yo(e)},Yo=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},hP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new v7;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fP=function(t){const e=hP(t);return iv.encodeByteArray(e,!0)},Oh=function(t){return fP(t).replace(/\./g,"")},Ph=function(t){try{return iv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function E7(t){return pP(void 0,t)}function pP(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!C7(n)||(t[n]=pP(t[n],e[n]));return t}function C7(t){return"__proto__"!==t}const kh=()=>{try{return function w7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ph(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},gP=t=>{var e,n;return null===(n=null===(e=kh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},mP=()=>{var t;return null===(t=kh())||void 0===t?void 0:t.config},_P=t=>{var e;return null===(e=kh())||void 0===e?void 0:e[`_${t}`]};class ys{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function sv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function yP(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function k7(t,e){return t.replace(x7,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Di(i,`${this.serviceName}: ${o} (${i}).`,r)}}const x7=/\{\$([^}]+)}/g;function Xl(t){return JSON.parse(t)}function ft(t){return JSON.stringify(t)}const xh=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Xl(Ph(s[0])||""),n=Xl(Ph(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ov(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vP(s)&&vP(o)){if(!Lh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vP(t){return null!==t&&"object"==typeof t}function ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class V7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class U7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function H7(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=av),void 0===i.error&&(i.error=av),void 0===i.complete&&(i.complete=av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function av(){}function Es(t,e){return`${t} failed: ${e} argument `}const Vh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Ot(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class K7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ys;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Y7(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ws?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const lv=[];var Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{});const EP={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},J7=Ce.INFO,X7={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},e9=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=X7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class cv{constructor(e){this.name=e,this._logLevel=J7,this._logHandler=e9,this._userLogHandler=null,lv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?EP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const t9=(t,e)=>e.some(n=>t instanceof n);let CP,wP;const DP=new WeakMap,uv=new WeakMap,bP=new WeakMap,dv=new WeakMap,hv=new WeakMap;let fv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return uv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||bP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function l9(t){return"function"==typeof t?function a9(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function r9(){return wP||(wP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(pv(this),e),bi(DP.get(this))}:function(...e){return bi(t.apply(pv(this),e))}:function(e,...n){const r=t.call(pv(this),e,...n);return bP.set(r,e.sort?e.sort():[e]),bi(r)}}(t):(t instanceof IDBTransaction&&function s9(t){if(uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});uv.set(t,e)}(t),t9(t,function n9(){return CP||(CP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fv):t)}function bi(t){if(t instanceof IDBRequest)return function i9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DP.set(n,t)}).catch(()=>{}),hv.set(e,t),e}(t);if(dv.has(t))return dv.get(t);const e=l9(t);return e!==t&&(dv.set(t,e),hv.set(e,t)),e}const pv=t=>hv.get(t),u9=["get","getKey","getAll","getAllKeys","count"],d9=["put","add","delete","clear"],gv=new Map;function IP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gv.get(e))return gv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!u9.includes(n))return;const s=function(){var o=y(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return gv.set(e,s),s}!function o9(t){fv=t(fv)}(t=>({...t,get:(e,n,r)=>IP(e,n)||t.get(e,n,r),has:(e,n)=>!!IP(e,n)||t.has(e,n)}));class h9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function f9(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const mv="@firebase/app",Ds=new cv("@firebase/app"),Bh="[DEFAULT]",B9={[mv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bs=new Map,Uh=new Map;function U9(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(Uh.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;Uh.set(e,t);for(const n of bs.values())U9(n,t);return!0}function Hh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const qr=new Jl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class j9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const Jo="10.5.0";function SP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Bh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=mP()),!n)throw qr.create("no-options");const s=bs.get(i);if(s){if(Lh(n,s.options)&&Lh(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new Z7(i);for(const l of Uh.values())o.addComponent(l);const a=new j9(n,r,o);return bs.set(i,a),a}function AP(t=Bh){const e=bs.get(t);if(!e&&t===Bh&&mP())return SP();if(!e)throw qr.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=null!==(r=B9[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ds.warn(a.join(" "))}Zo(new Cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $9="firebase-heartbeat-database",G9=1,rc="firebase-heartbeat-store";let yv=null;function MP(){return yv||(yv=function c9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bi(o.result),l.oldVersion,l.newVersion,bi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}($9,G9,{upgrade:(t,e)=>{0===e&&t.createObjectStore(rc)}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),yv}function vv(){return(vv=y(function*(t){try{return yield(yield MP()).transaction(rc).objectStore(rc).get(RP(t))}catch(e){if(e instanceof Di)Ds.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(n.message)}}})).apply(this,arguments)}function NP(t,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=y(function*(t,e){try{const r=(yield MP()).transaction(rc,"readwrite");yield r.objectStore(rc).put(e,RP(t)),yield r.done}catch(n){if(n instanceof Di)Ds.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(r.message)}}})).apply(this,arguments)}function RP(t){return`${t.name}!${t.options.appId}`}class K9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=OP(),{heartbeatsToSend:r,unsentEntries:i}=function Q9(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Oh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function OP(){return(new Date).toISOString().substring(0,10)}class Y9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!function R7(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function O7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function W9(t){return vv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return NP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return NP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function PP(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}!function Z9(t){Zo(new Cs("platform-logger",e=>new h9(e),"PRIVATE")),Zo(new Cs("heartbeat",e=>new K9(e),"PRIVATE")),Ii(mv,"0.9.20",t),Ii(mv,"0.9.20","esm2017"),Ii("fire-js","")}(""),Ii("firebase","10.5.0","app");const kP="@firebase/database";let Cv="";class eQ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ft(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Xl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class tQ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const LP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new eQ(e)}}catch{}return new tQ},Is=LP("localStorage"),wv=LP("sessionStorage"),Xo=new cv("@firebase/database"),VP=function(){let t=1;return function(){return t++}}(),BP=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new V7;n.update(e);const r=n.digest();return iv.encodeByteArray(r)},ic=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ic.apply(null,r):e+="object"==typeof r?ft(r):r,e+=" "}return e};let Ts=null,UP=!0;const pt=function(...t){if(!0===UP&&(UP=!1,null===Ts&&!0===wv.get("logging_enabled")&&function(t,e){D(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Xo.logLevel=Ce.VERBOSE,Ts=Xo.log.bind(Xo),e&&wv.set("logging_enabled",!0)):"function"==typeof t?Ts=t:(Ts=null,wv.remove("logging_enabled"))}(!0)),Ts){const e=ic.apply(null,t);Ts(e)}},sc=function(t){return function(...e){pt(t,...e)}},Dv=function(...t){const e="FIREBASE INTERNAL ERROR: "+ic(...t);Xo.error(e)},yr=function(...t){const e=`FIREBASE FATAL ERROR: ${ic(...t)}`;throw Xo.error(e),new Error(e)},Pt=function(...t){const e="FIREBASE WARNING: "+ic(...t);Xo.warn(e)},jh=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ti="[MIN_NAME]",Kr="[MAX_NAME]",Ss=function(t,e){if(t===e)return 0;if(t===Ti||e===Kr)return-1;if(e===Ti||t===Kr)return 1;{const n=GP(t),r=GP(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},iQ=function(t,e){return t===e?0:t<e?-1:1},oc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ft(e))},bv=function(t){if("object"!=typeof t||null===t)return ft(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=ft(e[r]),n+=":",n+=bv(t[e[r]]);return n+="}",n},jP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $P=function(t){D(!jh(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},lQ=new RegExp("^-?(0*)\\d{1,10}$"),GP=function(t){if(lQ.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},ea=function(t){try{t()}catch(e){setTimeout(()=>{throw Pt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ac=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class hQ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fQ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}let lc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const QP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JP="websocket",XP="long_polling";class Tv{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Is.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ek(t,e,n){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===JP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==XP)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function pQ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return gt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class gQ{constructor(){this.counters_={}}incrementCounter(e,n=1){Kn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return E7(this.counters_)}}const Sv={},Av={};function Mv(t){const e=t.toString();return Sv[e]||(Sv[e]=new gQ),Sv[e]}class _Q{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ea(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Si{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sc(e),this.stats_=Mv(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),ek(n,XP,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new _Q(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nv((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&QP.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Si.forceAllow_=!0}static forceDisallow(){Si.forceDisallow_=!0}static isAvailable(){return!(!Si.forceAllow_&&(Si.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fP(n),i=jP(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ft(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Nv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=VP(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Nv.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){pt("frame writing exception"),a.stack&&pt(a.stack),pt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Gh=null;typeof MozWebSocket<"u"?Gh=MozWebSocket:typeof WebSocket<"u"&&(Gh=WebSocket);let ta=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sc(this.connId),this.stats_=Mv(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&QP.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),ek(n,JP,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Is.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Gh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Gh&&!t.forceDisallow_}static previouslyFailed(){return Is.isInMemoryStorage||!0===Is.get("previous_websocket_failure")}markConnectionHealthy(){Is.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Xl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=ft(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=jP(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),ak=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Si,ta]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ta&&ta.isAvailable();let i=r&&!ta.previouslyFailed();if(n.webSocketOnly&&(r||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ta];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class pk{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sc("c:"+this.id+":"),this.transportManager_=new ak(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ac(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=oc("t",e),r=oc("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=oc("t",e),r=oc("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=oc("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Dv("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ac(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ac(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class mk{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Wh extends mk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wh}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class me{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function de(){return new me("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ai(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new me(t.pieces_,e)}function Ov(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new me(e,0)}function Fe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new me(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function qt(t,e){const n=Y(t),r=Y(e);if(null===n)return e;if(n===r)return qt(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function BQ(t,e){const n=cc(t,0),r=cc(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ss(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Pv(t,e){if(Ai(t)!==Ai(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function kn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ai(t)>Ai(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class UQ{constructor(e,n){this.errorPrefix_=n,this.parts_=cc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vh(this.parts_[r]);Ek(this)}}function Ek(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+As(t))}function As(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class kv extends mk{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new kv}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const uc=1e3;let qh,Ms=(()=>{class t extends gk{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=sc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kv.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Wh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(ft(o)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new ys,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Kn(n,"w")){const i=vs(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=xh(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=xh(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ft(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Dv("Unrecognized action received from server: "+ft(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return y(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};n.realtime_={close:u,sendRequest:function(f){D(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new pk(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{Pt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&Pt(f),u())}}})()}interrupt(n){pt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){pt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ov(this.interruptReasons_)&&(this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>bv(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new me(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){pt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){pt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Cv.replace(/\./g,"-")]=1,sv()?n["framework.cordova"]=1:yP()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Wh.getInstance().currentlyOnline();return ov(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}class zh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(Ti,e),i=new ee(Ti,n);return 0!==this.compare(r,i)}minPost(){return ee.MIN}}class Dk extends zh{static get __EMPTY_NODE(){return qh}static set __EMPTY_NODE(e){qh=e}compare(e,n){return Ss(e.name,n.name)}isDefinedOn(e){throw Yo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Kr,qh)}makePost(e,n){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new ee(e,qh)}toString(){return".key"}}const vr=new Dk;class Kh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Fv,Qn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??rn.EMPTY_NODE,this.right=o??rn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return rn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return rn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class rn{constructor(e,n=rn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new rn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qn.BLACK,null,null))}remove(e){return new rn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kh(this.root_,null,this.comparator_,!0,e)}}function KQ(t,e){return Ss(t.name,e.name)}function xv(t,e){return Ss(t,e)}rn.EMPTY_NODE=new class qQ{copy(e,n,r,i,s){return this}insert(e,n,r){return new Qn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bk=function(t){return"number"==typeof t?"number:"+$P(t):"string:"+t},Ik=function(t){if(t.isLeafNode()){const e=t.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&Kn(e,".sv"),"Priority must be a string or number.")}else D(t===Fv||t.isEmpty(),"priority of unexpected type.");D(t===Fv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Tk,Sk,Ak,na=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ik(this.priorityNode_)}static set __childrenNodeConstructor(n){Tk=n}static get __childrenNodeConstructor(){return Tk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:".priority"===Y(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Y(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===Ai(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+bk(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?$P(this.value_):this.value_,this.lazyHash_=BP(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+r),D(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Re=new class JQ extends zh{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Ss(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Kr,new na("[PRIORITY-POST]",Ak))}makePost(e,n){const r=Sk(e);return new ee(n,new na("[PRIORITY-POST]",r))}toString(){return".priority"}},XQ=Math.log(2);class eY{constructor(e){this.count=parseInt(Math.log(e+1)/XQ,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qh=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=t[l],h=n?n(d):d,new Qn(h,d.node,Qn.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new Qn(h,d.node,Qn.BLACK,p,g)}},a=function(l){let c=null,u=null,d=t.length;const h=function(p,g){const m=d-p,E=d;d-=p;const _=i(m+1,E),T=t[m],N=n?n(T):T;f(new Qn(N,T.node,g,null,_))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,Qn.BLACK):(h(m,Qn.BLACK),h(m,Qn.RED))}return u}(new eY(t.length));return new rn(r||e,a)};let Lv;const ra={};class Qr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(ra&&Re,"ChildrenNode.ts has not been loaded"),Lv=Lv||new Qr({".priority":ra},{".priority":Re}),Lv}get(e){const n=vs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof rn?n:null}hasIndex(e){return Kn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ee.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Qh(r,e.getCompare()):ra;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Qr(u,c)}addToIndexes(e,n){const r=Fh(this.indexes_,(i,s)=>{const o=vs(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===ra){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Qh(a,o.getCompare())}return ra}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new Qr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fh(this.indexes_,i=>{if(i===ra)return i;{const s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new Qr(r,this.indexSet_)}}let dc,q=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Ik(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dc||(dc=new t(new rn(xv),null,Qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?dc:r}}getChild(n){const r=Y(n);return null===r?this:this.getImmediateChild(r).getChild(Ie(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ee(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?dc:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=Y(n);if(null===i)return r;{D(".priority"!==Y(n)||1===Ai(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ie(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Re,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+bk(this.getPriority().val())+":"),this.forEachChild(Re,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":BP(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ee(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===hc?-1:0}withIndex(n){if(n===vr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===vr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Re),s=r.getIterator(Re);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===vr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const hc=new class tY extends q{constructor(){super(new rn(xv),q.EMPTY_NODE,Qr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return q.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ee,{MIN:{value:new ee(Ti,q.EMPTY_NODE)},MAX:{value:new ee(Kr,hc)}}),Dk.__EMPTY_NODE=q.EMPTY_NODE,na.__childrenNodeConstructor=q,function QQ(t){Fv=t}(hc),function ZQ(t){Ak=t}(hc);const nY=!0;function He(t,e=null){if(null===t)return q.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new na(t,He(e));if(t instanceof Array||!nY){let n=q.EMPTY_NODE;return gt(t,(r,i)=>{if(Kn(t,r)&&"."!==r.substring(0,1)){const s=He(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(He(e))}{const n=[];let r=!1;if(gt(t,(o,a)=>{if("."!==o.substring(0,1)){const l=He(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ee(o,l)))}}),0===n.length)return q.EMPTY_NODE;const s=Qh(n,KQ,o=>o.name,xv);if(r){const o=Qh(n,Re.getCompare());return new q(s,He(e),new Qr({".priority":o},{".priority":Re}))}return new q(s,He(e),Qr.Default)}}!function YQ(t){Sk=t}(He);class Vv extends zh{constructor(e){super(),this.indexPath_=e,D(!Z(e)&&".priority"!==Y(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Ss(e.name,n.name):s}makePost(e,n){const r=He(e),i=q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const e=q.EMPTY_NODE.updateChild(this.indexPath_,hc);return new ee(Kr,e)}toString(){return cc(this.indexPath_,0).join("/")}}const Bv=new class rY extends zh{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Ss(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=He(e);return new ee(n,r)}toString(){return".value"}};function Mk(t){return{type:"value",snapshotNode:t}}function ia(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Uv{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(fc(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ia(n,r)):o.trackChildChange(pc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Re,(i,s)=>{n.hasChild(i)||r.trackChildChange(fc(i,s))}),n.isLeafNode()||n.forEachChild(Re,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(pc(i,s,o))}else r.trackChildChange(ia(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gc{constructor(e){this.indexedFilter_=new Uv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gc.getStartPost_(e),this.endPost_=gc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ee(n,r))||(r=q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(q.EMPTY_NODE);const s=this;return n.forEachChild(Re,(o,a)=>{s.matches(new ee(o,a))||(i=i.updateImmediateChild(o,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class sY{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ee(n,r))||(r=q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=q.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=q.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority(q.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ee(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(pc(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(fc(n,d));const g=a.updateImmediateChild(n,q.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(s?.trackChildChange(ia(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?e:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(fc(c.name,c.node)),s.trackChildChange(ia(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,q.EMPTY_NODE)):e}}class Hv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ti}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){const e=new Hv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Nk(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Re?n="$priority":t.index_===Bv?n="$value":t.index_===vr?n="$key":(D(t.index_ instanceof Vv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ft(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ft(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ft(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ft(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ft(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Rk(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Re&&(e.i=t.index_.toString()),e}class Zh extends gk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=sc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zh.getListenId_(e,r),a={};this.listens_[o]=a;const l=Nk(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),vs(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=Zh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Nk(e._queryParams),r=e._path.toString(),i=new ys;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ec(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Xl(a.responseText)}catch{Pt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Pt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class dY{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Jh(){return{value:null,children:new Map}}function sa(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Jh()),sa(t.children.get(r),e=Ie(e),n)}}function Wv(t,e,n){null!==t.value?n(e,t.value):function hY(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Wv(i,new me(e.toString()+"/"+r),n)})}class fY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class mY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fY(e);const r=1e4+2e4*Math.random();ac(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;gt(e,(i,s)=>{s>0&&Kn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ac(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Er=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Er||{});function Kv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Xh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Er.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Z(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new me(e));return new Xh(de(),n,this.revert)}}return D(Y(this.path)===e,"operationForChild called for unrelated child."),new Xh(Ie(this.path),this.affectedTree,this.revert)}}class mc{constructor(e,n){this.source=e,this.path=n,this.type=Er.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new mc(this.source,de()):new mc(this.source,Ie(this.path))}}class Ns{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Er.OVERWRITE}operationForChild(e){return Z(this.path)?new Ns(this.source,de(),this.snap.getImmediateChild(e)):new Ns(this.source,Ie(this.path),this.snap)}}class oa{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Er.MERGE}operationForChild(e){if(Z(this.path)){const n=this.children.subtree(new me(e));return n.isEmpty()?null:n.value?new Ns(this.source,de(),n.value):new oa(this.source,de(),n)}return D(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new oa(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Mi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class _Y{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _c(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function EY(t,e,n){if(null==e.childName||null==n.childName)throw Yo("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function vY(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function ef(t,e){return{eventCache:t,serverCache:e}}function yc(t,e,n,r){return ef(new Mi(e,n,r),t.serverCache)}function Pk(t,e,n,r){return ef(t.eventCache,new Mi(e,n,r))}function tf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Rs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Qv;class Oe{constructor(e,n=(()=>(Qv||(Qv=new rn(iQ)),Qv))()){this.value=e,this.children=n}static fromObject(e){let n=new Oe(null);return gt(e,(r,i)=>{n=n.set(new me(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:de(),value:this.value};if(Z(e))return null;{const r=Y(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ie(e),n);return null!=s?{path:Fe(new me(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const n=Y(e),r=this.children.get(n);return null!==r?r.subtree(Ie(e)):new Oe(null)}}set(e,n){if(Z(e))return new Oe(n,this.children);{const r=Y(e),s=(this.children.get(r)||new Oe(null)).set(Ie(e),n),o=this.children.insert(r,s);return new Oe(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(Ie(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Oe(null):new Oe(this.value,s)}return this}}get(e){if(Z(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(Ie(e)):null}}setTree(e,n){if(Z(e))return n;{const r=Y(e),s=(this.children.get(r)||new Oe(null)).setTree(Ie(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Oe(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Z(e))return null;{const s=Y(e),o=this.children.get(s);return o?o.findOnPath_(Ie(e),Fe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);const i=Y(e),s=this.children.get(i);return s?s.foreachOnPath_(Ie(e),Fe(n,i),r):new Oe(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Yn{constructor(e){this.writeTree_=e}static empty(){return new Yn(new Oe(null))}}function vc(t,e,n){if(Z(e))return new Yn(new Oe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=qt(i,e);return s=s.updateChild(o,n),new Yn(t.writeTree_.set(i,s))}{const i=new Oe(n),s=t.writeTree_.setTree(e,i);return new Yn(s)}}}function Yv(t,e,n){let r=t;return gt(n,(i,s)=>{r=vc(r,Fe(e,i),s)}),r}function kk(t,e){if(Z(e))return Yn.empty();{const n=t.writeTree_.setTree(e,new Oe(null));return new Yn(n)}}function Zv(t,e){return null!=Os(t,e)}function Os(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(qt(n.path,e)):null}function xk(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Re,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ee(r,i.value))}),e}function Ni(t,e){if(Z(e))return t;{const n=Os(t,e);return new Yn(null!=n?new Oe(n):t.writeTree_.subtree(e))}}function Jv(t){return t.writeTree_.isEmpty()}function aa(t,e){return Fk(de(),t.writeTree_,e)}function Fk(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(D(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=Fk(Fe(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Fe(t,".priority"),r)),n}}function nf(t,e){return Hk(e,t)}function TY(t,e){if(t.snap)return kn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&kn(Fe(t.path,n),e))return!0;return!1}function AY(t){return t.visible}function Lk(t,e,n){let r=Yn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)kn(n,o)?(a=qt(n,o),r=vc(r,a,s.snap)):kn(o,n)&&(a=qt(o,n),r=vc(r,de(),s.snap.getChild(a)));else{if(!s.children)throw Yo("WriteRecord should have .snap or .children");if(kn(n,o))a=qt(n,o),r=Yv(r,a,s.children);else if(kn(o,n))if(a=qt(o,n),Z(a))r=Yv(r,de(),s.children);else{const l=vs(s.children,Y(a));if(l){const c=l.getChild(Ie(a));r=vc(r,de(),c)}}}}}return r}function Vk(t,e,n,r,i){if(r||i){const s=Ni(t.visibleWrites,e);return!i&&Jv(s)?n:i||null!=n||Zv(s,de())?aa(Lk(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(kn(c.path,e)||kn(e,c.path))},e),n||q.EMPTY_NODE):null}{const s=Os(t.visibleWrites,e);if(null!=s)return s;{const o=Ni(t.visibleWrites,e);return Jv(o)?n:null!=n||Zv(o,de())?aa(o,n||q.EMPTY_NODE):null}}}function rf(t,e,n,r){return Vk(t.writeTree,t.treePath,e,n,r)}function Xv(t,e){return function MY(t,e,n){let r=q.EMPTY_NODE;const i=Os(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Re,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ni(t.visibleWrites,e);return n.forEachChild(Re,(o,a)=>{const l=aa(Ni(s,new me(o)),a);r=r.updateImmediateChild(o,l)}),xk(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return xk(Ni(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function Bk(t,e,n,r){return function NY(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Fe(e,n);if(Zv(t.visibleWrites,s))return null;{const o=Ni(t.visibleWrites,s);return Jv(o)?i.getChild(n):aa(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function sf(t,e){return function OY(t,e){return Os(t.visibleWrites,e)}(t.writeTree,Fe(t.treePath,e))}function eE(t,e,n){return function RY(t,e,n,r){const i=Fe(e,n),s=Os(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?aa(Ni(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Uk(t,e){return Hk(Fe(t.treePath,e),t.writeTree)}function Hk(t,e){return{treePath:t,writeTree:e}}class FY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,pc(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,fc(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,ia(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Yo("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,pc(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const jk=new class LY{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class tE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rs(this.viewCache_),s=function xY(t,e,n,r,i,s){return function PY(t,e,n,r,i,s,o){let a;const l=Ni(t.visibleWrites,e),c=Os(l,de());if(null!=c)a=c;else{if(null==n)return[];a=aa(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function $k(t,e,n,r,i,s){const o=e.eventCache;if(null!=sf(r,n))return e;{let a,l;if(Z(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Rs(e),d=Xv(r,c instanceof q?c:q.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=rf(r,Rs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Y(n);if(".priority"===c){D(1===Ai(n),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Bk(r,n,u,l);a=null!=d?t.filter.updatePriority(u,d):o.getNode()}else{const u=Ie(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Bk(r,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=eE(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return yc(e,a,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function af(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Z(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Y(n);if(!l.isCompleteForPath(n)&&Ai(n)>1)return e;const p=Ie(n),m=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),m):u.updateChild(l.getNode(),f,m,p,jk,null)}const d=Pk(e,c,l.isFullyInitialized()||Z(n),u.filtersNodes());return $k(t,d,n,i,new tE(i,d,s),a)}function nE(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new tE(i,e,s);if(Z(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=yc(e,c,!0,t.filter.filtersNodes());else{const d=Y(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),l=yc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ie(n),f=a.getNode().getImmediateChild(d);let p;if(Z(h))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===Ov(h)&&g.getChild(vk(h)).isEmpty()?g:g.updateChild(h,r):q.EMPTY_NODE}l=f.equals(p)?e:yc(e,t.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function Gk(t,e){return t.eventCache.isCompleteForChild(e)}function Wk(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function rE(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=Z(n)?r:new Oe(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=Wk(0,e.serverCache.getNode().getImmediateChild(d),h);l=af(t,l,new me(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const g=Wk(0,e.serverCache.getNode().getImmediateChild(d),h);l=af(t,l,new me(d),g,i,s,o,a)}}),l}class zY{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Uv(r.getIndex()),s=function oY(t){return t.loadsAllData()?new Uv(t.getIndex()):t.hasLimit()?new sY(t):new gc(t)}(r);this.processor_=function VY(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(q.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(q.EMPTY_NODE,a.getNode(),null),u=new Mi(l,o.isFullyInitialized(),i.filtersNodes()),d=new Mi(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ef(d,u),this.eventGenerator_=new _Y(this.query_)}get query(){return this.query_}}function QY(t,e){const n=Rs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function zk(t){return 0===t.eventRegistrations_.length}function qk(t,e,n){const r=[];if(n){D(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Kk(t,e,n,r){e.type===Er.MERGE&&null!==e.source.queryId&&(D(Rs(t.viewCache_),"We should always have a full cache before handling merges"),D(tf(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function UY(t,e,n,r,i){const s=new FY;let o,a;if(n.type===Er.OVERWRITE){const c=n;c.source.fromUser?o=nE(t,e,c.path,c.snap,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Z(c.path),o=af(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Er.MERGE){const c=n;c.source.fromUser?o=function jY(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Fe(n,l);Gk(e,Y(u))&&(a=nE(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Fe(n,l);Gk(e,Y(u))||(a=nE(t,a,u,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=rE(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Er.ACK_USER_WRITE){const c=n;o=c.revert?function WY(t,e,n,r,i,s){let o;if(null!=sf(r,n))return e;{const a=new tE(r,e,i),l=e.eventCache.getNode();let c;if(Z(n)||".priority"===Y(n)){let u;if(e.serverCache.isFullyInitialized())u=rf(r,Rs(e));else{const d=e.serverCache.getNode();D(d instanceof q,"serverChildren would be complete if leaf node"),u=Xv(r,d)}c=t.filter.updateFullNode(l,u,s)}else{const u=Y(n);let d=eE(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?t.filter.updateChild(l,u,d,Ie(n),a,s):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(l,u,q.EMPTY_NODE,Ie(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=rf(r,Rs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=sf(r,de()),yc(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function $Y(t,e,n,r,i,s,o){if(null!=sf(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return af(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Z(n)){let c=new Oe(null);return l.getNode().forEachChild(vr,(u,d)=>{c=c.set(new me(u),d)}),rE(t,e,n,c,i,s,a,o)}return e}{let c=new Oe(null);return r.foreach((u,d)=>{const h=Fe(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),rE(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Er.LISTEN_COMPLETE)throw Yo("Unknown operation type: "+n.type);o=function GY(t,e,n,r,i){const s=e.serverCache;return $k(t,Pk(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered()),n,r,jk,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function HY(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=tf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Mk(tf(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function BY(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Qk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Qk(t,e,n,r){return function yY(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function iY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),_c(t,i,"child_removed",e,r,n),_c(t,i,"child_added",e,r,n),_c(t,i,"child_moved",s,r,n),_c(t,i,"child_changed",e,r,n),_c(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let lf,uf;class Yk{constructor(){this.views=new Map}}function iE(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return D(null!=s,"SyncTree gave us an op for an invalid query."),Kk(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(Kk(o,e,n,r));return s}}function tZ(t,e,n,r,i,s){const o=function Zk(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=rf(n,i?r:null),l=!1;a?l=!0:r instanceof q?(a=Xv(n,r),l=!1):(a=q.EMPTY_NODE,l=!1);const c=ef(new Mi(a,l,!1),new Mi(r,i,!1));return new zY(e,c)}return o}(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function YY(t,e){t.eventRegistrations_.push(e)}(o,n),function ZY(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Re,(s,o)=>{r.push(ia(s,o))}),n.isFullyInitialized()&&r.push(Mk(n.getNode())),Qk(t,r,n.getNode(),e)}(o,n)}function Jk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ri(t,e){let n=null;for(const r of t.views.values())n=n||QY(r,e);return n}function Xk(t,e){return e._queryParams.loadsAllData()?cf(t):t.views.get(e._queryIdentifier)}function ex(t,e){return null!=Xk(t,e)}function Oi(t){return null!=cf(t)}function cf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let sZ=1;class tx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=function kY(){return{visibleWrites:Yn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sE(t,e,n,r,i){return function wY(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=vc(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?la(t,new Ns({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Pi(t,e,n=!1){const r=function bY(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function IY(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&TY(a,r.path)?i=!1:kn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function SY(t){t.visibleWrites=Lk(t.allWrites,AY,de()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=kk(t.visibleWrites,r.path):gt(r.children,l=>{t.visibleWrites=kk(t.visibleWrites,Fe(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new Oe(null);return null!=r.snap?s=s.set(de(),!0):gt(r.children,o=>{s=s.set(new me(o),!0)}),la(t,new Xh(r.path,s,n))}return[]}function Ec(t,e,n){return la(t,new Ns({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function df(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||ex(o,e))){const l=function nZ(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Oi(t);if("default"===i)for(const[l,c]of t.views.entries())o=o.concat(qk(c,n,r)),zk(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(qk(l,n,r)),zk(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Oi(t)&&s.push(new(function XY(){return D(lf,"Reference.ts has not been loaded"),lf}())(e._repo,e._path)),{removed:s,events:o}}(o,e,n,r);(function eZ(t){return 0===t.views.size})(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=-1!==c.findIndex(h=>h._queryParams.loadsAllData()),d=t.syncPointTree_.findOnPath(s,(h,f)=>Oi(f));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=function hZ(t){return t.fold((e,n,r)=>{if(n&&Oi(n))return[cf(n)];{let i=[];return n&&(i=Jk(n)),gt(r,(s,o)=>{i=i.concat(o)}),i}})}(h);for(let p=0;p<f.length;++p){const g=f[p],m=g.query,E=sx(t,g);t.listenProvider_.startListening(wc(m),Cc(t,m),E.hashFn,E.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(wc(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(ff(h));t.listenProvider_.stopListening(wc(h),f)}))}!function fZ(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=ff(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,c)}return a}function oE(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=qt(h,i);s=s||Ri(f,p),o=o||Oi(f)});let l,a=t.syncPointTree_.get(i);a?(o=o||Oi(a),s=s||Ri(a,de())):(a=new Yk,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=s?l=!0:(l=!1,s=q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=Ri(p,de());g&&(s=s.updateImmediateChild(f,g))}));const c=ex(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=ff(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function pZ(){return sZ++}();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let d=tZ(a,e,n,nf(t.pendingWriteTree_,i),s,l);if(!c&&!o&&!r){const h=Xk(a,e);d=d.concat(function gZ(t,e,n){const r=e._path,i=Cc(t,e),s=sx(t,n),o=t.listenProvider_.startListening(wc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!Oi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Z(c)&&u&&Oi(u))return[cf(u).query];{let h=[];return u&&(h=h.concat(Jk(u).map(f=>f.query))),gt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(wc(u),Cc(t,u))}}return o}(t,e,h))}return d}function hf(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Ri(a,qt(o,e));if(c)return c});return Vk(i,e,s,n,!0)}function la(t,e){return rx(e,t.syncPointTree_,null,nf(t.pendingWriteTree_,de()))}function rx(t,e,n,r){if(Z(t.path))return ix(t,e,n,r);{const i=e.get(de());null==n&&null!=i&&(n=Ri(i,de()));let s=[];const o=Y(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Uk(r,o);s=s.concat(rx(a,l,c,u))}return i&&(s=s.concat(iE(i,t,r,n))),s}}function ix(t,e,n,r){const i=e.get(de());null==n&&null!=i&&(n=Ri(i,de()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Uk(r,o),u=t.operationForChild(o);u&&(s=s.concat(ix(u,a,l,c)))}),i&&(s=s.concat(iE(i,t,r,n))),s}function sx(t,e){const n=e.query,r=Cc(t,n);return{hashFn:()=>(function qY(t){return t.viewCache_.serverCache.getNode()}(e)||q.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function cZ(t,e,n){const r=aE(t,n);if(r){const i=lE(r),s=i.path,o=i.queryId,a=qt(s,e);return cE(t,s,new mc(Kv(o),a))}return[]}(t,n._path,r):function lZ(t,e){return la(t,new mc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function aQ(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return df(t,n,null,s)}}}}function Cc(t,e){const n=ff(e);return t.queryToTagMap.get(n)}function ff(t){return t._path.toString()+"$"+t._queryIdentifier}function aE(t,e){return t.tagToQueryMap.get(e)}function lE(t){const e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new me(t.substr(0,e))}}function cE(t,e,n){const r=t.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),iE(r,n,nf(t.pendingWriteTree_,e),null)}function wc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function iZ(){return D(uf,"Reference.ts has not been loaded"),uf}())(t._repo,t._path):t}class uE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new uE(n)}node(){return this.node_}}class dE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fe(this.path_,e);return new dE(this.syncTree_,n)}node(){return hf(this.syncTree_,this.path_)}}const mZ=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},ox=function(t,e,n){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?_Z(t[".sv"],e,n):"object"==typeof t[".sv"]?yZ(t[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},_Z=function(t,e,n){if("timestamp"===t)return n.timestamp;D(!1,"Unexpected server value: "+t)},yZ=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},ax=function(t,e,n,r){return fE(e,new dE(n,t),r)},hE=function(t,e,n){return fE(t,new uE(e),n)};function fE(t,e,n){const r=t.getPriority().val(),i=ox(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=ox(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new na(a,He(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new na(i))),o.forEachChild(Re,(a,l)=>{const c=fE(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class pE{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function pf(t,e){let n=e instanceof me?e:new me(e),r=t,i=Y(n);for(;null!==i;){const s=vs(r.node.children,i)||{children:{},childCount:0};r=new pE(i,r,s),n=Ie(n),i=Y(n)}return r}function Ps(t){return t.node.value}function gE(t,e){t.node.value=e,mE(t)}function lx(t){return t.node.childCount>0}function gf(t,e){gt(t.node.children,(n,r)=>{e(new pE(n,t,r))})}function cx(t,e,n,r){n&&!r&&e(t),gf(t,i=>{cx(i,e,!0,r)}),n&&r&&e(t)}function Dc(t){return new me(null===t.parent?t.name:Dc(t.parent)+"/"+t.name)}function mE(t){null!==t.parent&&function CZ(t,e,n){const r=function vZ(t){return void 0===Ps(t)&&!lx(t)}(n),i=Kn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,mE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,mE(t))}(t.parent,t.name,t)}const wZ=/[\[\].#$\/\u0000-\u001F\u007F]/,DZ=/[\[\].#$\u0000-\u001F\u007F]/,_E=10485760,mf=function(t){return"string"==typeof t&&0!==t.length&&!wZ.test(t)},ux=function(t){return"string"==typeof t&&0!==t.length&&!DZ.test(t)},bc=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!jh(t)||t&&"object"==typeof t&&Kn(t,".sv")},Cr=function(t,e,n,r){r&&void 0===e||Ic(Es(t,"value"),e,n)},Ic=function(t,e,n){const r=n instanceof me?new UQ(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+As(r));if("function"==typeof e)throw new Error(t+"contains a function "+As(r)+" with contents = "+e.toString());if(jh(e))throw new Error(t+"contains "+e.toString()+" "+As(r));if("string"==typeof e&&e.length>_E/3&&Vh(e)>_E)throw new Error(t+"contains a string greater than "+_E+" utf8 bytes "+As(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(gt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!mf(o)))throw new Error(t+" contains an invalid key ("+o+") "+As(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function HQ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vh(e),Ek(t)})(r,o),Ic(t,a,r),function jQ(t){const e=t.parts_.pop();t.byteLength_-=Vh(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+As(r)+" in addition to actual children.")}},vE=function(t,e,n,r){if(!(r&&void 0===n||ux(n)))throw new Error(Es(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},TZ=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vE(t,e,n,r)},wr=function(t,e){if(".info"===Y(e))throw new Error(t+" failed = Can't modify data under /.info/")};class SZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _f(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!Pv(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function fx(t,e,n){_f(t,n),px(t,r=>Pv(r,e))}function yn(t,e,n){_f(t,n),px(t,r=>kn(r,e)||kn(e,r))}function px(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(AZ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function AZ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Ts&&pt("event: "+n.toString()),ea(r)}}}const MZ=25;class NZ{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jh(),this.transactionQueueTree_=new pE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mx(t){const n=t.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Sc(t){return mZ({timestamp:mx(t)})}function _x(t,e,n,r,i){t.dataUpdateCount++;const s=new me(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Fh(n,c=>He(c));o=function uZ(t,e,n,r){const i=aE(t,r);if(i){const s=lE(i),o=s.path,a=s.queryId,l=qt(o,e),c=Oe.fromObject(n);return cE(t,o,new oa(Kv(a),l,c))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=He(n);o=function nx(t,e,n,r){const i=aE(t,r);if(null!=i){const s=lE(i),o=s.path,a=s.queryId,l=qt(o,e);return cE(t,o,new Ns(Kv(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=Fh(n,c=>He(c));o=function aZ(t,e,n){const r=Oe.fromObject(n);return la(t,new oa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=He(n);o=Ec(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ua(t,s)),yn(t.eventQueue_,a,o)}function yx(t,e){EE(t,"connected",e),!1===e&&function xZ(t){ca(t,"onDisconnectEvents");const e=Sc(t),n=Jh();Wv(t.onDisconnect_,de(),(i,s)=>{const o=ax(i,s,t.serverSyncTree_,e);sa(n,i,o)});let r=[];Wv(n,de(),(i,s)=>{r=r.concat(Ec(t.serverSyncTree_,i,s));const o=bE(t,i);ua(t,o)}),t.onDisconnect_=Jh(),yn(t.eventQueue_,de(),r)}(t)}function EE(t,e,n){const r=new me("/.info/"+e),i=He(n);t.infoData_.updateSnapshot(r,i);const s=Ec(t.infoSyncTree_,r,i);yn(t.eventQueue_,r,s)}function yf(t){return t.nextWriteId_++}function wE(t,e,n){let r;r=".info"===Y(e._path)?df(t.infoSyncTree_,e,n):df(t.serverSyncTree_,e,n),fx(t.eventQueue_,e._path,r)}function ca(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),pt(n,...e)}function ki(t,e,n,r){e&&ea(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function DE(t,e,n){return hf(t.serverSyncTree_,e,n)||q.EMPTY_NODE}function vf(t,e=t.transactionQueueTree_){if(e||Ef(t,e),Ps(e)){const n=wx(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function jZ(t,e,n){const r=n.map(c=>c.currentWriteId),i=DE(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];D(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=qt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ca(t,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Pi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ef(t,pf(t.transactionQueueTree_,e)),vf(t,t.transactionQueueTree_),yn(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)ea(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Pt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ua(t,e)}},o)}(t,Dc(e),n)}else lx(e)&&gf(e,n=>{vf(t,n)})}function ua(t,e){const n=Cx(t,e),r=Dc(n);return function $Z(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=qt(n,l.path);let d,u=!1;if(D(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=MZ)u=!0,d="maxretry",i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0));else{const h=DE(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Ic("transaction failed: Data returned ",f,l.path);let p=He(f);"object"==typeof f&&null!=f&&Kn(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=l.currentWriteId,E=Sc(t),_=hE(p,h,E);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=yf(t),o.splice(o.indexOf(m),1),i=i.concat(sE(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(Pi(t.serverSyncTree_,m,!0))}else u=!0,d="nodata",i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0))}yn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Ef(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ea(r[a]);vf(t,t.transactionQueueTree_)}(t,wx(t,n),r),r}function Cx(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);null!==n&&void 0===Ps(r);)r=pf(r,n),n=Y(e=Ie(e));return r}function wx(t,e){const n=[];return Dx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Dx(t,e,n){const r=Ps(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);gf(e,i=>{Dx(t,i,n)})}function Ef(t,e){const n=Ps(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,gE(e,n.length>0?n:void 0)}gf(e,r=>{Ef(t,r)})}function bE(t,e){const n=Dc(Cx(t,e)),r=pf(t.transactionQueueTree_,e);return function EZ(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{IE(t,i)}),IE(t,r),cx(r,i=>{IE(t,i)}),n}function IE(t,e){const n=Ps(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Pi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?gE(e,void 0):n.length=s+1,yn(t.eventQueue_,Dc(e),i);for(let o=0;o<r.length;o++)ea(r[o])}}const TE=function(t,e){const n=zZ(t),r=n.namespace;return"firebase.com"===n.domain&&yr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Tv(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new me(n.pathString)}},zZ=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function GZ(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(u,d)));const h=function WZ(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},bx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qZ=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=bx.charAt(n%64),n=Math.floor(n/64);D(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=bx.charAt(e[i]);return D(20===o.length,"nextPushId: Length should be 20."),o}}();class Ix{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ft(this.snapshot.exportVal())}}class Tx{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class SE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class vn{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:Ov(this._path)}get ref(){return new Zn(this._repo,this._path)}get _queryIdentifier(){const e=Rk(this._queryParams),n=bv(e);return"{}"===n?"default":n}get _queryObject(){return Rk(this._queryParams)}isEqual(e){if(!((e=Ot(e))instanceof vn))return!1;const n=this._repo===e._repo,r=Pv(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function VQ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Zn extends vn{constructor(e,n){super(e,n,new Hv,!1)}get parent(){const e=vk(this._path);return null===e?null:new Zn(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ks{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new me(e),r=Li(this.ref,e);return new ks(this._node.getChild(n),r,Re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new ks(i,Li(this.ref,r),Re)))}hasChild(e){const n=new me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fi(t,e){return(t=Ot(t))._checkNotDeleted("ref"),void 0!==e?Li(t._root,e):t._root}function Li(t,e){return null===Y((t=Ot(t))._path)?TZ("child","path",e,!1):vE("child","path",e,!1),new Zn(t._repo,Fe(t._path,e))}function Sx(t,e){t=Ot(t),wr("push",t._path),Cr("push",e,t._path,!0);const n=mx(t._repo),r=qZ(n),i=Li(t,r),s=Li(t,r);let o;return o=null!=e?function Ax(t,e){t=Ot(t),wr("set",t._path),Cr("set",e,t._path,!1);const n=new ys;return function CE(t,e,n,r,i){ca(t,"set",{path:e.toString(),value:n,priority:r});const s=Sc(t),o=He(n,r),a=hf(t.serverSyncTree_,e),l=hE(o,a,s),c=yf(t),u=sE(t.serverSyncTree_,e,l,c,!0);_f(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||Pt("set at "+e+" failed: "+h);const g=Pi(t.serverSyncTree_,c,!p);yn(t.eventQueue_,e,g),ki(0,i,h,f)});const d=bE(t,e);ua(t,d),yn(t.eventQueue_,d,[])}(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Mx(t,e){!function(t,e,n,r){if(r&&void 0===e)return;const i=Es(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];gt(e,(o,a)=>{const l=new me(o);if(Ic(i,a,Fe(n,l)),".priority"===Ov(l)&&!bc(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=cc(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!mf(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(BQ);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&kn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)}("update",e,t._path,!1);const n=new ys;return function kZ(t,e,n,r){ca(t,"update",{path:e.toString(),value:n});let i=!0;const s=Sc(t),o={};if(gt(n,(a,l)=>{i=!1,o[a]=ax(Fe(e,a),He(l),t.serverSyncTree_,s)}),i)pt("update() called with empty data.  Don't do anything."),ki(0,r,"ok",void 0);else{const a=yf(t),l=function oZ(t,e,n,r){!function DY(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Yv(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=Oe.fromObject(n);return la(t,new oa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,o,a);_f(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d="ok"===c;d||Pt("update at "+e+" failed: "+c);const h=Pi(t.serverSyncTree_,a,!d),f=h.length>0?ua(t,e):e;yn(t.eventQueue_,f,h),ki(0,r,c,u)}),gt(n,c=>{const u=bE(t,Fe(e,c));ua(t,u)}),yn(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Ac{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new Ix("value",this,new ks(e.snapshotNode,new Zn(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Tx(this,e,n):null}matches(e){return e instanceof Ac&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Df{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Tx(this,e,n):null}createEvent(e,n){D(null!=e.childName,"Child events should have a childName.");const r=Li(new Zn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Ix(e.type,this,new ks(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Df&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function AE(t,e,n,r){return function Mc(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{wE(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new SE(n,s||void 0),a="value"===e?new Ac(o):new Df(e,o);return function BZ(t,e,n){let r;r=".info"===Y(e._path)?oE(t.infoSyncTree_,e,n):oE(t.serverSyncTree_,e,n),fx(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>wE(t._repo,t,a)}(t,"value",e,n,r)}(function JY(t){D(!lf,"__referenceConstructor has already been defined"),lf=t})(Zn),function rZ(t){D(!uf,"__referenceConstructor has already been defined"),uf=t}(Zn);const ME={};function Px(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=TE(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=TE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new lc(lc.OWNER):new fQ(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!mf(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ux(t)}(n))throw new Error(Es(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),Z(o.path)||yr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function aJ(t,e,n,r){let i=ME[e.name];i||(i={},ME[e.name]=i);let s=i[t.toURLString()];return s&&yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new NZ(t,false,n,r),i[t.toURLString()]=s,s}(a,t,u,new hQ(t.name,n));return new cJ(d,t)}class cJ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function RZ(t,e,n){if(t.stats_=Mv(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Zh(t.repoInfo_,(r,i,s,o)=>{_x(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>yx(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ft(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ms(t.repoInfo_,e,(r,i,s,o)=>{_x(t,r,i,s,o)},r=>{yx(t,r)},r=>{!function OZ(t,e){gt(e,(n,r)=>{EE(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function mQ(t,e){const n=t.toString();return Av[n]||(Av[n]=e()),Av[n]}(t.repoInfo_,()=>new mY(t.stats_,t.server_)),t.infoData_=new dY,t.infoSyncTree_=new tx({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ec(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),EE(t,"connected",!1),t.serverSyncTree_=new tx({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);yn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zn(this._repo,de())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oJ(t,e){const n=ME[e];(!n||n[t.key]!==t)&&yr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function Ex(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&yr("Cannot call "+e+" on a deleted database.")}}class pJ{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ms.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ms.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function hJ(t){(function FP(t){Cv=t})(Jo),Zo(new Cs("database",(e,{instanceIdentifier:n})=>Px(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Ii(kP,"1.0.1",t),Ii(kP,"1.0.1","esm2017")}();const xx={firebaseConfig:{apiKey:"AIzaSyAYNFnl5W35RjhGchxmqvrRwrSEUXXSxgo",authDomain:"test-c49a4.firebaseapp.com",databaseURL:"https://test-c49a4-default-rtdb.firebaseio.com",projectId:"test-c49a4",storageBucket:"test-c49a4.appspot.com",messagingSenderId:"664218735931",appId:"1:664218735931:web:8e73bd168eacded8c7931e"},production:!0};let da=(()=>{class t{constructor(){this.sessionId=null,this.app=SP(xx.firebaseConfig),this.db=function uJ(t=AP(),e){const n=Hh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(t=>{const e=gP("database");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();r&&function dJ(t,e,n,r={}){(t=Ot(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&yr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&yr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lc(lc.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:function S7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oh(JSON.stringify({alg:"none",type:"JWT"})),Oh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,t.app.options.projectId);s=new lc(o)}!function sJ(t,e,n,r){t.repoInfo_=new Tv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}(this.app),console.log(xx)}saveDatatoDB(n,r){var i=this;return y(function*(){const s=yield Sx(Li(Fi(i.db),r)).key;let o={...n,id:s};return Mx(Fi(i.db,`${r}/${s}`),o).then(a=>(console.log(a),{response:a,key:s}))})()}updateDatatoDB(n,r){Mx(Fi(this.db,`${r}`),n).then(i=>(console.log(i),i))}readDataFromDB(n,r=!1){return new Be(r?s=>{AE(Fi(this.db,n),o=>{const a=o.val();s.next(a)},{onlyOnce:!0})}:s=>{AE(Fi(this.db,n),o=>{const a=o.val();s.next(a)})})}runDBTransaction(n,r){!function gJ(t,e,n){var r;if(t=Ot(t),wr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,s=new ys,a=AE(t,()=>{});return function HZ(t,e,n,r,i,s){ca(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:VP(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=DE(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Ic("transaction failed: Data returned ",l,o.path),o.status=0;const c=pf(t.transactionQueueTree_,e),u=Ps(c)||[];let d;u.push(o),gE(c,u),"object"==typeof l&&null!==l&&Kn(l,".priority")?(d=vs(l,".priority"),D(bc(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(hf(t.serverSyncTree_,e)||q.EMPTY_NODE).getPriority().val();const h=Sc(t),f=He(l,d),p=hE(f,a,h);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=p,o.currentWriteId=yf(t);const g=sE(t.serverSyncTree_,e,p,o.currentWriteId,o.applyLocally);yn(t.eventQueue_,e,g),vf(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(l,c,u)=>{let d=null;l?s.reject(l):(d=new ks(u,new Zn(t._repo,t._path),Re),s.resolve(new pJ(c,d)))},a,i),s.promise}(Fi(this.db,n),i=>i&&r(i))}firebaseKeyGen(){return Sx(Li(Fi(this.db),"users/")).key}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NE=(()=>{class t{constructor(n){this.dbService=n,this.key=null,this.sessionId=null}GetKey(){return this.key}getSessionId(){return this.sessionId||this.dbService.readDataFromDB("sessions").subscribe(n=>{let i=Object.values(n).find(s=>s.sessionKey===this.GetKey());return this.sessionId=i.id,this.sessionId}),this.sessionId}GetNewSessionKey(){return this.key=this.generateRandomString(6),localStorage.setItem("sessionKey",this.key),this.key}GetExistingStorageKey(){return this.key=localStorage.getItem("sessionKey"),this.key}generateRandomString(n){let i="";for(let s=0;s<n;s++)i+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(52*Math.random())];return i.replace(/(.{3})(.{3})/g,"$1-$2")}static#e=this.\u0275fac=function(r){return new(r||t)(b(da))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class mJ{constructor(e,n){this.open=e,this.close=n||e}isManual(){return"manual"===this.open||"manual"===this.close}}const _J={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const lt=typeof window<"u"&&window||{},ct=lt.document;var Lx=function(t){return t.isBs4="bs4",t.isBs5="bs5",t}(Lx||{});let Yr;function Vx(){const t=lt.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("pl-1"),lt.document.head.appendChild(t);const e=lt.getComputedStyle(t).paddingLeft;return e&&parseFloat(e)?(lt.document.head.removeChild(t),"bs4"):(lt.document.head.removeChild(t),"bs5")}function Nc(){return{isBs4:(Yr||(Yr=Vx()),"bs4"===Yr),isBs5:(Yr||(Yr=Vx()),"bs5"===Yr)}}class bJ{static reflow(e){}static getStyles(e){let n=e.ownerDocument.defaultView;return(!n||!n.opener)&&(n=lt),n.getComputedStyle(e)}static stackOverflowConfig(){const e=function DJ(){const t=Nc(),e=Object.keys(t).find(n=>t[n]);return Lx[e]}();return{crossorigin:"anonymous",integrity:"bs5"===e?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;let RE,TJ=(()=>{class t{constructor(){this._focusTrapStack=[]}register(n){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==n);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(n),n._enable()}deregister(n){n._disable();const r=this._focusTrapStack,i=r.indexOf(n);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();try{RE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RE=!1}let Ux=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?qM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(b(ui))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hx=(()=>{class t{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function AJ(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const r=function SJ(t){try{return t.frameElement}catch{return null}}(function FJ(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(n));if(r&&(-1===$x(r)||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),s=$x(n);return n.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function kJ(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(n))&&("audio"===i?!!n.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,r){return function xJ(t){return!function NJ(t){return function OJ(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function MJ(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function RJ(t){return function PJ(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||jx(t))}(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static#e=this.\u0275fac=function(r){return new(r||t)(b(Ux))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jx(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function $x(t){if(!jx(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Gx(t){return null!=t&&"false"!=`${t}`}class LJ{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<n.length;r++)n[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]):n[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]);return"start"==e?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(),!!n}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children||e.childNodes;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children||e.childNodes;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(fs(1)).subscribe(e)}}let VJ=(()=>{class t{constructor(n,r,i){this._checker=n,this._ngZone=r,this._document=i}create(n,r=!1){return new LJ(n,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Hx),b(ie),b(Qe))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BJ=(()=>{class t{get enabled(){return this.focusTrap.enabled}set enabled(n){this.focusTrap.enabled=Gx(n)}get autoCapture(){return this._autoCapture}set autoCapture(n){this._autoCapture=Gx(n)}constructor(n,r,i){this._elementRef=n,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(n){const r=n.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ke),C(VJ),C(Qe))};static#t=this.\u0275dir=k({type:t,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[ln]})}return t})(),Wx=(()=>{class t{static forRoot(){return{ngModule:t,providers:[TJ,Ux,Hx]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({imports:[WM]})}return t})();const UJ=["addListener","removeListener"],HJ=["addEventListener","removeEventListener"],jJ=["on","off"];function bf(t,e,n,r){if(re(n)&&(r=n,n=void 0),r)return bf(t,e,n).pipe(ly(r));const[i,s]=function WJ(t){return re(t.addEventListener)&&re(t.removeEventListener)}(t)?HJ.map(o=>a=>t[o](e,a,n)):function $J(t){return re(t.addListener)&&re(t.removeListener)}(t)?UJ.map(zx(t,e)):function GJ(t){return re(t.on)&&re(t.off)}(t)?jJ.map(zx(t,e)):[];if(!i&&dp(t))return ut(o=>bf(o,e,n))(Kt(t));if(!i)throw new TypeError("Invalid event target");return new Be(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function zx(t,e){return n=>r=>t[n](e,r)}class zJ extends Ft{constructor(e,n){super()}schedule(e,n=0){return this}}const If={setInterval(t,e,...n){const{delegate:r}=If;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=If;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class qJ extends zJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return If.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&If.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Rc={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=Rc;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=e(s=>{n=void 0,t(s)});return new Ft(()=>n?.(i))},requestAnimationFrame(...t){const{delegate:e}=Rc;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=Rc;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},qx={now:()=>(qx.delegate||Date).now(),delegate:void 0};class Oc{constructor(e,n=Oc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Oc.now=qx.now;class QJ extends Oc{constructor(e,n=Oc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const ZJ=new class YJ extends QJ{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}}(class KJ extends qJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Rc.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);const{actions:s}=e;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(Rc.cancelAnimationFrame(n),e._scheduled=void 0)}});var Kx=function(t){return t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top",t}(Kx||{}),OE=function(t){return t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top",t}(OE||{});function xs(t,e){if(1!==t.nodeType)return[];const r=t.ownerDocument.defaultView?.getComputedStyle(t,null);return e?r&&r[e]:r}function PE(t){if(!t)return document.documentElement;let r,n=t?.offsetParent;for(;null===n&&t.nextElementSibling&&r!==t.nextElementSibling;)r=t.nextElementSibling,n=r.offsetParent;const i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?n&&-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===xs(n,"position")?PE(n):n:r?r.ownerDocument.documentElement:document.documentElement}function kE(t){return null!==t.parentNode?kE(t.parentNode):t}function Tf(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const o=s.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i))return function JJ(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||PE(t.firstElementChild)===t)}(o)?o:PE(o);const a=kE(t);return a.host?Tf(a.host,e):Tf(t,kE(e).host)}function Qx(t){if(!t||!t.parentElement)return document.documentElement;let e=t.parentElement;for(;e?.parentElement&&"none"===xs(e,"transform");)e=e.parentElement;return e||document.documentElement}function Yx(t,e){const n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${r}Width`])}function Zx(t,e,n,r){return Math.max(e[`offset${t}`],e[`scroll${t}`],n[`client${t}`],n[`offset${t}`],n[`scroll${t}`],0)}function Jx(t){const e=t.body,n=t.documentElement;return{height:Zx("Height",e,n),width:Zx("Width",e,n)}}function Pc(t){return{...t,right:(t.left||0)+t.width,bottom:(t.top||0)+t.height}}function Le(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function Xx(t){const e=t.getBoundingClientRect();if(!(e&&Le(e.top)&&Le(e.left)&&Le(e.bottom)&&Le(e.right)))return e;const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?Jx(t.ownerDocument):void 0,i=r?.width||t.clientWidth||Le(e.right)&&Le(n.left)&&e.right-n.left||0,s=r?.height||t.clientHeight||Le(e.bottom)&&Le(n.top)&&e.bottom-n.top||0;let o=t.offsetWidth-i,a=t.offsetHeight-s;if(o||a){const l=xs(t);o-=Yx(l,"x"),a-=Yx(l,"y"),n.width-=o,n.height-=a}return Pc(n)}function xE(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function FE(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:r}=xs(t);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(n))?t:FE(xE(t))}function LE(t,e,n=!1){const r="HTML"===e.nodeName,i=Xx(t),s=Xx(e),a=(FE(t),xs(e)),l=parseFloat(a.borderTopWidth),c=parseFloat(a.borderLeftWidth);n&&r&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const u=Pc({top:(i.top??0)-(s.top??0)-l,left:(i.left??0)-(s.left??0)-c,width:i.width,height:i.height});if(u.marginTop=0,u.marginLeft=0,r){const d=parseFloat(a.marginTop),h=parseFloat(a.marginLeft);Le(u.top)&&(u.top-=l-d),Le(u.bottom)&&(u.bottom-=l-d),Le(u.left)&&(u.left-=c-h),Le(u.right)&&(u.right-=c-h),u.marginTop=d,u.marginLeft=h}return u}function e1(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;return"BODY"===r||"HTML"===r?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[n]:t[n]}function t1(t){const e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===xs(t,"position")||t1(xE(t)))}function VE(t,e,n=0,r,i=!1){let s={top:0,left:0};const o=i?Qx(t):Tf(t,e);if("viewport"===r)s=function eX(t,e=!1){const n=t.ownerDocument.documentElement,r=LE(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:e1(n),a=e?0:e1(n,"left");return Pc({top:o-Number(r?.top)+Number(r?.marginTop),left:a-Number(r?.left)+Number(r?.marginLeft),width:i,height:s})}(o,i);else{let a;"scrollParent"===r?(a=FE(xE(e)),"BODY"===a.nodeName&&(a=t.ownerDocument.documentElement)):a="window"===r?t.ownerDocument.documentElement:r;const l=LE(a,o,i);if(l&&"HTML"===a.nodeName&&!t1(o)){const{height:c,width:u}=Jx(t.ownerDocument);Le(s.top)&&Le(l.top)&&Le(l.marginTop)&&(s.top+=l.top-l.marginTop),Le(s.top)&&(s.bottom=Number(c)+Number(l.top)),Le(s.left)&&Le(l.left)&&Le(l.marginLeft)&&(s.left+=l.left-l.marginLeft),Le(s.top)&&(s.right=Number(u)+Number(l.left))}else l&&(s=l)}return Le(s.left)&&(s.left+=n),Le(s.top)&&(s.top+=n),Le(s.right)&&(s.right-=n),Le(s.bottom)&&(s.bottom-=n),s}function tX({width:t,height:e}){return t*e}function n1(t,e,n,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=VE(n,r,o,s),l={top:{width:a?.width??0,height:(e?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(e?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(e?.bottom??0)},left:{width:(e.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(f=>({position:f,...l[f],area:tX(l[f])})).sort((f,p)=>p.area-f.area);let u=c.filter(({width:f,height:p})=>f>=n.clientWidth&&p>=n.clientHeight);u=u.filter(({position:f})=>i.some(p=>p===f));const d=u.length>0?u[0].position:c[0].position,h=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Nc().isBs5?OE[d]:d}`),d+(h?`-${h}`:"")}const Sf=(t,e=0)=>t?parseFloat(t):e;function r1(t){const n=t.ownerDocument.defaultView?.getComputedStyle(t),r=Sf(n?.marginTop)+Sf(n?.marginBottom),i=Sf(n?.marginLeft)+Sf(n?.marginRight);return{width:Number(t.offsetWidth)+i,height:Number(t.offsetHeight)+r}}function s1(t,e,n){return LE(e,n?Qx(t):Tf(t,e),n)}function BE(t,e,n){const r=n.split(" ")[0],i=r1(t),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",l=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return s[a]=(e[a]??0)+e[c]/2-i[c]/2,s[l]=r===l?(e[l]??0)-i[u]:e[function rX(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,n=>e[n])}(l)]??0,s}function o1(t,e){return!!t.modifiers[e]?.enabled}const sX={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Af(t,e){return!!Nc().isBs5&&sX[e].includes(t)}function a1(t,e,n){!t||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function XJ(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(Number(t))}(e[r])&&(i="px"),n?n.setStyle(t,r,`${String(e[r])}${i}`):t.style[r]=String(e[r])+i})}function lX(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const r=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",l=r?"bottom":"right",c=r1(n)[i],u=t.placement.split(" ")[1];(t.offsets.host[l]??0)-c<(e[o]??0)&&(e[o]-=(e[o]??0)-((t.offsets.host[l]??0)-c)),Number(t.offsets.host[o])+Number(c)>(e[l]??0)&&(e[o]+=Number(t.offsets.host[o])+Number(c)-Number(e[l])),e=Pc(e);const d=xs(t.instance.target),h=parseFloat(d[`margin${s}`])||0,f=parseFloat(d[`border${s}Width`])||0;let p;if(u){const m=parseFloat(d.borderRadius)||0,E=Number(h+f+m);p=o===u?Number(t.offsets.host[o])+E:Number(t.offsets.host[o])+Number(t.offsets.host[i]-E)}else p=Number(t.offsets.host[o])+Number(t.offsets.host[i]/2-c/2);let g=p-(e[o]??0)-h-f;return g=Math.max(Math.min(e[i]-(c+5),g),0),t.offsets.arrow={[o]:Math.round(g),[a]:""},t.instance.arrow=n,t}function cX(t){if(t.offsets.target=Pc(t.offsets.target),!o1(t.options,"flip"))return t.offsets.target={...t.offsets.target,...BE(t.instance.target,t.offsets.host,t.placement)},t;const e=VE(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"";const a=n1("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),l=[n,a];return l.forEach((c,u)=>{if(n!==c||l.length===u+1)return;n=t.placement.split(" ")[0];const d="left"===n&&Math.floor(t.offsets.target.right??0)>Math.floor(t.offsets.host.left??0)||"right"===n&&Math.floor(t.offsets.target.left??0)<Math.floor(t.offsets.host.right??0)||"top"===n&&Math.floor(t.offsets.target.bottom??0)>Math.floor(t.offsets.host.top??0)||"bottom"===n&&Math.floor(t.offsets.target.top??0)<Math.floor(t.offsets.host.bottom??0),h=Math.floor(t.offsets.target.left??0)<Math.floor(e.left??0),f=Math.floor(t.offsets.target.right??0)>Math.floor(e.right??0),p=Math.floor(t.offsets.target.top??0)<Math.floor(e.top??0),g=Math.floor(t.offsets.target.bottom??0)>Math.floor(e.bottom??0),m="left"===n&&h||"right"===n&&f||"top"===n&&p||"bottom"===n&&g,E=-1!==["top","bottom"].indexOf(n),_=E&&"left"===r&&h||E&&"right"===r&&f||!E&&"left"===r&&p||!E&&"right"===r&&g;(d||m||_)&&((d||m)&&(n=l[u+1]),_&&(r=function iX(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?` ${r}`:""),t.offsets.target={...t.offsets.target,...BE(t.instance.target,t.offsets.host,t.placement)})}),t}function dX(t){if(!o1(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:r,left:i,[e]:s}=n;n.top="",n.left="",n[e]="";const o=VE(t.instance.target,t.instance.host,0,t.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);n.top=r,n.left=i,n[e]=s;const l={primary(c){let u=t.offsets.target[c];return(t.offsets.target[c]??0)<(o[c]??0)&&(u=Math.max(t.offsets.target[c]??0,o[c]??0)),{[c]:u}},secondary(c){const u="right"===c,d=u?"left":"top";let f=t.offsets.target[d];return(t.offsets.target[c]??0)>(o[c]??0)&&(f=Math.min(t.offsets.target[d]??0,(o[c]??0)-t.offsets.target[u?"width":"height"])),{[d]:f}}};return["left","right","top","bottom"].forEach(c=>{const u=-1!==["left","top","start"].indexOf(c)?l.primary:l.secondary;t.offsets.target={...t.offsets.target,...u(c)}}),t}function hX(t){const e=t.placement,n=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:i,target:s}=t.offsets,o=-1!==["bottom","top"].indexOf(n),a=o?"left":"top",l=o?"width":"height",c={start:{[a]:i[a]},end:{[a]:(i[a]??0)+i[l]-s[l]}};t.offsets.target={...s,[a]:a===r?c.start[a]:c.end[a]}}return t}const pX=new class fX{position(e,n){return this.offset(e,n)}offset(e,n){return s1(n,e)}positionElements(e,n,r,i,s){const o=[cX,hX,dX,lX],l=function uX(t,e,n,r){if(!t||!e)return;const i=s1(t,e);!n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=n1(o,i,t,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:t,host:e,arrow:void 0},offsets:{target:BE(t,i,o),host:i,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(n,e,Kx[r],s);if(l)return o.reduce((c,u)=>u(c),l)}};function gX(t,e,n,r,i,s){const o=pX.positionElements(t,e,n,r,i);if(!o)return;const a=function nX(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left??0),top:Math.round(t.offsets.target.top??0),bottom:Math.round(t.offsets.target.bottom??0),right:Math.floor(t.offsets.target.right??0)}}(o);a1(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&a1(o.instance.arrow,o.offsets.arrow,s),function aX(t,e){const n=t.instance.target;let r=n.className;const i=Nc().isBs5?OE[t.placement]:t.placement;t.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function oX(t){return Nc().isBs5?Af(t,"end")?"ms-2":Af(t,"start")?"me-2":Af(t,"top")?"mb-2":Af(t,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(n,"class",r):n.className=r}(o,s)}let UE=(()=>{class t{constructor(n,r,i){this.update$$=new nt,this.positionElements=new Map,this.isDisabled=!1,qM(i)&&n.runOutsideAngular(()=>{this.triggerEvent$=ND(bf(window,"scroll",{passive:!0}),bf(window,"resize",{passive:!0}),U(0,ZJ),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{gX(Mf(s.target),Mf(s.element),s.attachment,s.appendToBody,this.options,r.createRenderer(null,null))})})})}position(n){this.addPositionElement(n)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(n){this.positionElements.set(Mf(n.element),n)}calcPosition(){this.update$$.next(null)}deletePositionElement(n){this.positionElements.delete(Mf(n))}setOptions(n){this.options=n}static#e=this.\u0275fac=function(r){return new(r||t)(b(ie),b(Xi),b(ui))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mf(t){return"string"==typeof t?document.querySelector(t):t instanceof Ke?t.nativeElement:t??null}class kc{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}class mX{constructor(e,n,r,i,s,o,a,l,c){this._viewContainerRef=e,this._renderer=n,this._elementRef=r,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new Q,this.onShown=new Q,this.onBeforeHide=new Q,this.onHidden=new Q,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const n=ot.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(n,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof Ke&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const n=this._componentRef.location.nativeElement;return n.parentNode?.removeChild(n),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef?.nativeElement;const n=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),r=this._listenOpts.show=s=>{e.show?e.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function yJ(t,e){const n=function Fx(t,e=_J){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=e[s[0]]||s;return new mJ(o[0],o[1])}),i=r.filter(s=>s.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(a=>i.push(a())),s.length=0};return n.forEach(a=>{const l=a.open===a.close,c=l?e.toggle:e.show;if(!l&&a.close&&e.hide){const u=a.close,d=e.hide;s.push(()=>t.listen(r,u,d))}c&&i.push(t.listen(r,a.open,()=>c(o)))}),()=>{i.forEach(a=>a())}}(this._renderer,{target:e.target,triggers:e.triggers,show:r,hide:n,toggle:s=>{this.isShown?n():r(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,n){return e&&n&&(this._inlineViewRef=e.createEmbeddedView(n)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function vJ(t,e){return e.outsideClick?t.listen("document","click",n=>{e.target&&e.target.contains(n.target)||e.targets&&e.targets.some(r=>r.contains(n.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function EJ(t,e){return e.outsideEsc?t.listen("document","keyup.esc",n=>{e.target&&e.target.contains(n.target)||e.targets&&e.targets.some(r=>r.contains(n.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,n,r){if(!e)return new kc([]);if(e instanceof hr){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(e,n);return o.markForCheck(),new kc([o.rootNodes],o)}const s=e.createEmbeddedView({});return this._applicationRef.attachView(s),new kc([s.rootNodes],s)}if("function"==typeof e){const s=this._componentFactoryResolver.resolveComponentFactory(e),o=ot.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,r),this._applicationRef.attachView(a.hostView),new kc([[a.location.nativeElement]],a.hostView,a)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new kc([i])}}let HE=(()=>{class t{constructor(n,r,i,s,o,a){this._componentFactoryResolver=n,this._ngZone=r,this._injector=i,this._posService=s,this._applicationRef=o,this._document=a}createLoader(n,r,i){return new mX(r,i,n,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(b(_o),b(ie),b(ot),b(UE),b(fr),b(Qe))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const _X=["*"];let l1=(()=>{class t{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),c1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Nf={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},yX=new R("override-default-config");let vX=(()=>{class t{constructor(n,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},n)}ngOnInit(){this._focusEl=ct.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),ct&&ct.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(ct.body,"modal-open"),this._renderer.setStyle(ct.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(n){this.clickStartedInContent=n.target!==this._element.nativeElement}onClickStop(n){this.config.ignoreBackdropClick||"static"===this.config.backdrop||n.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(n){this.isShown&&((27===n.keyCode||"Escape"===n.key)&&n.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,ct&&ct.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(ct.body,"modal-open"),this._renderer.setStyle(ct.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(r){return new(r||t)(C(c1),C(Ke),C(fn))};static#t=this.\u0275cmp=In({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(r,i){1&r&&le("mousedown",function(o){return i.onClickStarted(o)})("click",function(o){return i.onClickStop(o)})("popstate",function(){return i.onPopState()},!1,Qg)("keydown.esc",function(o){return i.onEsc(o)},!1,Qg),2&r&&Mt("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:_X,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(r,i){1&r&&(function kS(t){const e=w()[qe][Tt];if(!e.projection){const r=e.projection=Fa(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?uj(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),x(0,"div",0)(1,"div",1),function xS(t,e=0,n){const r=w(),i=oe(),s=Co(i,ne+t,16,null,n||null);null===s.projection&&(s.projection=e),Up(),(!r[Nr]||Js())&&32!=(32&s.flags)&&function c2(t,e,n){FI(e[G],0,e,n,fg(t,n,e),NI(n.parent||e[Tt],n,e))}(i,r,s)}(2),F()()),2&r&&ur("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[BJ],encapsulation:2})}return t})(),EX=(()=>{class t{get isAnimated(){return this._isAnimated}set isAnimated(n){this._isAnimated=n}get isShown(){return this._isShown}set isShown(n){this._isShown=n,n?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(n,r){this._isAnimated=!1,this._isShown=!1,this.element=n,this.renderer=r}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),bJ.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ke),C(fn))};static#t=this.\u0275cmp=In({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})(),CX=1,$E=(()=>{class t{constructor(n,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new Q,this.onShown=new Q,this.onHide=new Q,this.onHidden=new Q,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=n.createRenderer(null,null),this.config=i?Object.assign({},Nf,i):Nf}show(n,r){this._focusEl=ct.activeElement,this.modalsCount++,this._createLoaders();const i=r?.id||CX++;return this.config=this.modalDefaultOption?Object.assign({},Nf,this.modalDefaultOption,r):Object.assign({},Nf,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(n)}hide(n){(1===this.modalsCount||null==n)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=n?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(n),this.removeLoaders(n)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const n=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),n&&r&&(this._backdropLoader.attach(EX).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(n){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)r.provide(o);const i=new l1,s=r.provide({provide:c1,useValue:this.config}).provide({provide:l1,useValue:i}).attach(vX).to("body");return i.hide=()=>this.hide(i.id),i.setClass=o=>{s.instance&&(s.instance.config.class=o)},i.onHidden=new Q,i.onHide=new Q,this.copyEvent(r.onBeforeHide,i.onHide),this.copyEvent(r.onHidden,i.onHidden),s.show({content:n,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),i.content=r.getInnerComponent(),i.id=s.instance.config?.id),i}_hideModal(n){if(null!=n){const r=this.loaders.findIndex(s=>s.instance?.config.id===n),i=this.loaders[r];i&&i.hide(n)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(n){this.lastDismissReason=n}removeBackdrop(){this._renderer.removeClass(ct.body,"modal-open"),this._renderer.setStyle(ct.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=ct.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){ct&&(this.originalBodyPadding=parseInt(window.getComputedStyle(ct.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(ct.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){ct.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const n=this._renderer.createElement("div");this._renderer.addClass(n,"modal-scrollbar-measure"),this._renderer.appendChild(ct.body,n);const r=n.offsetWidth-n.clientWidth;return this._renderer.removeChild(ct.body,n),r}_createLoaders(){const n=this.clf.createLoader();this.copyEvent(n.onBeforeShow,this.onShow),this.copyEvent(n.onShown,this.onShown),this.copyEvent(n.onBeforeHide,this.onHide),this.copyEvent(n.onHidden,this.onHidden),this.loaders.push(n)}removeLoaders(n){if(null!=n){const r=this.loaders.findIndex(i=>i.instance?.config.id===n);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,s)=>{i.instance&&(i.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(n,r){n.subscribe(i=>{r.emit(this.lastDismissReason||i)})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Xi),b(HE),b(yX,8))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();Wx.forRoot();let wX=(()=>{class t{static forRoot(){return{ngModule:t,providers:[$E,HE,UE]}}static forChild(){return{ngModule:t,providers:[$E,HE,UE]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({imports:[Wx]})}return t})();function d1(t){return void 0!==t&&void 0!==t.enterprise}class h1{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}const DX=function f1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},p1=new Jl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Of=new cv("@firebase/auth");function Pf(t,...e){Of.logLevel<=Ce.ERROR&&Of.error(`Auth (${Jo}): ${t}`,...e)}function sn(t,...e){throw GE(t,...e)}function br(t,...e){return GE(t,...e)}function GE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p1.create(t,...e)}function I(t,e,...n){if(!t)throw GE(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function Vi(t,e){t||Ir(e)}function xc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function m1(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function IX(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function WE(){return"http:"===m1()||"https:"===m1()}()||function M7(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=sv()||yP()}get(){return IX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zE(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class _1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},AX=new Fc(3e4,6e4);function Ve(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function je(t,e,n,r){return qE.apply(this,arguments)}function qE(){return(qE=y(function*(t,e,n,r,i={}){return y1(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ec(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),_1.fetch()(v1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function y1(t,e,n){return KE.apply(this,arguments)}function KE(){return(KE=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SX),e);try{const i=new MX(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Lc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Lc(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw Lc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function g1(t,e,n){const r=Object.assign(Object.assign({},DX()),{[e]:n});return new Jl("auth","Firebase",r).create(e,{appName:t.name})}(t,u,c);sn(t,u)}}catch(i){if(i instanceof Di)throw i;sn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Zr(t,e,n,r){return QE.apply(this,arguments)}function QE(){return(QE=y(function*(t,e,n,r,i={}){const s=yield je(t,e,n,r,i);return"mfaPendingCredential"in s&&sn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function v1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zE(t.config,i):`${t.config.apiScheme}://${i}`}class MX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),AX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=br(t,e,r);return i.customData._tokenResponse=n,i}function E1(t,e){return ZE.apply(this,arguments)}function ZE(){return(ZE=y(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",Ve(t,e))})).apply(this,arguments)}function JE(){return(JE=y(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function eC(){return(eC=y(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tC(){return(tC=y(function*(t,e=!1){const n=Ot(t),r=yield n.getIdToken(e),i=kf(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Vc(nC(i.auth_time)),issuedAtTime:Vc(nC(i.iat)),expirationTime:Vc(nC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function nC(t){return 1e3*Number(t)}function kf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ph(n);return i?JSON.parse(i):(Pf("Failed to decode base64 JWT payload"),null)}catch(i){return Pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Jr(t,e){return rC.apply(this,arguments)}function rC(){return(rC=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Di&&function FX({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class LX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class C1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bc(t){return iC.apply(this,arguments)}function iC(){return iC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Jr(t,function PX(t,e){return eC.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function UX(t){return t.map(e=>{var{providerId:n}=e,r=lp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function BX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new C1(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),iC.apply(this,arguments)}function sC(){return(sC=y(function*(t){const e=Ot(t);yield Bc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function oC(){return(oC=y(function*(t,e){const n=yield y1(t,{},y(function*(){const r=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=v1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function xX(t){const e=kf(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function HX(t,e){return oC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Uc;return r&&(I("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(I("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function Bi(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Fs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new C1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Jr(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function kX(t){return tC.apply(this,arguments)}(this,e)}reload(){return function VX(t){return sC.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Bc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Jr(e,function RX(t,e){return JE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:T,emailVerified:N,isAnonymous:j,providerData:Ee,stsTokenManager:we}=n;I(T&&we,e,"internal-error");const mt=Uc.fromJSON(this.name,we);I("string"==typeof T,e,"internal-error"),Bi(d,e.name),Bi(h,e.name),I("boolean"==typeof N,e,"internal-error"),I("boolean"==typeof j,e,"internal-error"),Bi(f,e.name),Bi(p,e.name),Bi(g,e.name),Bi(m,e.name),Bi(E,e.name),Bi(_,e.name);const It=new Fs({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:mt,createdAt:E,lastLoginAt:_});return Ee&&Array.isArray(Ee)&&(It.providerData=Ee.map(En=>Object.assign({},En))),m&&(It._redirectEventId=m),It}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Uc;i.updateFromServerResponse(n);const s=new Fs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bc(s),s})()}}const w1=new Map;function Xr(t){Vi(t instanceof Function,"Expected a class definition");let e=w1.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,w1.set(t,e),e)}const D1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function xf(t,e,n){return`firebase:${t}:${e}:${n}`}class fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=xf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Fs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new fa(Xr(D1),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Xr(D1);const o=xf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=yield c._get(o);if(u){const d=Fs._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new fa(s,e,r)):new fa(s,e,r)})()}}function b1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(N1(e))return"Webos";if(aC(e))return"Safari";if((e.includes("chrome/")||T1(e))&&!e.includes("edge/"))return"Chrome";if(A1(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function I1(t=ht()){return/firefox\//i.test(t)}function aC(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T1(t=ht()){return/crios\//i.test(t)}function S1(t=ht()){return/iemobile/i.test(t)}function A1(t=ht()){return/android/i.test(t)}function M1(t=ht()){return/blackberry/i.test(t)}function N1(t=ht()){return/webos/i.test(t)}function Ff(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R1(t=ht()){return Ff(t)||A1(t)||N1(t)||M1(t)||/windows phone/i.test(t)||S1(t)}function O1(t,e=[]){let n;switch(t){case"Browser":n=b1(ht());break;case"Worker":n=`${b1(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}class WX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function lC(){return(lC=y(function*(t,e={}){return je(t,"GET","/v2/passwordPolicy",Ve(t,e))})).apply(this,arguments)}class KX{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(n=l.meetsMinPasswordLength)||void 0===n||n),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class QX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P1(this),this.idTokenSubscription=new P1(this),this.beforeStateQueue=new WX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield fa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Bc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function TX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Ot(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return y(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return y(function*(){const n=yield function zX(t){return lC.apply(this,arguments)}(e),r=new KX(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Xr(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield fa.create(n,[Xr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}{const l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function bX(t,...e){Of.logLevel<=Ce.WARN&&Of.warn(`Auth (${Jo}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function et(t){return Ot(t)}class P1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function B7(t,e){const n=new U7(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=br("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function YX(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function k1(t){return`__${t}${Math.floor(1e6*Math.random())}`}class x1{constructor(e){this.type="recaptcha-enterprise",this.auth=et(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=y(function*(c,u){E1(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new h1(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;d1(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&d1(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));cC("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function Ui(t,e,n){return uC.apply(this,arguments)}function uC(){return(uC=y(function*(t,e,n,r=!1){const i=new x1(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function F1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class V1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}function U1(t,e){return fC.apply(this,arguments)}function fC(){return(fC=y(function*(t,e){return je(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function gC(t,e){return mC.apply(this,arguments)}function mC(){return(mC=y(function*(t,e){return Zr(t,"POST","/v1/accounts:signInWithPassword",Ve(t,e))})).apply(this,arguments)}function bC(){return(bC=y(function*(t,e){return Zr(t,"POST","/v1/accounts:signInWithEmailLink",Ve(t,e))})).apply(this,arguments)}function IC(){return(IC=y(function*(t,e){return Zr(t,"POST","/v1/accounts:signInWithEmailLink",Ve(t,e))})).apply(this,arguments)}class Hc extends V1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Hc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return y(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Ui(e,i,"signInWithPassword");return gC(e,s)}return gC(e,i).catch(function(){var s=y(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Ui(e,i,"signInWithPassword");return gC(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function cee(t,e){return bC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:sn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return y(function*(){switch(r.signInMethod){case"password":return U1(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function uee(t,e){return IC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:sn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ei(t,e){return TC.apply(this,arguments)}function TC(){return(TC=y(function*(t,e){return Zr(t,"POST","/v1/accounts:signInWithIdp",Ve(t,e))})).apply(this,arguments)}class Gc{constructor(e){var n,r,i,s,o,a;const l=tc(nc(e)),c=null!==(n=l.apiKey)&&void 0!==n?n:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function _ee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);I(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function yee(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}(e);try{return new Gc(n)}catch{return null}}}let H1=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Hc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Gc.parseLink(r);return I(i,"argument-error"),Hc._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Hi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vee extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Bf(t,e){return OC.apply(this,arguments)}function OC(){return(OC=y(function*(t,e){return Zr(t,"POST","/v1/accounts:signUp",Ve(t,e))})).apply(this,arguments)}class xn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield Fs._fromIdTokenResponse(e,r,i),o=j1(r);return new xn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=j1(r);return new xn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function j1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Uf extends Di{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uf(e,n,r,i)}}function $1(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Uf._fromErrorAndOperation(t,s,e,r):s})}function FC(){return(FC=y(function*(t,e,n=!1){const r=yield Jr(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return xn._forOperation(t,"link",r)})).apply(this,arguments)}function VC(){return(VC=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Jr(t,$1(r,i,e,t),n);I(s.idToken,r,"internal-error");const o=kf(s.idToken);I(o,r,"internal-error");const{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),xn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&sn(r,"user-mismatch"),s}})).apply(this,arguments)}function z1(t,e){return BC.apply(this,arguments)}function BC(){return(BC=y(function*(t,e,n=!1){const r="signIn",i=yield $1(t,r,e),s=yield xn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function UC(t,e){return HC.apply(this,arguments)}function HC(){return(HC=y(function*(t,e){return z1(et(t),e)})).apply(this,arguments)}function QC(t){return YC.apply(this,arguments)}function YC(){return(YC=y(function*(t){const e=et(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function nw(){return nw=y(function*(t,e,n){var r;const i=et(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield Ui(i,s,"signUpPassword");o=Bf(i,c)}else o=Bf(i,s).catch(function(){var c=y(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Ui(i,s,"signUpPassword");return Bf(i,d)}throw u});return function(u){return c.apply(this,arguments)}}());const a=yield o.catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&QC(t),c}),l=yield xn._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),nw.apply(this,arguments)}const jf="__sak";class K1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const zee=(()=>{class t extends K1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $ee(){const t=ht();return aC(t)||Ff(t)}()&&function GX(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=R1(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function $X(){return function N7(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Q1=(()=>{class t extends K1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Kee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function qee(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function yw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Qee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=yw("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function tt(){return window}function vw(){return typeof tt().WorkerGlobalScope<"u"&&"function"==typeof tt().importScripts}function Ew(){return(Ew=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Y1="firebaseLocalStorageDb",$f="firebaseLocalStorage",Z1="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gf(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function Cw(){const t=indexedDB.open(Y1,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($f,{keyPath:Z1})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains($f)?e(r):(r.close(),yield function tte(){const t=indexedDB.deleteDatabase(Y1);return new zc(t).toPromise()}(),e(yield Cw()))}))})}function J1(t,e,n){return ww.apply(this,arguments)}function ww(){return(ww=y(function*(t,e,n){const r=Gf(t,!0).put({[Z1]:e,value:n});return new zc(r).toPromise()})).apply(this,arguments)}function Dw(){return(Dw=y(function*(t,e){const n=Gf(t,!1).get(e),r=yield new zc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function X1(t,e){const n=Gf(t,!0).delete(e);return new zc(n).toPromise()}const ste=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield Cw()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return vw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=Kee._getInstance(function Xee(){return vw()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function Zee(){return Ew.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Qee(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function Jee(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield Cw();return yield J1(n,jf,"1"),yield X1(n,jf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>J1(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function nte(t,e){return Dw.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>X1(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=Gf(o,!1).getAll();return new zc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();k1("rcb"),new Fc(3e4,6e4);class Ow extends V1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Cte(t){return z1(t.auth,new Ow(t),t.bypassAuthState)}function wte(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function W1(t,e){return VC.apply(this,arguments)}(n,new Ow(t),t.bypassAuthState)}function Dte(t){return Pw.apply(this,arguments)}function Pw(){return(Pw=y(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function xC(t,e){return FC.apply(this,arguments)}(n,new Ow(t),t.bypassAuthState)})).apply(this,arguments)}class bte{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(c))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cte;case"linkViaPopup":case"linkViaRedirect":return Dte;case"reauthViaPopup":case"reauthViaRedirect":return wte;default:sn(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Fc(2e3,1e4);const Ite="pendingRedirect",qc=new Map;class Tte extends bte{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=qc.get(n.auth._key());if(!r){try{const s=(yield function Ste(t,e){return Vw.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}qc.set(n.auth._key(),r)}return n.bypassAuthState||qc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function Vw(){return(Vw=y(function*(t,e){const n=function nF(t){return xf(Ite,t.config.apiKey,t.name)}(e),r=function tF(t){return Xr(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Ate(t,e){qc.set(t._key(),e)}function rF(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=y(function*(t,e,n=!1){const r=et(t),i=function Vs(t,e){return e?Xr(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Tte(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Pte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function kte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sF(e))}saveEventToCache(e){this.cachedEventUids.add(sF(e)),this.lastProcessedEventTime=Date.now()}}function sF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function qw(){return(qw=y(function*(t,e={}){return je(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Fte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lte=/^https?/;function Kw(){return Kw=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function xte(t){return qw.apply(this,arguments)}(t);for(const n of e)try{if(Bte(n))return}catch{}sn(t,"unauthorized-domain")}),Kw.apply(this,arguments)}function Bte(t){const e=xc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Lte.test(n))return!1;if(Fte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ute=new Fc(3e4,6e4);function aF(){const t=tt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let zf=null;const $te=new Fc(5e3,15e3),Gte="__/auth/iframe",Wte="emulator/auth/iframe",zte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kte(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zE(e,Wte):`https://${t.config.authDomain}/${Gte}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},i=qte.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ec(r).slice(1)}`}function Qw(){return Qw=y(function*(t){const e=yield function jte(t){return zf=zf||function Hte(t){return new Promise((e,n)=>{var r,i,s;function o(){aF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aF(),n(br(t,"network-request-failed"))},timeout:Ute.get()})}if(null!==(i=null===(r=tt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=tt().gapi)||void 0===s||!s.load){const a=k1("iframefcb");return tt()[a]=()=>{gapi.load?o():n(br(t,"network-request-failed"))},cC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw zf=null,e})}(t),zf}(t),n=tt().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:Kte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zte,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=br(t,"network-request-failed"),l=tt().setTimeout(()=>{o(a)},$te.get());function c(){tt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Qw.apply(this,arguments)}const Yte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rne="__/auth/handler",ine="emulator/auth/handler",sne=encodeURIComponent("fac");function cF(t,e,n,r,i,s){return Yw.apply(this,arguments)}function Yw(){return(Yw=y(function*(t,e,n,r,i,s){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:i};if(e instanceof Hi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ov(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof vee){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield t._getAppCheckToken(),c=l?`#${sne}=${encodeURIComponent(l)}`:"";return`${function one({config:t}){return t.emulator?zE(t,ine):`https://${t.authDomain}/${rne}`}(t)}?${ec(a).slice(1)}${c}`})).apply(this,arguments)}const Zw="webStorageSupport",lne=class ane{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q1,this._completeRedirectFn=rF,this._overrideRedirectResult=Ate}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;Vi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield cF(e,n,r,xc(),i);return function tne(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Yte),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ht().toLowerCase();n&&(a=T1(c)?"_blank":n),I1(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function jX(t=ht()){var e;return Ff(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function nne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new lF(null);const d=window.open(e||"",a,u);I(d,t,"popup-blocked");try{d.focus()}catch{}return new lF(d)}(e,a,yw())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function Yee(t){tt().location.href=t}(yield cF(e,n,r,xc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function Qte(t){return Qw.apply(this,arguments)}(e),i=new Pte(e);return r.register("authEvent",s=>(I(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zw,{type:Zw},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Zw];void 0!==o&&n(!!o),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Vte(t){return Kw.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R1()||aC()||Ff()}};var hF="@firebase/auth";class cne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fne=_P("authIdTokenMaxAge")||300;let pF=null;const pne=t=>function(){var e=y(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>fne)return;const s=r?.token;pF!==s&&(pF=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function gne(t=AP()){const e=Hh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function tee(t,e){const n=Hh(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Lh(n.getOptions(),e??{}))return i;sn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:lne,persistence:[ste,zee,Q1]}),r=_P("authTokenSyncURL");if(r){const s=pne(r);(function Fee(t,e,n){Ot(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function xee(t,e,n,r){Ot(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=gP("auth");return i&&function ree(t,e,n){const r=et(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=F1(e),{host:o,port:a}=function iee(t){const e=F1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:L1(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:L1(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function see(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function dne(t){Zo(new Cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(t)},c=new QX(r,i,s,l);return function nee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zo(new Cs("auth-internal",e=>{const n=et(e.getProvider("auth").getImmediate());return new cne(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(hF,"1.3.0",function une(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ii(hF,"1.3.0","esm2017")}("Browser");let mne=(()=>{class t{constructor(n){this.dbService=n,this.auth=gne(this.dbService.app),function Lee(t,e,n,r){Ot(t).onAuthStateChanged(e,n,r)}(this.auth,r=>{r?(this.UserData=r,localStorage.setItem("user",JSON.stringify(this.UserData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}ngOnInit(){console.log()}createUser(n,r){return function Tee(t,e,n){return nw.apply(this,arguments)}(this.auth,n,r).then(i=>i).catch(i=>i)}login(n,r){return function See(t,e,n){return UC(Ot(t),H1.credential(e,n)).catch(function(){var r=y(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&QC(t),i});return function(i){return r.apply(this,arguments)}}())}(this.auth,n,r).then(i=>(this.UserData=i.user,i)).catch(i=>i)}Logout(){(function Vee(t){return Ot(t).signOut()})(this.auth).then(()=>{localStorage.removeItem("user"),this.UserData=null})}getAuthFire(){return this.auth.currentUser}get isLoggedIn(){const n=localStorage.getItem("user");return null!==JSON.parse(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(da))};static#t=this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gF=["toast-component",""];function _ne(t,e){if(1&t){const n=Un();x(0,"button",5),le("click",function(){return Ct(n),wt(ae().remove())}),x(1,"span",6),ge(2,"\xd7"),F()()}}function yne(t,e){if(1&t&&(rl(0),ge(1),il()),2&t){const n=ae(2);J(1),Lr("[",n.duplicatesCount+1,"]")}}function vne(t,e){if(1&t&&(x(0,"div"),ge(1),Pe(2,yne,2,1,"ng-container",4),F()),2&t){const n=ae();ur(n.options.titleClass),Mt("aria-label",n.title),J(1),Lr(" ",n.title," "),J(1),X("ngIf",n.duplicatesCount)}}function Ene(t,e){if(1&t&&Je(0,"div",7),2&t){const n=ae();ur(n.options.messageClass),X("innerHTML",n.message,Dg)}}function Cne(t,e){if(1&t&&(x(0,"div",8),ge(1),F()),2&t){const n=ae();ur(n.options.messageClass),Mt("aria-label",n.message),J(1),Lr(" ",n.message," ")}}function wne(t,e){if(1&t&&(x(0,"div"),Je(1,"div",9),F()),2&t){const n=ae();J(1),Oo("width",n.width+"%")}}class Mne{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Nne{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Rne{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new nt;_activate=new nt;_manualClose=new nt;_resetTimeout=new nt;_countDuplicate=new nt;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class Kf{toastId;config;message;title;toastType;toastRef;_onTap=new nt;_onAction=new nt;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const _F=new R("ToastConfig");class One extends Nne{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Pne=(()=>{class t{_document=S(Qe);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class kne{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let xne=(()=>{class t{_overlayContainer=S(Pne);_componentFactoryResolver=S(_o);_appRef=S(fr);_document=S(Qe);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new One(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new kne(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xw=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...n.default,...n.config},n.config.iconClasses&&(this.toastrConfig.iconClasses={...n.default.iconClasses,...n.config.iconClasses})}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===n)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(n={}){return{...this.toastrConfig,...n}}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(hn.HTML,r));const u=new Rne(l),d=new Kf(this.index,s,c,i,n,u),f=ot.create({providers:[{provide:Kf,useValue:d}],parent:this._injector}),p=new Mne(s.toastComponent,f),g=l.attach(p,s.newestOnTop);u.componentInstance=g.instance;const m={toastId:this.index,title:i||"",message:r||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(r){return new(r||t)(b(_F),b(xne),b(ot),b(pN),b(ie))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Fne={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(C(Xw),C(Kf),C(ie))};static \u0275cmp=In({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&le("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(Cm("@flyInOut",i.state),ur(i.toastClasses),Oo("display",i.displayStyle))},standalone:!0,features:[vd],attrs:gF,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(Pe(0,_ne,3,0,"button",0),Pe(1,vne,3,5,"div",1),Pe(2,Ene,1,3,"div",2),Pe(3,Cne,2,4,"div",3),Pe(4,wne,2,2,"div",4)),2&r&&(X("ngIf",i.options.closeButton),J(1),X("ngIf",i.title),J(1),X("ngIf",i.message&&i.options.enableHtml),J(1),X("ngIf",i.message&&!i.options.enableHtml),J(1),X("ngIf",i.options.progressBar))},dependencies:[vl],encapsulation:2,data:{animation:[Wq("flyInOut",[V_("inactive",wl({opacity:0})),V_("active",wl({opacity:1})),V_("removed",wl({opacity:0})),EN("inactive => active",yN("{{ easeTime }}ms {{ easing }}")),EN("active => removed",yN("{{ easeTime }}ms {{ easing }}"))])]}})}return t})()},Lne=(t={})=>function Ig(t){return{\u0275providers:t}}([{provide:_F,useValue:{default:Fne,config:t}}]);function Vne(t,e){if(1&t){const n=Un();x(0,"button",10),le("click",function(){Ct(n);const i=ae(),s=function IS(t){return function Zs(t,e){return t[e]}(function BV(){return B.lFrame.contextLView}(),ne+t)}(12);return wt(i.openJoinModal(s))}),ge(1,"Join"),F()}}function Bne(t,e){if(1&t){const n=Un();x(0,"button",10),le("click",function(){return Ct(n),wt(ae().authService.Logout())}),ge(1,"Logout"),F()}}function Une(t,e){1&t&&(x(0,"h3",17),ge(1,"Signup"),F())}function Hne(t,e){1&t&&(x(0,"h3",17),ge(1,"Login"),F())}function jne(t,e){if(1&t){const n=Un();x(0,"div")(1,"form",18),le("ngSubmit",function(){return Ct(n),wt(ae(2).onSignup())}),x(2,"div",19)(3,"label",20),ge(4,"Name"),F(),Je(5,"input",21),F(),x(6,"div",19)(7,"label",22),ge(8,"Email"),F(),Je(9,"input",23),F(),x(10,"div",24)(11,"label",25),ge(12,"password"),F(),Je(13,"input",26),F(),x(14,"div",24)(15,"button",27),ge(16,"Register"),F()()(),x(17,"p"),ge(18,"Already have an account. "),x(19,"a",28),le("click",function(i){Ct(n);const s=ae(2);return i.preventDefault(),wt(s.signUporLogin="login")}),ge(20,"Login"),F(),ge(21," Instead"),F()()}if(2&t){const n=ae(2);J(1),X("formGroup",n.signupForm)}}function $ne(t,e){if(1&t){const n=Un();x(0,"div")(1,"form",18),le("ngSubmit",function(){return Ct(n),wt(ae(2).onLogin())}),x(2,"div",24)(3,"label",22),ge(4,"Email"),F(),Je(5,"input",23),F(),x(6,"div",24)(7,"label",25),ge(8,"password"),F(),Je(9,"input",26),F(),x(10,"div",24)(11,"button",27),ge(12,"Login"),F()()(),x(13,"p"),ge(14,"Lets do a Quick "),x(15,"a",28),le("click",function(i){Ct(n);const s=ae(2);return i.preventDefault(),wt(s.signUporLogin="signup")}),ge(16,"Signup"),F()()()}if(2&t){const n=ae(2);J(1),X("formGroup",n.loginForm)}}function Gne(t,e){if(1&t){const n=Un();x(0,"div",11),Pe(1,Une,2,0,"h3",12),Pe(2,Hne,2,0,"h3",12),x(3,"button",13),le("click",function(){Ct(n);const i=ae();return wt(null==i.modalRef?null:i.modalRef.hide())}),x(4,"span",14),ge(5,"\xd7"),F()()(),x(6,"div",15),Pe(7,jne,22,1,"div",16),Pe(8,$ne,17,1,"div",16),F()}if(2&t){const n=ae();J(1),X("ngIf","signup"==n.signUporLogin),J(1),X("ngIf","login"==n.signUporLogin),J(5),X("ngIf","signup"==n.signUporLogin),J(1),X("ngIf","login"==n.signUporLogin)}}let Wne=(()=>{class t{constructor(n,r,i){this.modalService=n,this.authService=r,this.toastr=i,this.signUporLogin="signup",this.sessionKey="",this.signupForm=new Rl({name:new ds(""),email:new ds(""),password:new ds("")}),this.loginForm=new Rl({email:new ds(""),password:new ds("")})}openJoinModal(n){this.modalRef=this.modalService.show(n)}onSignup(){var n=this;return y(function*(){let r=yield n.authService.createUser(n.signupForm.value.email,n.signupForm.value.password).then(i=>i.user);console.log(r),r&&r.uid?(n.toastr.success("Signup Successful","Success"),n.modalRef?.hide()):n.toastr.error("Error Signing In","Signup Failed")})()}onLogin(){var n=this;return y(function*(){let r=yield n.authService.login(n.loginForm.value.email,n.loginForm.value.password).then(i=>i.user);r&&r.uid?(n.toastr.success("Login Successful","Success"),n.modalRef?.hide()):n.toastr.error("Error Logging In","Login Failed")})()}static#e=this.\u0275fac=function(r){return new(r||t)(C($E),C(mne),C(Xw))};static#t=this.\u0275cmp=In({type:t,selectors:[["app-navbar"]],inputs:{sessionKey:"sessionKey"},decls:13,vars:3,consts:[[1,"navbar","navbar-expand-sm","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["type","search","aria-label","Search","disabled","",1,"form-control","me-2",3,"placeholder"],["class","btn btn-outline-success","type","submit",3,"click",4,"ngIf"],["join",""],["type","submit",1,"btn","btn-outline-success",3,"click"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[4,"ngIf"],[1,"modal-title"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name",1,"form-control"],["for","email",1,"form-label"],["type","email","formControlName","email",1,"form-control"],[1,"mb-4"],["for","password",1,"form-label"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],["href","",3,"click"]],template:function(r,i){1&r&&(x(0,"nav",0)(1,"div",1)(2,"a",2),ge(3,"Lets Todo"),F(),x(4,"button",3),Je(5,"span",4),F(),x(6,"div",5),Je(7,"ul",6)(8,"input",7),Pe(9,Vne,2,0,"button",8),Pe(10,Bne,2,0,"button",8),F()()(),Pe(11,Gne,9,4,"ng-template",null,9,I0)),2&r&&(J(8),gm("placeholder",i.sessionKey),J(1),X("ngIf",!i.authService.UserData),J(1),X("ngIf",i.authService.UserData))},dependencies:[vl,UR,Al,hy,SR,fh,Ty]})}return t})();const yF=["move","copy","link"],Qf="application/x-dnd",eD="application/json",Yf="Text";function vF(t){return t.substr(0,Qf.length)===Qf}function EF(t){if(t.dataTransfer){const e=t.dataTransfer.types;if(!e)return Yf;for(let n=0;n<e.length;n++)if(e[n]===Yf||e[n]===eD||vF(e[n]))return e[n]}return null}function Zf(t,e){return"all"===e||"uninitialized"===e?t:t.filter(function(n){return-1!==e.toLowerCase().indexOf(n)})}function Yne(t,e){const n=window.getComputedStyle(e),r=parseFloat(n.paddingTop)||0,i=parseFloat(n.paddingLeft)||0,s=parseFloat(n.borderTopWidth)||0,o=parseFloat(n.borderLeftWidth)||0;return{x:t.offsetX+i+o,y:t.offsetY+r+s}}const kt={isDragging:!1,dropEffect:"none",effectAllowed:"all",type:void 0};function CF(){kt.isDragging=!1,kt.dropEffect=void 0,kt.effectAllowed=void 0,kt.type=void 0}function tD(t,e){!0===kt.isDragging&&(kt.dropEffect=e),t.dataTransfer&&(t.dataTransfer.dropEffect=e)}function wF(t,e){let r=Zf(yF,t.dataTransfer?t.dataTransfer.effectAllowed:"uninitialized");return!0===kt.isDragging&&(r=Zf(r,kt.effectAllowed)),e&&(r=Zf(r,e)),0===r.length?"none":t.ctrlKey&&-1!==r.indexOf("copy")?"copy":t.altKey&&-1!==r.indexOf("link")?"link":r[0]}function nD(t){if(!0===kt.isDragging)return kt.type;const e=EF(t);return null!==e&&e!==Yf&&e!==eD&&e.substr(Qf.length+1)||void 0}function rD(){return!1===kt.isDragging}const DF=kt;let Xne=(()=>{class t{dndDraggable;dndEffectAllowed="copy";dndType;dndDraggingClass="dndDragging";dndDraggingSourceClass="dndDraggingSource";dndDraggableDisabledClass="dndDraggableDisabled";dndDragImageOffsetFunction=Yne;dndStart=new Q;dndDrag=new Q;dndEnd=new Q;dndMoved=new Q;dndCopied=new Q;dndLinked=new Q;dndCanceled=new Q;draggable=!0;dndHandle;dndDragImageElementRef;dragImage;isDragStarted=!1;elementRef=S(Ke);renderer=S(fn);ngZone=S(ie);set dndDisableIf(n){this.draggable=!n,this.draggable?this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass):this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass)}set dndDisableDragIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("drag",this.dragEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("drag",this.dragEventHandler),this.isDragStarted&&CF()}onDragStart(n){if(!this.draggable)return!1;if(null!=this.dndHandle&&null==n._dndUsingHandle)return n.stopPropagation(),!1;(function Jne(t,e,n){kt.isDragging=!0,kt.dropEffect="none",kt.effectAllowed=e,kt.type=n,t.dataTransfer&&(t.dataTransfer.effectAllowed=e)})(n,this.dndEffectAllowed,this.dndType),this.isDragStarted=!0,function zne(t,e,n){const r=Qf+(e.type?"-"+e.type:""),i=JSON.stringify(e);try{t.dataTransfer?.setData(r,i)}catch{try{t.dataTransfer?.setData(eD,i)}catch{const a=Zf(yF,n);t.dataTransfer&&(t.dataTransfer.effectAllowed=a[0]),t.dataTransfer?.setData(Yf,i)}}}(n,{data:this.dndDraggable,type:this.dndType},DF.effectAllowed),this.dragImage=this.determineDragImage(),this.renderer.addClass(this.dragImage,this.dndDraggingClass),(null!=this.dndDragImageElementRef||null!=n._dndUsingHandle)&&function Zne(t,e,n){const r=n(t,e)||{x:0,y:0};t.dataTransfer.setDragImage(e,r.x,r.y)}(n,this.dragImage,this.dndDragImageOffsetFunction);const r=this.renderer.listen(this.elementRef.nativeElement,"drag",()=>{this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggingSourceClass),r()});return this.dndStart.emit(n),n.stopPropagation(),setTimeout(()=>{this.renderer.setStyle(this.dragImage,"pointer-events","none")},100),!0}onDrag(n){this.dndDrag.emit(n)}onDragEnd(n){if(!this.draggable||!this.isDragStarted)return;const r=DF.dropEffect;let i;switch(this.renderer.setStyle(this.dragImage,"pointer-events","unset"),r){case"copy":i=this.dndCopied;break;case"link":i=this.dndLinked;break;case"move":i=this.dndMoved;break;default:i=this.dndCanceled}i.emit(n),this.dndEnd.emit(n),CF(),this.isDragStarted=!1,this.renderer.removeClass(this.dragImage,this.dndDraggingClass),window.setTimeout(()=>{this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggingSourceClass)},0),n.stopPropagation()}registerDragHandle(n){this.dndHandle=n}registerDragImage(n){this.dndDragImageElementRef=n}dragEventHandler=n=>this.onDrag(n);determineDragImage(){return typeof this.dndDragImageElementRef<"u"?this.dndDragImageElementRef.nativeElement:this.elementRef.nativeElement}static \u0275fac=function(r){return new(r||t)};static \u0275dir=k({type:t,selectors:[["","dndDraggable",""]],hostVars:1,hostBindings:function(r,i){1&r&&le("dragstart",function(o){return i.onDragStart(o)})("dragend",function(o){return i.onDragEnd(o)}),2&r&&Mt("draggable",i.draggable)},inputs:{dndDraggable:"dndDraggable",dndEffectAllowed:"dndEffectAllowed",dndType:"dndType",dndDraggingClass:"dndDraggingClass",dndDraggingSourceClass:"dndDraggingSourceClass",dndDraggableDisabledClass:"dndDraggableDisabledClass",dndDragImageOffsetFunction:"dndDragImageOffsetFunction",dndDisableIf:"dndDisableIf",dndDisableDragIf:"dndDisableDragIf"},outputs:{dndStart:"dndStart",dndDrag:"dndDrag",dndEnd:"dndEnd",dndMoved:"dndMoved",dndCopied:"dndCopied",dndLinked:"dndLinked",dndCanceled:"dndCanceled"},standalone:!0})}return t})(),bF=(()=>{class t{elementRef;constructor(n){this.elementRef=n}ngOnInit(){this.elementRef.nativeElement.style.pointerEvents="none"}static \u0275fac=function(r){return new(r||t)(C(Ke))};static \u0275dir=k({type:t,selectors:[["","dndPlaceholderRef",""]],standalone:!0})}return t})(),ere=(()=>{class t{ngZone;elementRef;renderer;dndDropzone="";dndEffectAllowed="uninitialized";dndAllowExternal=!1;dndHorizontal=!1;dndDragoverClass="dndDragover";dndDropzoneDisabledClass="dndDropzoneDisabled";dndDragover=new Q;dndDrop=new Q;dndPlaceholderRef;placeholder=null;disabled=!1;constructor(n,r,i){this.ngZone=n,this.elementRef=r,this.renderer=i}set dndDisableIf(n){this.disabled=n,this.disabled?this.renderer.addClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass):this.renderer.removeClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass)}set dndDisableDropIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.placeholder=this.tryGetPlaceholder(),this.removePlaceholderFromDOM(),this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.addEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.removeEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragEnter(n){if(!0===n._dndDropzoneActive)return void this.cleanupDragoverState();if(null==n._dndDropzoneActive){const i=document.elementFromPoint(n.clientX,n.clientY);this.elementRef.nativeElement.contains(i)&&(n._dndDropzoneActive=!0)}const r=nD(n);this.isDropAllowed(r)&&n.preventDefault()}onDragOver(n){if(n.defaultPrevented)return;const r=nD(n);if(!this.isDropAllowed(r))return;this.checkAndUpdatePlaceholderPosition(n);const i=wF(n,this.dndEffectAllowed);"none"!==i?(n.preventDefault(),tD(n,i),this.dndDragover.emit(n),this.renderer.addClass(this.elementRef.nativeElement,this.dndDragoverClass)):this.cleanupDragoverState()}onDrop(n){try{const r=nD(n);if(!this.isDropAllowed(r))return;const i=function qne(t,e){const n=EF(t);return!0===e?null!==n&&vF(n)?JSON.parse(t.dataTransfer?.getData(n)??"{}"):{}:null!==n?JSON.parse(t.dataTransfer?.getData(n)??"{}"):{}}(n,rD());if(!this.isDropAllowed(i.type))return;n.preventDefault();const s=wF(n);if(tD(n,s),"none"===s)return;const o=this.getPlaceholderIndex();if(-1===o)return;this.dndDrop.emit({event:n,dropEffect:s,isExternal:rD(),data:i.data,index:o,type:r}),n.stopPropagation()}finally{this.cleanupDragoverState()}}onDragLeave(n){n.preventDefault(),n.stopPropagation(),null==n._dndDropzoneActive&&this.elementRef.nativeElement.contains(n.relatedTarget)?n._dndDropzoneActive=!0:(this.cleanupDragoverState(),tD(n,"none"))}dragEnterEventHandler=n=>this.onDragEnter(n);dragOverEventHandler=n=>this.onDragOver(n);dragLeaveEventHandler=n=>this.onDragLeave(n);isDropAllowed(n){if(this.disabled||rD()&&!this.dndAllowExternal)return!1;if(!this.dndDropzone||!n)return!0;if(!Array.isArray(this.dndDropzone))throw new Error("dndDropzone: bound value to [dndDropzone] must be an array!");return-1!==this.dndDropzone.indexOf(n)}tryGetPlaceholder(){return typeof this.dndPlaceholderRef<"u"?this.dndPlaceholderRef.elementRef.nativeElement:this.elementRef.nativeElement.querySelector("[dndPlaceholderRef]")}removePlaceholderFromDOM(){null!==this.placeholder&&null!==this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder)}checkAndUpdatePlaceholderPosition(n){if(null===this.placeholder)return;this.placeholder.parentNode!==this.elementRef.nativeElement&&this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder);const r=function Kne(t,e){let n=e;for(;n.parentNode!==t;){if(!n.parentNode)return null;n=n.parentNode}return n}(this.elementRef.nativeElement,n.target);null!==r&&r!==this.placeholder&&(function Qne(t,e,n){const r=e.getBoundingClientRect();return n?t.clientX<r.left+r.width/2:t.clientY<r.top+r.height/2}(n,r,this.dndHorizontal)?r.previousSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,r):r.nextSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,r.nextSibling))}getPlaceholderIndex(){if(null!==this.placeholder)return Array.prototype.indexOf.call(this.elementRef.nativeElement.children,this.placeholder)}cleanupDragoverState(){this.renderer.removeClass(this.elementRef.nativeElement,this.dndDragoverClass),this.removePlaceholderFromDOM()}static \u0275fac=function(r){return new(r||t)(C(ie),C(Ke),C(fn))};static \u0275dir=k({type:t,selectors:[["","dndDropzone",""]],contentQueries:function(r,i,s){if(1&r&&Hm(s,bF,5),2&r){let o;Um(o=function jm(){return function zG(t,e){return t[tr].queries[e].queryList}(w(),kb())}())&&(i.dndPlaceholderRef=o.first)}},hostBindings:function(r,i){1&r&&le("drop",function(o){return i.onDrop(o)})},inputs:{dndDropzone:"dndDropzone",dndEffectAllowed:"dndEffectAllowed",dndAllowExternal:"dndAllowExternal",dndHorizontal:"dndHorizontal",dndDragoverClass:"dndDragoverClass",dndDropzoneDisabledClass:"dndDropzoneDisabledClass",dndDisableIf:"dndDisableIf",dndDisableDropIf:"dndDisableDropIf"},outputs:{dndDragover:"dndDragover",dndDrop:"dndDrop"},standalone:!0})}return t})(),tre=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Yt({type:t});static \u0275inj=Lt({})}return t})();function nre(t,e){if(1&t&&(x(0,"span"),ge(1),F()),2&t){const n=ae();J(1),pd(n.card.title)}}function rre(t,e){if(1&t){const n=Un();x(0,"input",7),le("ngModelChange",function(i){return Ct(n),wt(ae().card.title=i)})("blur",function(i){return Ct(n),wt(ae().onUpdateCard("title",i))})("keyup.enter",function(i){return Ct(n),wt(ae().onUpdateCard("title",i))}),F()}2&t&&X("ngModel",ae().card.title)}function ire(t,e){if(1&t&&(x(0,"span"),ge(1),F()),2&t){const n=ae();J(1),pd(n.card.body)}}function sre(t,e){if(1&t){const n=Un();x(0,"textarea",8),le("ngModelChange",function(i){return Ct(n),wt(ae().card.body=i)})("blur",function(i){return Ct(n),wt(ae().onUpdateCard("body",i))})("keyup.enter",function(i){return Ct(n),wt(ae().onUpdateCard("body",i))}),F()}2&t&&X("ngModel",ae().card.body)}const ore=function(t){return{onHoverTitle:t}},are=function(t){return{onHoverBody:t}};let lre=(()=>{class t{constructor(n){this.dbService=n,this.titleClicked=!1,this.bodyClicked=!1,this.cardData={},this.card={title:"",body:"",styleClass:[]}}ngOnInit(){this.getCard()}getCard(){this.dbService.readDataFromDB(`cards/${this.cardData.id}`,!0).subscribe(n=>{this.card=n,this.checkCardDetails()})}checkCardDetails(){""==this.card.title.trim()&&(this.titleClicked=!0),""==this.card.body.trim()&&(this.bodyClicked=!0)}onUpdateCard(n,r){"title"===n&&(this.titleClicked=!1),"body"===n&&(this.bodyClicked=!1);let i=this.dbService.updateDatatoDB(this.card,`cards/${this.cardData.id}`);console.log(i)}static#e=this.\u0275fac=function(r){return new(r||t)(C(da))};static#t=this.\u0275cmp=In({type:t,selectors:[["app-card"]],inputs:{cardData:"cardData"},decls:8,vars:11,consts:[[1,"card","mx-auto",3,"ngClass"],[1,"card-body"],[1,"card-title",3,"ngClass","click"],[4,"ngIf"],["placeholder","Title","type","text","class","form-control",3,"ngModel","ngModelChange","blur","keyup.enter",4,"ngIf"],[1,"card-text",3,"ngClass","click"],["placeholder","Body","class","form-control","rows","5",3,"ngModel","ngModelChange","blur","keyup.enter",4,"ngIf"],["placeholder","Title","type","text",1,"form-control",3,"ngModel","ngModelChange","blur","keyup.enter"],["placeholder","Body","rows","5",1,"form-control",3,"ngModel","ngModelChange","blur","keyup.enter"]],template:function(r,i){1&r&&(x(0,"div",0)(1,"div",1)(2,"h5",2),le("click",function(){return i.titleClicked=!0}),Pe(3,nre,2,1,"span",3),Pe(4,rre,1,1,"input",4),F(),x(5,"p",5),le("click",function(){return i.bodyClicked=!0}),Pe(6,ire,2,1,"span",3),Pe(7,sre,1,1,"textarea",6),F()()()),2&r&&(X("ngClass",i.card.styleClass),J(2),X("ngClass",Om(7,ore,!i.titleClicked)),J(1),X("ngIf",!i.titleClicked),J(1),X("ngIf",i.titleClicked),J(1),X("ngClass",Om(9,are,!i.titleClicked)),J(1),X("ngIf",!i.bodyClicked),J(1),X("ngIf",i.bodyClicked))},dependencies:[VM,vl,Al,hy,wy],styles:[".card[_ngcontent-%COMP%]{width:100%;max-width:250px;min-height:200px}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{height:100%}.onHoverTitle[_ngcontent-%COMP%]:hover, .onHoverBody[_ngcontent-%COMP%]:hover{border:1px dashed white;padding:5px;transition:all .2s ease}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{color:#fff;background-color:#fff1}"]})}return t})();function cre(t,e){if(1&t){const n=Un();x(0,"div",7),le("dndMoved",function(){const i=Ct(n),s=i.index,o=i.$implicit,a=ae();return wt(a.onDragged(s,o,a.cards))}),Je(1,"app-card",8),F()}if(2&t){const n=e.$implicit;X("dndDraggable",n)("dndType",n.type),J(1),X("cardData",n)}}const ure=function(){return["banana"]};let dre=(()=>{class t{constructor(n,r){this.dbService=n,this.localStorageService=r,this.cards=[],this.session={cards:[]}}ngOnInit(){this.readSessionKeyData()}trackByFruit(n,r){return r}readSessionKeyData(){this.dbService.readDataFromDB("sessions").subscribe(n=>{let r=Object.values(n);this.session=r.find(i=>i.sessionKey===this.localStorageService.GetKey()),this.cards.length||(this.cards=this.session.cards)})}onDragStart(n){console.log("drag started")}onDragged(n,r,i){const s=i.indexOf(r);console.log(`onDragged ngFor-index=${n}, item=${r}, removeIndex=${s}, list=${i.length}`),i.splice(s,1),this.dbService.updateDatatoDB({cards:i},`sessions/${this.session.id}`)}onDragEnd(n){console.log("drag ended")}onDrop(n,r){return y(function*(){if(r&&("copy"===n.dropEffect||"move"===n.dropEffect)){let i=n.index;typeof i>"u"&&(i=r.length),r.splice(i,0,n.data)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(C(da),C(NE))};static#t=this.\u0275cmp=In({type:t,selectors:[["app-cards-list"]],decls:7,vars:4,consts:[["dndEffectAllowed","move",1,"row","row-cols-1","row-cols-lg-4","row-cols-md-3","row-cols-sm-2","g-4","dndList",3,"dndDropzone","dndDrop"],["dndPlaceholderRef","",1,"col"],[1,"card","mx-auto"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","col","dndEffectAllowed","move",3,"dndDraggable","dndType","dndMoved",4,"ngFor","ngForOf","ngForTrackBy"],["dndEffectAllowed","move",1,"col",3,"dndDraggable","dndType","dndMoved"],[3,"cardData"]],template:function(r,i){1&r&&(x(0,"div",0),le("dndDrop",function(o){return i.onDrop(o,i.cards)}),x(1,"div",1)(2,"div",2)(3,"div",3),Je(4,"h5",4)(5,"p",5),F()()(),Pe(6,cre,2,3,"div",6),F()),2&r&&(X("dndDropzone",function s0(t,e,n){const r=Ut()+t,i=w();return i[r]===W?lr(i,r,n?e.call(n):e()):function Xa(t,e){return t[e]}(i,r)}(3,ure)),J(6),X("ngForOf",i.cards)("ngForTrackBy",i.trackByFruit))},dependencies:[UM,Xne,ere,bF,lre],styles:[".dndList[_ngcontent-%COMP%]{transition:all .3s ease;padding:8px;overflow-y:auto}.dndList.dndDragover[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;border-color:green}.dndDragging[_ngcontent-%COMP%]{border:1px dotted gray;padding:10px;background-color:#dcdcdc}.dndDraggingSource[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]{width:100%;max-width:250px;height:200px}"]})}return t})(),hre=(()=>{class t{constructor(n,r){this.localStorageService=n,this.dbService=r}addNewCard(){var n=this;return y(function*(){let r=yield n.dbService.saveDatatoDB({title:" ",body:" ",styleClass:["bg-danger","text-light"]},"cards");console.log(r);let i=yield n.localStorageService.getSessionId();console.log(r),n.dbService.runDBTransaction(`sessions/${i}`,s=>(s&&s.cards&&Array.isArray(s.cards)&&s.cards.push({id:r.key}),s))})()}static#e=this.\u0275fac=function(r){return new(r||t)(C(NE),C(da))};static#t=this.\u0275cmp=In({type:t,selectors:[["app-home-bar"]],decls:7,vars:0,consts:[[1,"row","my-4"],[1,"col-10"],["type","text","placeholder","Search the Todos",1,"form-control"],[1,"col-2"],[1,"d-grid","col-12","mx-auto"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(r,i){1&r&&(x(0,"div",0)(1,"div",1),Je(2,"input",2),F(),x(3,"div",3)(4,"div",4)(5,"button",5),le("click",function(){return i.addNewCard()}),ge(6,"New"),F()()()())}})}return t})();const fre=[{path:"",component:(()=>{class t{constructor(n,r){this.localStorageService=n,this.dbService=r,this.sessionKey=""}ngOnInit(){this.generateAndSaveSession()}generateAndSaveSession(){let n=this.localStorageService.GetExistingStorageKey();console.log(n),n?this.sessionKey=n:(this.sessionKey=this.localStorageService.GetNewSessionKey(),this.addKeytoDB())}addKeytoDB(){this.dbService.saveDatatoDB({sessionKey:this.sessionKey},"/sessions")}static#e=this.\u0275fac=function(r){return new(r||t)(C(NE),C(da))};static#t=this.\u0275cmp=In({type:t,selectors:[["app-home"]],decls:4,vars:1,consts:[[3,"sessionKey"],[1,"container"]],template:function(r,i){1&r&&(Je(0,"app-navbar",0),x(1,"div",1),Je(2,"app-home-bar")(3,"app-cards-list"),F()),2&r&&X("sessionKey",i.sessionKey)},dependencies:[Wne,dre,hre],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}"]})}return t})()}];let pre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t});static#n=this.\u0275inj=Lt({imports:[cP.forRoot(fre),cP]})}return t})(),gre=(()=>{class t{constructor(){this.title="todo"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=In({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"app"]],template:function(r,i){1&r&&(x(0,"div",0),Je(1,"router-outlet"),F())},dependencies:[qy]})}return t})(),mre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yt({type:t,bootstrap:[gre]});static#n=this.\u0275inj=Lt({providers:[j8(),Lne()],imports:[Lq,W6,z6,pre,tre,wX.forRoot()]})}return t})();xq().bootstrapModule(mre).catch(t=>console.error(t))}},re=>{re(re.s=221)}]);