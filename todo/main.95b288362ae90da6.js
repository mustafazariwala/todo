"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[179],{46:()=>{function Q(e){return"function"==typeof e}function ks(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const rc=ks(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function lo(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class vt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){t=o instanceof rc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{AE(o)}catch(s){t=t??[],s instanceof rc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new rc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)AE(t);else{if(t instanceof vt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&lo(n,t)}remove(t){const{_finalizers:n}=this;n&&lo(n,t),t instanceof vt&&t._removeParent(this)}}vt.EMPTY=(()=>{const e=new vt;return e.closed=!0,e})();const SE=vt.EMPTY;function TE(e){return e instanceof vt||e&&"closed"in e&&Q(e.remove)&&Q(e.add)&&Q(e.unsubscribe)}function AE(e){Q(e)?e():e.unsubscribe()}const pi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ic={setTimeout(e,t,...n){const{delegate:r}=ic;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ic;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ME(e){ic.setTimeout(()=>{const{onUnhandledError:t}=pi;if(!t)throw e;t(e)})}function $h(){}const ak=Gh("C",void 0,void 0);function Gh(e,t,n){return{kind:e,value:t,error:n}}let gi=null;function oc(e){if(pi.useDeprecatedSynchronousErrorHandling){const t=!gi;if(t&&(gi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=gi;if(gi=null,n)throw r}}else e()}class Wh extends vt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,TE(t)&&t.add(this)):this.destination=pk}static create(t,n,r){return new Fs(t,n,r)}next(t){this.isStopped?qh(function ck(e){return Gh("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?qh(function lk(e){return Gh("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?qh(ak,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dk=Function.prototype.bind;function zh(e,t){return dk.call(e,t)}class hk{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){sc(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){sc(r)}else sc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){sc(n)}}}class Fs extends Wh{constructor(t,n,r){let i;if(super(),Q(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&zh(t.next,o),error:t.error&&zh(t.error,o),complete:t.complete&&zh(t.complete,o)}):i=t}this.destination=new hk(i)}}function sc(e){pi.useDeprecatedSynchronousErrorHandling?function uk(e){pi.useDeprecatedSynchronousErrorHandling&&gi&&(gi.errorThrown=!0,gi.error=e)}(e):ME(e)}function qh(e,t){const{onStoppedNotification:n}=pi;n&&ic.setTimeout(()=>n(e,t))}const pk={closed:!0,next:$h,error:function fk(e){throw e},complete:$h},Kh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Tr(e){return e}function RE(e){return 0===e.length?Tr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Ae=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function _k(e){return e&&e instanceof Wh||function mk(e){return e&&Q(e.next)&&Q(e.error)&&Q(e.complete)}(e)&&TE(e)}(n)?n:new Fs(n,r,i);return oc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=NE(r))((i,o)=>{const s=new Fs({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Kh](){return this}pipe(...n){return RE(n)(this)}toPromise(n){return new(n=NE(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function NE(e){var t;return null!==(t=e??pi.Promise)&&void 0!==t?t:Promise}const vk=ks(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let en=(()=>{class e extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new OE(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vk}next(n){oc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){oc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?SE:(this.currentObservers=null,o.push(n),new vt(()=>{this.currentObservers=null,lo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ae;return n.source=this,n}}return e.create=(t,n)=>new OE(t,n),e})();class OE extends en{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:SE}}function PE(e){return Q(e?.lift)}function je(e){return t=>{if(PE(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ve(e,t,n,r,i){return new yk(e,t,n,r,i)}class yk extends Wh{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function he(e,t){return je((n,r)=>{let i=0;n.subscribe(Ve(r,o=>{r.next(e.call(t,o,i++))}))})}function Zh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ar(e){return this instanceof Ar?(this.v=e,this):new Ar(e)}function LE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Xh(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ef=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function VE(e){return Q(e?.then)}function UE(e){return Q(e[Kh])}function BE(e){return Symbol.asyncIterator&&Q(e?.[Symbol.asyncIterator])}function HE(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jE=function Bk(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $E(e){return Q(e?.[jE])}function GE(e){return function FE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ar?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Ar(n.read());if(i)return yield Ar(void 0);yield yield Ar(r)}}finally{n.releaseLock()}})}function WE(e){return Q(e?.getReader)}function Nt(e){if(e instanceof Ae)return e;if(null!=e){if(UE(e))return function Hk(e){return new Ae(t=>{const n=e[Kh]();if(Q(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ef(e))return function jk(e){return new Ae(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(VE(e))return function $k(e){return new Ae(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ME)})}(e);if(BE(e))return zE(e);if($E(e))return function Gk(e){return new Ae(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(WE(e))return function Wk(e){return zE(GE(e))}(e)}throw HE(e)}function zE(e){return new Ae(t=>{(function zk(e,t){var n,r,i,o;return function xE(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=LE(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function nr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ke(e,t,n=1/0){return Q(t)?Ke((r,i)=>he((o,s)=>t(r,o,i,s))(Nt(e(r,i))),n):("number"==typeof t&&(n=t),je((r,i)=>function qk(e,t,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let _=!1;Nt(n(g,u++)).subscribe(Ve(t,C=>{i?.(C),o?f(C):t.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const C=l.shift();s?nr(t,s,()=>p(C)):p(C)}h()}catch(C){t.error(C)}}))};return e.subscribe(Ve(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,n)))}function co(e=1/0){return Ke(Tr,e)}const Nn=new Ae(e=>e.complete());function tf(e){return e[e.length-1]}function qE(e){return Q(tf(e))?e.pop():void 0}function Ls(e){return function Yk(e){return e&&Q(e.schedule)}(tf(e))?e.pop():void 0}function KE(e,t=0){return je((n,r)=>{n.subscribe(Ve(r,i=>nr(r,e,()=>r.next(i),t),()=>nr(r,e,()=>r.complete(),t),i=>nr(r,e,()=>r.error(i),t)))})}function YE(e,t=0){return je((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function QE(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ae(n=>{nr(n,t,()=>{const r=e[Symbol.asyncIterator]();nr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ye(e,t){return t?function nF(e,t){if(null!=e){if(UE(e))return function Zk(e,t){return Nt(e).pipe(YE(t),KE(t))}(e,t);if(ef(e))return function Xk(e,t){return new Ae(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(VE(e))return function Jk(e,t){return Nt(e).pipe(YE(t),KE(t))}(e,t);if(BE(e))return QE(e,t);if($E(e))return function eF(e,t){return new Ae(n=>{let r;return nr(n,t,()=>{r=e[jE](),nr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}(e,t);if(WE(e))return function tF(e,t){return QE(GE(e),t)}(e,t)}throw HE(e)}(e,t):Nt(e)}function ZE(...e){const t=Ls(e),n=function Qk(e,t){return"number"==typeof tf(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Nt(r[0]):co(n)(Ye(r,t)):Nn}class tn extends en{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function k(...e){return Ye(e,Ls(e))}function JE(e={}){const{connector:t=(()=>new en),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return je((g,_)=>{c++,!d&&!u&&h();const C=l=l??t();_.add(()=>{c--,0===c&&!d&&!u&&(a=nf(p,i))}),C.subscribe(_),!s&&c>0&&(s=new Fs({next:m=>C.next(m),error:m=>{d=!0,h(),a=nf(f,n,m),C.error(m)},complete:()=>{u=!0,h(),a=nf(f,r),C.complete()}}),Nt(g).subscribe(s))})(o)}}function nf(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Fs({next:()=>{r.unsubscribe(),e()}});return Nt(t(...n)).subscribe(r)}function On(e,t){return je((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ve(r,l=>{i?.unsubscribe();let c=0;const u=o++;Nt(e(l,u)).subscribe(i=Ve(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function iF(e,t){return e===t}function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ac(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $e(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function rf(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const oF=le({__forward_ref__:le});function ge(e){return e.__forward_ref__=ge,e.toString=function(){return $e(this())},e}function F(e){return sf(e)?e():e}function sf(e){return"function"==typeof e&&e.hasOwnProperty(oF)&&e.__forward_ref__===ge}function af(e){return e&&!!e.\u0275providers}class w extends Error{constructor(t,n){super(function lc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function L(e){return"string"==typeof e?e:null==e?"":String(e)}function lf(e,t){throw new w(-201,!1)}function nn(e,t){null==e&&function P(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yt(e){return{providers:e.providers||[],imports:e.imports||[]}}function cc(e){return ew(e,dc)||ew(e,tw)}function ew(e,t){return e.hasOwnProperty(t)?e[t]:null}function uc(e){return e&&(e.hasOwnProperty(cf)||e.hasOwnProperty(fF))?e[cf]:null}const dc=le({\u0275prov:le}),cf=le({\u0275inj:le}),tw=le({ngInjectableDef:le}),fF=le({ngInjectorDef:le});var K=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(K||{});let uf;function Ot(e){const t=uf;return uf=e,t}function rw(e,t,n){const r=cc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&K.Optional?null:void 0!==t?t:void lf($e(e))}const me=globalThis,Vs={},gf="__NG_DI_FLAG__",hc="ngTempTokenPath",mF=/\n/gm,ow="__source";let uo;function Mr(e){const t=uo;return uo=e,t}function yF(e,t=K.Default){if(void 0===uo)throw new w(-203,!1);return null===uo?rw(e,void 0,t):uo.get(e,t&K.Optional?null:void 0,t)}function S(e,t=K.Default){return(function nw(){return uf}()||yF)(F(e),t)}function T(e,t=K.Default){return S(e,fc(t))}function fc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function mf(e){const t=[];for(let n=0;n<e.length;n++){const r=F(e[n]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,o=K.Default;for(let s=0;s<r.length;s++){const a=r[s],l=CF(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(S(i,o))}else t.push(S(r))}return t}function Us(e,t){return e[gf]=t,e.prototype[gf]=t,e}function CF(e){return e[gf]}function rr(e){return{toString:e}.toString()}var pc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(pc||{}),_n=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(_n||{});const Pn={},te=[],gc=le({\u0275cmp:le}),_f=le({\u0275dir:le}),vf=le({\u0275pipe:le}),aw=le({\u0275mod:le}),ir=le({\u0275fac:le}),Bs=le({__NG_ELEMENT_ID__:le}),lw=le({__NG_ENV_ID__:le});function cw(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function yf(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];dw(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function uw(e){return 3===e||4===e||6===e}function dw(e){return 64===e.charCodeAt(0)}function Hs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||hw(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function hw(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const fw="ng-template";function DF(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==cw(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function pw(e){return 4===e.type&&e.value!==fw}function IF(e,t,n){return t===(4!==e.type||n?e.value:fw)}function bF(e,t,n){let r=4;const i=e.attrs||[],o=function AF(e){for(let t=0;t<e.length;t++)if(uw(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!IF(e,l,n)||""===l&&1===t.length){if(vn(r))return!1;s=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!DF(e.attrs,c,n)){if(vn(r))return!1;s=!0}continue}const d=SF(8&r?"class":l,i,pw(e),n);if(-1===d){if(vn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==cw(f,c,0)||2&r&&c!==h){if(vn(r))return!1;s=!0}}}}else{if(!s&&!vn(r)&&!vn(l))return!1;if(s&&vn(l))continue;s=!1,r=l|1&r}}return vn(r)||s}function vn(e){return 0==(1&e)}function SF(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function MF(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function gw(e,t,n=!1){for(let r=0;r<t.length;r++)if(bF(e,t[r],n))return!0;return!1}function RF(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function mw(e,t){return e?":not("+t.trim()+")":t}function NF(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!vn(s)&&(t+=mw(o,i),i=""),r=s,o=o||!vn(r);n++}return""!==i&&(t+=mw(o,i)),t}function xn(e){return rr(()=>{const t=vw(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===pc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||_n.Emulated,styles:e.styles||te,_:null,schemas:e.schemas||null,tView:null,id:""};yw(n);const r=e.dependencies;return n.directiveDefs=mc(r,!1),n.pipeDefs=mc(r,!0),n.id=function UF(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function kF(e){return J(e)||nt(e)}function FF(e){return null!==e}function Pt(e){return rr(()=>({type:e.type,bootstrap:e.bootstrap||te,declarations:e.declarations||te,imports:e.imports||te,exports:e.exports||te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _w(e,t){if(null==e)return Pn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function O(e){return rr(()=>{const t=vw(e);return yw(t),t})}function J(e){return e[gc]||null}function nt(e){return e[_f]||null}function Ct(e){return e[vf]||null}function Gt(e,t){const n=e[aw]||null;if(!n&&!0===t)throw new Error(`Type ${$e(e)} does not have '\u0275mod' property.`);return n}function vw(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Pn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||te,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_w(e.inputs,t),outputs:_w(e.outputs)}}function yw(e){e.features?.forEach(t=>t(e))}function mc(e,t){if(!e)return null;const n=t?Ct:kF;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(FF)}const Oe=0,b=1,B=2,De=3,yn=4,js=5,at=6,fo=7,xe=8,Rr=9,po=10,V=11,$s=12,Cw=13,go=14,ke=15,Gs=16,mo=17,kn=18,Ws=19,Ew=20,Nr=21,or=22,zs=23,qs=24,Y=25,Cf=1,ww=2,Fn=7,_o=9,rt=11;function kt(e){return Array.isArray(e)&&"object"==typeof e[Cf]}function Et(e){return Array.isArray(e)&&!0===e[Cf]}function Ef(e){return 0!=(4&e.flags)}function _i(e){return e.componentOffset>-1}function vc(e){return 1==(1&e.flags)}function Cn(e){return!!e.template}function wf(e){return 0!=(512&e[B])}function vi(e,t){return e.hasOwnProperty(ir)?e[ir]:null}let it=null,yc=!1;function rn(e){const t=it;return it=e,t}const bw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Tw(e){if(!Ys(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Rw(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Mw(e){e.dirty=!0,function Aw(e){if(void 0===e.liveConsumerNode)return;const t=yc;yc=!0;try{for(const n of e.liveConsumerNode)n.dirty||Mw(n)}finally{yc=t}}(e),e.consumerMarkedDirty?.(e)}function If(e){return e&&(e.nextProducerIndex=0),rn(e)}function bf(e,t){if(rn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ys(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Cc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Rw(e){vo(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Tw(n),r!==n.version))return!0}return!1}function Nw(e){if(vo(e),Ys(e))for(let t=0;t<e.producerNode.length;t++)Cc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Cc(e,t){if(function Pw(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),vo(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Cc(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];vo(i),i.producerIndexOfThis[r]=t}}function Ys(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function vo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let xw=null;const Vw=()=>{},JF=(()=>({...bw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Vw}))();class XF{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wt(){return Uw}function Uw(e){return e.type.prototype.ngOnChanges&&(e.setInput=t1),e1}function e1(){const e=Hw(this),t=e?.current;if(t){const n=e.previous;if(n===Pn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function t1(e,t,n,r){const i=this.declaredInputs[n],o=Hw(e)||function n1(e,t){return e[Bw]=t}(e,{previous:Pn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new XF(l&&l.currentValue,t,a===Pn),e[r]=t}Wt.ngInherit=!0;const Bw="__ngSimpleChanges__";function Hw(e){return e[Bw]||null}const Ln=function(e,t,n){};function _e(e){for(;Array.isArray(e);)e=e[Oe];return e}function Ec(e,t){return _e(t[e])}function Ft(e,t){return _e(t[e.index])}function Gw(e,t){return e.data[t]}function zt(e,t){const n=t[e];return kt(n)?n:n[Oe]}function Pr(e,t){return null==t?null:e[t]}function Ww(e){e[mo]=0}function c1(e){1024&e[B]||(e[B]|=1024,qw(e,1))}function zw(e){1024&e[B]&&(e[B]&=-1025,qw(e,-1))}function qw(e,t){let n=e[De];if(null===n)return;n[js]+=t;let r=n;for(n=n[De];null!==n&&(1===t&&1===r[js]||-1===t&&0===r[js]);)n[js]+=t,r=n,n=n[De]}const x={lFrame:iD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qw(){return x.bindingsEnabled}function Co(){return null!==x.skipHydrationRootTNode}function E(){return x.lFrame.lView}function X(){return x.lFrame.tView}function on(e){return x.lFrame.contextLView=e,e[xe]}function sn(e){return x.lFrame.contextLView=null,e}function ot(){let e=Zw();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zw(){return x.lFrame.currentTNode}function Vn(e,t){const n=x.lFrame;n.currentTNode=e,n.isParent=t}function Rf(){return x.lFrame.isParent}function Nf(){x.lFrame.isParent=!1}function wt(){const e=x.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Eo(){return x.lFrame.bindingIndex++}function ar(e){const t=x.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function E1(e,t){const n=x.lFrame;n.bindingIndex=n.bindingRootIndex=e,Of(t)}function Of(e){x.lFrame.currentDirectiveIndex=e}function tD(){return x.lFrame.currentQueryIndex}function xf(e){x.lFrame.currentQueryIndex=e}function D1(e){const t=e[b];return 2===t.type?t.declTNode:1===t.type?e[at]:null}function nD(e,t,n){if(n&K.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&K.Host||(i=D1(o),null===i||(o=o[go],10&i.type))););if(null===i)return!1;t=i,e=o}const r=x.lFrame=rD();return r.currentTNode=t,r.lView=e,!0}function kf(e){const t=rD(),n=e[b];x.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function rD(){const e=x.lFrame,t=null===e?null:e.child;return null===t?iD(e):t}function iD(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function oD(){const e=x.lFrame;return x.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const sD=oD;function Ff(){const e=oD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dt(){return x.lFrame.selectedIndex}function yi(e){x.lFrame.selectedIndex=e}function Me(){const e=x.lFrame;return Gw(e.tView,e.selectedIndex)}let lD=!0;function wc(){return lD}function xr(e){lD=e}function Dc(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Ic(e,t,n){cD(e,t,3,n)}function bc(e,t,n,r){(3&e[B])===n&&cD(e,t,n,r)}function Lf(e,t){let n=e[B];(3&n)===t&&(n&=8191,n+=1,e[B]=n)}function cD(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[mo]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[mo]+=65536),(a<o||-1==o)&&(N1(e,n,t,l),e[mo]=(4294901760&e[mo])+l+2),l++}function uD(e,t){Ln(4,e,t);const n=rn(null);try{t.call(e)}finally{rn(n),Ln(5,e,t)}}function N1(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[B]>>13<e[mo]>>16&&(3&e[B])===t&&(e[B]+=8192,uD(a,o)):uD(a,o)}const wo=-1;class Zs{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Uf(e){return e!==wo}function Js(e){return 32767&e}function Xs(e,t){let n=function k1(e){return e>>16}(e),r=t;for(;n>0;)r=r[go],n--;return r}let Bf=!0;function Sc(e){const t=Bf;return Bf=e,t}const dD=255,hD=5;let F1=0;const Un={};function Tc(e,t){const n=fD(e,t);if(-1!==n)return n;const r=t[b];r.firstCreatePass&&(e.injectorIndex=t.length,Hf(r.data,e),Hf(t,null),Hf(r.blueprint,null));const i=Ac(e,t),o=e.injectorIndex;if(Uf(i)){const s=Js(i),a=Xs(i,t),l=a[b].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Hf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function fD(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ac(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=CD(i),null===r)return wo;if(n++,i=i[go],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return wo}function jf(e,t,n){!function L1(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bs)&&(r=n[Bs]),null==r&&(r=n[Bs]=F1++);const i=r&dD;t.data[e+(i>>hD)]|=1<<i}(e,t,n)}function pD(e,t,n){if(n&K.Optional||void 0!==e)return e;lf()}function gD(e,t,n,r){if(n&K.Optional&&void 0===r&&(r=null),!(n&(K.Self|K.Host))){const i=e[Rr],o=Ot(void 0);try{return i?i.get(t,r,n&K.Optional):rw(t,r,n&K.Optional)}finally{Ot(o)}}return pD(r,0,n)}function mD(e,t,n,r=K.Default,i){if(null!==e){if(2048&t[B]&&!(r&K.Self)){const s=function $1(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[B]&&!(512&s[B]);){const a=_D(o,s,n,r|K.Self,Un);if(a!==Un)return a;let l=o.parent;if(!l){const c=s[Ew];if(c){const u=c.get(n,Un,r);if(u!==Un)return u}l=CD(s),s=s[go]}o=l}return i}(e,t,n,r,Un);if(s!==Un)return s}const o=_D(e,t,n,r,Un);if(o!==Un)return o}return gD(t,n,r,i)}function _D(e,t,n,r,i){const o=function B1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Bs)?e[Bs]:void 0;return"number"==typeof t?t>=0?t&dD:j1:t}(n);if("function"==typeof o){if(!nD(t,e,r))return r&K.Host?pD(i,0,r):gD(t,n,r,i);try{let s;if(s=o(r),null!=s||r&K.Optional)return s;lf()}finally{sD()}}else if("number"==typeof o){let s=null,a=fD(e,t),l=wo,c=r&K.Host?t[ke][at]:null;for((-1===a||r&K.SkipSelf)&&(l=-1===a?Ac(e,t):t[a+8],l!==wo&&yD(r,!1)?(s=t[b],a=Js(l),t=Xs(l,t)):a=-1);-1!==a;){const u=t[b];if(vD(o,a,u.data)){const d=U1(a,t,n,s,r,c);if(d!==Un)return d}l=t[a+8],l!==wo&&yD(r,t[b].data[a+8]===c)&&vD(o,a,t)?(s=u,a=Js(l),t=Xs(l,t)):a=-1}}return i}function U1(e,t,n,r,i,o){const s=t[b],a=s.data[e+8],u=Mc(a,s,n,null==r?_i(a)&&Bf:r!=s&&0!=(3&a.type),i&K.Host&&o===a);return null!==u?Ci(t,s,u,a):Un}function Mc(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,u=o>>20,h=i?a+u:e.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=s[l];if(f&&Cn(f)&&f.type===n)return l}return null}function Ci(e,t,n,r){let i=e[n];const o=t.data;if(function O1(e){return e instanceof Zs}(i)){const s=i;s.resolving&&function sF(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new w(-200,`Circular dependency in DI detected for ${e}${n}`)}(function se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():L(e)}(o[n]));const a=Sc(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Ot(s.injectImpl):null;nD(e,r,K.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function R1(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Uw(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==c&&Ot(c),Sc(a),s.resolving=!1,sD()}}return i}function vD(e,t,n){return!!(n[t+(e>>hD)]&1<<e)}function yD(e,t){return!(e&K.Self||e&K.Host&&t)}class It{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return mD(this._tNode,this._lView,t,fc(r),n)}}function j1(){return new It(ot(),E())}function st(e){return rr(()=>{const t=e.prototype.constructor,n=t[ir]||$f(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[ir]||$f(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $f(e){return sf(e)?()=>{const t=$f(F(e));return t&&t()}:vi(e)}function CD(e){const t=e[b],n=t.type;return 2===n?t.declTNode:1===n?e[at]:null}const Io="__parameters__";function So(e,t,n){return rr(()=>{const r=function Gf(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Io)?l[Io]:Object.defineProperty(l,Io,{value:[]})[Io];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Ao(e,t){e.forEach(n=>Array.isArray(n)?Ao(n,t):t(n))}function wD(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Nc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function na(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function qt(e,t,n){let r=Mo(e,t);return r>=0?e[1|r]=n:(r=~r,function Q1(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Wf(e,t){const n=Mo(e,t);if(n>=0)return e[1|n]}function Mo(e,t){return function DD(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Pc=Us(So("Optional"),8),xc=Us(So("SkipSelf"),4);function Uc(e){return 128==(128&e.flags)}var kr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(kr||{});const Qf=new Map;let CL=0;const Jf="__ngContext__";function lt(e,t){kt(t)?(e[Jf]=t[Ws],function wL(e){Qf.set(e[Ws],e)}(t)):e[Jf]=t}let Xf;function ep(e,t){return Xf(e,t)}function oa(e){const t=e[De];return Et(t)?t[De]:t}function $D(e){return WD(e[$s])}function GD(e){return WD(e[yn])}function WD(e){for(;null!==e&&!Et(e);)e=e[yn];return e}function Oo(e,t,n,r,i){if(null!=r){let o,s=!1;Et(r)?o=r:kt(r)&&(s=!0,r=r[Oe]);const a=_e(r);0===e&&null!==n?null==i?YD(t,n,a):Ei(t,n,a,i||null,!0):1===e&&null!==n?Ei(t,n,a,i||null,!0):2===e?function zc(e,t,n){const r=Gc(e,t);r&&function HL(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function GL(e,t,n,r,i){const o=n[Fn];o!==_e(n)&&Oo(t,e,r,o,i);for(let a=rt;a<n.length;a++){const l=n[a];aa(l[b],l,e,t,r,o)}}(t,e,o,n,i)}}function jc(e,t,n){return e.createElement(t,n)}function qD(e,t){const n=e[_o],r=n.indexOf(t);zw(t),n.splice(r,1)}function $c(e,t){if(e.length<=rt)return;const n=rt+t,r=e[n];if(r){const i=r[Gs];null!==i&&i!==e&&qD(i,r),t>0&&(e[n-1][yn]=r[yn]);const o=Nc(e,rt+t);!function PL(e,t){aa(e,t,t[V],2,null,null),t[Oe]=null,t[at]=null}(r[b],r);const s=o[kn];null!==s&&s.detachView(o[b]),r[De]=null,r[yn]=null,r[B]&=-129}return r}function np(e,t){if(!(256&t[B])){const n=t[V];t[zs]&&Nw(t[zs]),t[qs]&&Nw(t[qs]),n.destroyNode&&aa(e,t,n,3,null,null),function FL(e){let t=e[$s];if(!t)return rp(e[b],e);for(;t;){let n=null;if(kt(t))n=t[$s];else{const r=t[rt];r&&(n=r)}if(!n){for(;t&&!t[yn]&&t!==e;)kt(t)&&rp(t[b],t),t=t[De];null===t&&(t=e),kt(t)&&rp(t[b],t),n=t&&t[yn]}t=n}}(t)}}function rp(e,t){if(!(256&t[B])){t[B]&=-129,t[B]|=256,function BL(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Zs)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Ln(4,a,l);try{l.call(a)}finally{Ln(5,a,l)}}else{Ln(4,i,o);try{o.call(i)}finally{Ln(5,i,o)}}}}}(e,t),function UL(e,t){const n=e.cleanup,r=t[fo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[fo]=null);const i=t[Nr];if(null!==i){t[Nr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[b].type&&t[V].destroy();const n=t[Gs];if(null!==n&&Et(t[De])){n!==t[De]&&qD(n,t);const r=t[kn];null!==r&&r.detachView(e)}!function DL(e){Qf.delete(e[Ws])}(t)}}function ip(e,t,n){return function KD(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Oe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===_n.None||o===_n.Emulated)return null}return Ft(r,n)}}(e,t.parent,n)}function Ei(e,t,n,r,i){e.insertBefore(t,n,r,i)}function YD(e,t,n){e.appendChild(t,n)}function QD(e,t,n,r,i){null!==r?Ei(e,t,n,r,i):YD(e,t,n)}function Gc(e,t){return e.parentNode(t)}function ZD(e,t,n){return XD(e,t,n)}let op,cp,XD=function JD(e,t,n){return 40&e.type?Ft(e,n):null};function Wc(e,t,n,r){const i=ip(e,r,t),o=t[V],a=ZD(r.parent||t[at],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)QD(o,i,n[l],a,!1);else QD(o,i,n,a,!1);void 0!==op&&op(o,r,t,n,i)}function sa(e,t){if(null!==t){const n=t.type;if(3&n)return Ft(t,e);if(4&n)return sp(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return sa(e,r);{const i=e[t.index];return Et(i)?sp(-1,i):_e(i)}}if(32&n)return ep(t,e)()||_e(e[t.index]);{const r=tI(e,t);return null!==r?Array.isArray(r)?r[0]:sa(oa(e[ke]),r):sa(e,t.next)}}return null}function tI(e,t){return null!==t?e[ke][at].projection[t.projection]:null}function sp(e,t){const n=rt+e+1;if(n<t.length){const r=t[n],i=r[b].firstChild;if(null!==i)return sa(r,i)}return t[Fn]}function ap(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&lt(_e(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)ap(e,t,n.child,r,i,o,!1),Oo(t,e,i,a,o);else if(32&l){const c=ep(n,r);let u;for(;u=c();)Oo(t,e,i,u,o);Oo(t,e,i,a,o)}else 16&l?rI(e,t,r,n,i,o):Oo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function aa(e,t,n,r,i,o){ap(n,r,e.firstChild,t,i,o,!1)}function rI(e,t,n,r,i,o){const s=n[ke],l=s[at].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Oo(t,e,i,l[c],o);else{let c=l;const u=s[De];Uc(r)&&(c.flags|=128),ap(e,t,c,u,i,o,!0)}}function iI(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function oI(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&yf(e,t,r),null!==i&&iI(e,t,i),null!==o&&function zL(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class cI{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fr(e){return e instanceof cI?e.changingThisBreaksApplicationSecurity:e}class R{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const da=new R("ENVIRONMENT_INITIALIZER"),yI=new R("INJECTOR",-1),CI=new R("INJECTOR_DEF_TYPES");class gp{get(t,n=Vs){if(n===Vs){const r=new Error(`NullInjectorError: No provider for ${$e(t)}!`);throw r.name="NullInjectorError",r}return n}}function yV(...e){return{\u0275providers:wI(0,e),\u0275fromNgModule:!0}}function wI(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ao(t,s=>{const a=s;Qc(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&DI(i,o),n}function DI(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];mp(i,o=>{t(o,r)})}}function Qc(e,t,n,r){if(!(e=F(e)))return!1;let i=null,o=uc(e);const s=!o&&J(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=uc(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Qc(c,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ao(o.imports,u=>{Qc(u,t,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&DI(c,t)}if(!a){const c=vi(i)||(()=>new i);t({provide:i,useFactory:c,deps:te},i),t({provide:CI,useValue:i,multi:!0},i),t({provide:da,useValue:()=>S(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=e;mp(l,u=>{t(u,c)})}}}return i!==e&&void 0!==e.providers}function mp(e,t){for(let n of e)af(n)&&(n=n.\u0275providers),Array.isArray(n)?mp(n,t):t(n)}const CV=le({provide:String,useValue:le});function _p(e){return null!==e&&"object"==typeof e&&CV in e}function wi(e){return"function"==typeof e}const vp=new R("Set Injector scope."),Zc={},wV={};let yp;function Jc(){return void 0===yp&&(yp=new gp),yp}class ln{}class Xc extends ln{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ep(t,s=>this.processProvider(s)),this.records.set(yI,Fo(void 0,this)),i.has("environment")&&this.records.set(ln,Fo(void 0,this));const o=this.records.get(vp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CI.multi,te,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Mr(this),r=Ot(void 0);try{return t()}finally{Mr(n),Ot(r)}}get(t,n=Vs,r=K.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(lw))return t[lw](this);r=fc(r);const o=Mr(this),s=Ot(void 0);try{if(!(r&K.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function TV(e){return"function"==typeof e||"object"==typeof e&&e instanceof R}(t)&&cc(t);l=c&&this.injectableDefInScope(c)?Fo(Cp(t),Zc):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&K.Self?Jc():this.parent).get(t,n=r&K.Optional&&n===Vs?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[hc]=a[hc]||[]).unshift($e(t)),o)throw a;return function EF(e,t,n,r){const i=e[hc];throw t[ow]&&i.unshift(t[ow]),e.message=function wF(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=$e(t);if(Array.isArray(t))i=t.map($e).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):$e(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(mF,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[hc]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Ot(s),Mr(o)}}resolveInjectorInitializers(){const t=Mr(this),n=Ot(void 0);try{const i=this.get(da.multi,te,K.Self);for(const o of i)o()}finally{Mr(t),Ot(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push($e(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(t){let n=wi(t=F(t))?t:F(t&&t.provide);const r=function IV(e){return _p(e)?Fo(void 0,e.useValue):Fo(SI(e),Zc)}(t);if(wi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Fo(void 0,Zc,!0),i.factory=()=>mf(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Zc&&(n.value=wV,n.value=n.factory()),"object"==typeof n.value&&n.value&&function SV(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=F(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cp(e){const t=cc(e),n=null!==t?t.factory:vi(e);if(null!==n)return n;if(e instanceof R)throw new w(204,!1);if(e instanceof Function)return function DV(e){const t=e.length;if(t>0)throw na(t,"?"),new w(204,!1);const n=function hF(e){return e&&(e[dc]||e[tw])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new w(204,!1)}function SI(e,t,n){let r;if(wi(e)){const i=F(e);return vi(i)||Cp(i)}if(_p(e))r=()=>F(e.useValue);else if(function bI(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...mf(e.deps||[]));else if(function II(e){return!(!e||!e.useExisting)}(e))r=()=>S(F(e.useExisting));else{const i=F(e&&(e.useClass||e.provide));if(!function bV(e){return!!e.deps}(e))return vi(i)||Cp(i);r=()=>new i(...mf(e.deps))}return r}function Fo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ep(e,t){for(const n of e)Array.isArray(n)?Ep(n,t):n&&af(n)?Ep(n.\u0275providers,t):t(n)}const eu=new R("AppId",{providedIn:"root",factory:()=>AV}),AV="ng",TI=new R("Platform Initializer"),Lr=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AI=new R("CSP nonce",{providedIn:"root",factory:()=>function xo(){if(void 0!==cp)return cp;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let MI=(e,t,n)=>null;function Mp(e,t,n=!1){return MI(e,t,n)}class VV{}class OI{}class BV{resolveComponentFactory(t){throw function UV(e){const t=Error(`No component factory found for ${$e(e)}.`);return t.ngComponent=e,t}(t)}}let pa=(()=>{class e{static#e=this.NULL=new BV}return e})();function HV(){return Uo(ot(),E())}function Uo(e,t){return new Fe(Ft(e,t))}let Fe=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=HV}return e})();function jV(e){return e instanceof Fe?e.nativeElement:e}class su{}let Kt=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $V(){const e=E(),n=zt(ot().index,e);return(kt(n)?n:e)[V]}()}return e})(),GV=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();class ga{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const WV=new ga("16.2.10"),Op={};function LI(e,t=null,n=null,r){const i=VI(e,t,n,r);return i.resolveInjectorInitializers(),i}function VI(e,t=null,n=null,r,i=new Set){const o=[n||te,yV(e)];return r=r||("object"==typeof e?void 0:$e(e)),new Xc(o,t||Jc(),r||null,i)}let ct=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Vs;static#t=this.NULL=new gp;static create(n,r){if(Array.isArray(n))return LI({name:""},r,n,"");{const i=n.name??"";return LI({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=M({token:e,providedIn:"any",factory:()=>S(yI)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function xp(e){return e.ngOriginalError}class cr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&xp(t);for(;n&&xp(n);)n=xp(n);return n||null}}function Fp(e){return t=>{setTimeout(e,void 0,t)}}const $=class JV extends en{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Fp(o),i&&(i=Fp(i)),s&&(s=Fp(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof vt&&t.add(a),a}};function BI(...e){}class re{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $(!1),this.onMicrotaskEmpty=new $(!1),this.onStable=new $(!1),this.onError=new $(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function XV(){const e="function"==typeof me.requestAnimationFrame;let t=me[e?"requestAnimationFrame":"setTimeout"],n=me[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function nU(e){const t=()=>{!function tU(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(me,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Vp(e),e.isCheckStableRunning=!0,Lp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Vp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function iU(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return HI(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),jI(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return HI(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),jI(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Vp(e),Lp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!re.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(re.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,eU,BI,BI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const eU={};function Lp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function HI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function jI(e){e._nesting--,Lp(e)}class rU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $,this.onMicrotaskEmpty=new $,this.onStable=new $,this.onError=new $}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const $I=new R("",{providedIn:"root",factory:GI});function GI(){const e=T(re);let t=!0;return ZE(new Ae(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Ae(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{re.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(JE()))}function Up(e){return e.ownerDocument.defaultView}function ur(e){return e instanceof Function?e():e}let Bp=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();function ma(e){for(;e;){e[B]|=64;const t=oa(e);if(wf(e)&&!t)return e;e=t}return null}const YI=new R("",{providedIn:"root",factory:()=>!1});let lu=null;function XI(e,t){return e[t]??nb()}function eb(e,t){const n=nb();n.producerNode?.length&&(e[t]=lu,n.lView=e,lu=tb())}const fU={...bw,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ma(e.lView)},lView:null};function tb(){return Object.create(fU)}function nb(){return lu??=tb(),lu}const U={};function Vt(e){rb(X(),E(),Dt()+e,!1)}function rb(e,t,n,r){if(!r)if(3==(3&t[B])){const o=e.preOrderCheckHooks;null!==o&&Ic(t,o,n)}else{const o=e.preOrderHooks;null!==o&&bc(t,o,0,n)}yi(n)}function y(e,t=K.Default){const n=E();return null===n?S(e,t):mD(ot(),n,F(e),t)}function cu(e,t,n,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[Oe]=i,d[B]=140|r,(null!==c||e&&2048&e[B])&&(d[B]|=2048),Ww(d),d[De]=d[go]=e,d[xe]=n,d[po]=s||e&&e[po],d[V]=a||e&&e[V],d[Rr]=l||e&&e[Rr]||null,d[at]=o,d[Ws]=function EL(){return CL++}(),d[or]=u,d[Ew]=c,d[ke]=2==t.type?e[ke]:d,d}function jo(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Hp(e,t,n,r,i){const o=Zw(),s=Rf(),l=e.data[t]=function EU(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Co()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function C1(){return x.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Qs(){const e=x.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Vn(o,!0),o}function _a(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ob(e,t,n,r,i){const o=XI(t,zs),s=Dt(),a=2&r;try{yi(-1),a&&t.length>Y&&rb(e,t,Y,!1),Ln(a?2:0,i);const c=a?o:null,u=If(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{bf(c,u)}}finally{a&&null===t[zs]&&eb(t,zs),yi(s),Ln(a?3:1,i)}}function jp(e,t,n){if(Ef(t)){const r=rn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{rn(r)}}}function $p(e,t,n){Qw()&&(function AU(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;_i(n)&&function kU(e,t,n){const r=Ft(t,e),i=sb(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=uu(e,cu(e,i,null,s,r,t,null,e[po].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Tc(n,t),lt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=Ci(t,e,a,n);lt(c,t),null!==s&&FU(0,a-i,c,l,0,s),Cn(l)&&(zt(n.index,t)[xe]=Ci(t,e,a,n))}}(e,t,n,Ft(n,t)),64==(64&n.flags)&&db(e,t,n))}function Gp(e,t,n=Ft){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function sb(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Wp(e,t,n,r,i,o,s,a,l,c,u){const d=Y+r,h=d+i,f=function gU(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:U);return n}(d,h),p="function"==typeof c?c():c;return f[b]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let ab=e=>null;function lb(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?cb(n,t,i,o):r.hasOwnProperty(i)&&cb(n,t,r[i],o)}return n}function cb(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Yt(e,t,n,r,i,o,s,a){const l=Ft(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(Qp(e,n,u,r,i),_i(t)&&function IU(e,t){const n=zt(t,e);16&n[B]||(n[B]|=64)}(n,t.index)):3&t.type&&(r=function DU(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function zp(e,t,n,r){if(Qw()){const i=null===r?null:{"":-1},o=function RU(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(gw(t,s.selectors,!1))if(r||(r=[]),Cn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),qp(e,t,a.length)}else r.unshift(s),qp(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ub(e,t,n,s,i,a),i&&function NU(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new w(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Hs(n.mergedAttrs,n.attrs)}function ub(e,t,n,r,i,o){for(let c=0;c<r.length;c++)jf(Tc(n,t),e,r[c].type);!function PU(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=_a(e,t,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Hs(n.mergedAttrs,u.hostAttrs),xU(e,n,t,l,u),OU(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function wU(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],h=n?n.get(d):null,p=h?h.outputs:null;l=lb(d.inputs,u,l,h?h.inputs:null),c=lb(d.outputs,u,c,p);const g=null===l||null===s||pw(t)?null:LU(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function db(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function w1(){return x.lFrame.currentDirectiveIndex}();try{yi(o);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];Of(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&MU(l,c)}}finally{yi(-1),Of(s)}}function MU(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qp(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function OU(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Cn(t)&&(n[""]=e)}}function xU(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=vi(i.type)),s=new Zs(o,Cn(i),y);e.blueprint[r]=s,n[r]=s,function SU(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function TU(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,_a(e,n,i.hostVars,U),i)}function Bn(e,t,n,r,i,o){const s=Ft(e,t);!function Kp(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?L(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[V],s,o,e.value,n,r,i)}function FU(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)hb(r,n,s[a++],s[a++],s[a++])}function hb(e,t,n,r,i){const o=rn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{rn(o)}}function LU(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function fb(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function pb(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];xf(n[r]),s.contentQueries(2,t[o],o)}}}function uu(e,t){return e[$s]?e[Cw][yn]=t:e[$s]=t,e[Cw]=t,t}function Yp(e,t,n){xf(0);const r=rn(null);try{t(e,n)}finally{rn(r)}}function gb(e){return e[fo]||(e[fo]=[])}function mb(e){return e.cleanup||(e.cleanup=[])}function vb(e,t){const n=e[Rr],r=n?n.get(cr,null):null;r&&r.handleError(t)}function Qp(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];hb(e.data[s],t[s],r,a,i)}}function VU(e,t){const n=zt(t,e),r=n[b];!function UU(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Oe];null!==i&&null===n[or]&&(n[or]=Mp(i,n[Rr])),Zp(r,n,n[xe])}function Zp(e,t,n){kf(t);try{const r=e.viewQuery;null!==r&&Yp(1,r,n);const i=e.template;null!==i&&ob(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&pb(e,t),e.staticViewQueries&&Yp(2,e.viewQuery,n);const o=e.components;null!==o&&function BU(e,t){for(let n=0;n<t.length;n++)VU(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[B]&=-5,Ff()}}let yb=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function ZF(e,t,n){const r=Object.create(JF);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Mw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Rw(r))return;r.hasRun=!0;const s=If(r);try{r.cleanupFn(),r.cleanupFn=Vw,r.fn(i)}finally{bf(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();function du(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=rf(i,a):2==o&&(r=rf(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function va(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(_e(o)),Et(o)&&Cb(o,r);const s=n.type;if(8&s)va(e,t,n.child,r);else if(32&s){const a=ep(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=tI(t,n);if(Array.isArray(a))r.push(...a);else{const l=oa(t[ke]);va(l[b],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Cb(e,t){for(let n=rt;n<e.length;n++){const r=e[n],i=r[b].firstChild;null!==i&&va(r[b],r,i,t)}e[Fn]!==e[Oe]&&t.push(e[Fn])}function hu(e,t,n,r=!0){const i=t[po],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Eb(e,t,e.template,n)}catch(l){throw r&&vb(t,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Eb(e,t,n,r){const i=t[B];if(256!=(256&i)){t[po].effectManager?.flush(),kf(t);try{Ww(t),function Xw(e){return x.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ob(e,t,n,2,r);const s=3==(3&i);if(s){const c=e.preOrderCheckHooks;null!==c&&Ic(t,c,null)}else{const c=e.preOrderHooks;null!==c&&bc(t,c,0,null),Lf(t,0)}if(function $U(e){for(let t=$D(e);null!==t;t=GD(t)){if(!t[ww])continue;const n=t[_o];for(let r=0;r<n.length;r++){c1(n[r])}}}(t),wb(t,2),null!==e.contentQueries&&pb(e,t),s){const c=e.contentCheckHooks;null!==c&&Ic(t,c)}else{const c=e.contentHooks;null!==c&&bc(t,c,1),Lf(t,1)}!function pU(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=XI(t,qs);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)yi(~o);else{const s=o,a=n[++i],l=n[++i];E1(a,s),r.dirty=!1;const c=If(r);try{l(2,t[s])}finally{bf(r,c)}}}}finally{null===t[qs]&&eb(t,qs),yi(-1)}}(e,t);const a=e.components;null!==a&&Ib(t,a,0);const l=e.viewQuery;if(null!==l&&Yp(2,l,r),s){const c=e.viewCheckHooks;null!==c&&Ic(t,c)}else{const c=e.viewHooks;null!==c&&bc(t,c,2),Lf(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[B]&=-73,zw(t)}finally{Ff()}}}function wb(e,t){for(let n=$D(e);null!==n;n=GD(n))for(let r=rt;r<n.length;r++)Db(n[r],t)}function GU(e,t,n){Db(zt(t,e),n)}function Db(e,t){if(!function a1(e){return 128==(128&e[B])}(e))return;const n=e[b],r=e[B];if(80&r&&0===t||1024&r||2===t)Eb(n,e,n.template,e[xe]);else if(e[js]>0){wb(e,1);const i=n.components;null!==i&&Ib(e,i,1)}}function Ib(e,t,n){for(let r=0;r<t.length;r++)GU(e,t[r],n)}class ya{get rootNodes(){const t=this._lView,n=t[b];return va(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xe]}set context(t){this._lView[xe]=t}get destroyed(){return 256==(256&this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[De];if(Et(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&($c(t,r),Nc(n,r))}this._attachedToViewContainer=!1}np(this._lView[b],this._lView)}onDestroy(t){!function Kw(e,t){if(256==(256&e[B]))throw new w(911,!1);null===e[Nr]&&(e[Nr]=[]),e[Nr].push(t)}(this._lView,t)}markForCheck(){ma(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){this._lView[B]|=128}detectChanges(){hu(this._lView[b],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kL(e,t){aa(e,t,t[V],2,null,null)}(this._lView[b],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t}}class WU extends ya{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;hu(t[b],t,t[xe],!1)}checkNoChanges(){}get context(){return null}}class bb extends pa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=J(t);return new Ca(n,this.ngModule)}}function Sb(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class qU{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=fc(r);const i=this.injector.get(t,Op,r);return i!==Op||n===Op?i:this.parentInjector.get(t,n,r)}}class Ca extends OI{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Sb(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Sb(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function OF(e){return e.map(NF).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof ln?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new qU(t,o):t,a=s.get(su,null);if(null===a)throw new w(407,!1);const d={rendererFactory:a,sanitizer:s.get(GV,null),effectManager:s.get(yb,null),afterRenderEventManager:s.get(Bp,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function mU(e,t,n,r){const o=r.get(YI,!1)||n===_n.ShadowDom,s=e.selectRootElement(t,o);return function _U(e){ab(e)}(s),s}(h,r,this.componentDef.encapsulation,s):jc(h,f,function zU(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let m=null;null!==p&&(m=Mp(p,s,!0));const A=Wp(0,null,null,1,0,null,null,null,null,null,null),N=cu(null,A,null,C,null,null,d,h,s,null,m);let z,tt;kf(N);try{const mn=this.componentDef;let fi,ao=null;mn.findHostDirectiveDefs?(fi=[],ao=new Map,mn.findHostDirectiveDefs(mn,fi,ao),fi.push(mn)):fi=[mn];const bE=function YU(e,t){const n=e[b],r=Y;return e[r]=t,jo(n,r,2,"#host",null)}(N,p),EJ=function QU(e,t,n,r,i,o,s){const a=i[b];!function ZU(e,t,n,r){for(const i of e)t.mergedAttrs=Hs(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(du(t,t.mergedAttrs,!0),null!==n&&oI(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=Mp(t,i[Rr]));const c=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=cu(i,sb(n),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&qp(a,e,r.length-1),uu(i,d),i[e.index]=d}(bE,p,mn,fi,N,d,h);tt=Gw(A,Y),p&&function XU(e,t,n,r){if(r)yf(e,n,["ng-version",WV.full]);else{const{attrs:i,classes:o}=function PF(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!vn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&yf(e,n,i),o&&o.length>0&&iI(e,n,o.join(" "))}}(h,mn,p,r),void 0!==n&&function eB(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(tt,this.ngContentSelectors,n),z=function JU(e,t,n,r,i,o){const s=ot(),a=i[b],l=Ft(s,i);ub(a,i,s,n,null,r);for(let u=0;u<n.length;u++)lt(Ci(i,a,s.directiveStart+u,s),i);db(a,i,s),l&&lt(l,i);const c=Ci(i,a,s.directiveStart+s.componentOffset,s);if(e[xe]=i[xe]=c,null!==o)for(const u of o)u(c,t);return jp(a,s,e),c}(EJ,mn,fi,ao,N,[tB]),Zp(A,N,null)}finally{Ff()}return new KU(this.componentType,z,Uo(tt,N),N,tt)}}class KU extends VV{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new WU(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Qp(o[b],o,i,t,n),this.previousInputValues.set(t,n),ma(zt(this._tNode.index,o))}}get injector(){return new It(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function tB(){const e=ot();Dc(E()[b],e)}function ce(e){let t=function Tb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Cn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=fu(e.inputs),s.inputTransforms=fu(e.inputTransforms),s.declaredInputs=fu(e.declaredInputs),s.outputs=fu(e.outputs);const a=i.hostBindings;a&&oB(e,a);const l=i.viewQuery,c=i.contentQueries;if(l&&rB(e,l),c&&iB(e,c),ac(e.inputs,i.inputs),ac(e.declaredInputs,i.declaredInputs),ac(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ac(s.inputTransforms,i.inputTransforms)),Cn(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===ce&&(n=!1)}}t=Object.getPrototypeOf(t)}!function nB(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Hs(i.hostAttrs,n=Hs(n,i.hostAttrs))}}(r)}function fu(e){return e===Pn?{}:e===te?[]:e}function rB(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function iB(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function oB(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function pu(e){return!!Jp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Jp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Hn(e,t,n){return e[t]=n}function ut(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function un(e,t,n,r){const i=E();return ut(i,Eo(),t)&&(X(),Bn(Me(),i,e,t,n,r)),un}function Go(e,t,n,r){return ut(e,Eo(),n)?t+L(n)+r:U}function Ii(e,t,n,r,i,o,s,a){const l=E(),c=X(),u=e+Y,d=c.firstCreatePass?function RB(e,t,n,r,i,o,s,a,l){const c=t.consts,u=jo(t,e,4,s||null,Pr(c,a));zp(t,n,u,Pr(c,l)),Dc(t,u);const d=u.tView=Wp(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,o,s):c.data[u];Vn(d,!1);const h=Gb(c,l,d,e);wc()&&Wc(c,l,h,d),lt(h,l),uu(l,l[u]=fb(h,l,h,d)),vc(d)&&$p(c,l,d),null!=s&&Gp(l,d,a)}let Gb=function Wb(e,t,n,r){return xr(!0),t[V].createComment("")};function Qe(e,t,n){const r=E();return ut(r,Eo(),t)&&Yt(X(),Me(),r,e,t,r[V],n,!1),Qe}function ig(e,t,n,r,i){const s=i?"class":"style";Qp(e,n,t.inputs[s],s,r)}function ee(e,t,n,r){const i=E(),o=X(),s=Y+e,a=i[V],l=o.firstCreatePass?function xB(e,t,n,r,i,o){const s=t.consts,l=jo(t,e,2,r,Pr(s,i));return zp(t,n,l,Pr(s,o)),null!==l.attrs&&du(l,l.attrs,!1),null!==l.mergedAttrs&&du(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],c=qb(o,i,l,a,t,e);i[s]=c;const u=vc(l);return Vn(l,!0),oI(a,c,l),32!=(32&l.flags)&&wc()&&Wc(o,i,c,l),0===function d1(){return x.lFrame.elementDepthCount}()&&lt(c,i),function h1(){x.lFrame.elementDepthCount++}(),u&&($p(o,i,l),jp(o,l,i)),null!==r&&Gp(i,l),ee}function Z(){let e=ot();Rf()?Nf():(e=e.parent,Vn(e,!1));const t=e;(function p1(e){return x.skipHydrationRootTNode===e})(t)&&function v1(){x.skipHydrationRootTNode=null}(),function f1(){x.lFrame.elementDepthCount--}();const n=X();return n.firstCreatePass&&(Dc(n,e),Ef(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function P1(e){return 0!=(8&e.flags)}(t)&&ig(n,t,E(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function x1(e){return 0!=(16&e.flags)}(t)&&ig(n,t,E(),t.stylesWithoutHost,!1),Z}function dt(e,t,n,r){return ee(e,t,n,r),Z(),dt}let qb=(e,t,n,r,i,o)=>(xr(!0),jc(r,i,function aD(){return x.lFrame.currentNamespace}()));function Jo(){return E()}function ba(e){return!!e&&"function"==typeof e.then}function Qb(e){return!!e&&"function"==typeof e.subscribe}function ve(e,t,n,r){const i=E(),o=X(),s=ot();return function Jb(e,t,n,r,i,o,s){const a=vc(r),c=e.firstCreatePass&&mb(e),u=t[xe],d=gb(t);let h=!0;if(3&r.type||s){const g=Ft(r,t),_=s?s(g):g,C=d.length,m=s?N=>s(_e(N[r.index])):r.index;let A=null;if(!s&&a&&(A=function BB(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[fo],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,h=!1;else{o=eS(r,t,u,o,!1);const N=n.listen(_,i,o);d.push(o,N),c&&c.push(i,m,C,C+1)}}else o=eS(r,t,u,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const z=t[p[_]][p[_+1]].subscribe(o),tt=d.length;d.push(o,z),c&&c.push(i,r.index,tt,-(tt+1))}}}(o,i,i[V],s,e,t,r),ve}function Xb(e,t,n,r){try{return Ln(6,t,n),!1!==n(r)}catch(i){return vb(e,i),!1}finally{Ln(7,t,n)}}function eS(e,t,n,r,i){return function o(s){if(s===Function)return r;ma(e.componentOffset>-1?zt(e.index,t):t);let l=Xb(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Xb(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function ht(e=1){return function I1(e){return(x.lFrame.contextLView=function b1(e,t){for(;e>0;)t=t[go],e--;return t}(e,x.lFrame.contextLView))[xe]}(e)}function HB(e,t){let n=null;const r=function TF(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?gw(e,o,!0):RF(r,o))return i}else n=i}return n}function ag(e,t,n){return lg(e,"",t,"",n),ag}function lg(e,t,n,r,i){const o=E(),s=Go(o,t,n,r);return s!==U&&Yt(X(),Me(),o,e,s,o[V],i,!1),lg}function yu(e,t){return e<<17|t<<2}function Vr(e){return e>>17&32767}function cg(e){return 2|e}function bi(e){return(131068&e)>>2}function ug(e,t){return-131069&e|t<<2}function dg(e){return 1|e}function dS(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Vr(o):bi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=e[a+1];qB(e[a],t)&&(l=!0,e[a+1]=r?dg(u):cg(u)),a=r?Vr(u):bi(u)}l&&(e[n+1]=r?cg(o):dg(o))}function qB(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Mo(e,t)>=0}const We={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hS(e){return e.substring(We.key,We.keyEnd)}function fS(e,t){const n=We.textEnd;return n===t?-1:(t=We.keyEnd=function ZB(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,We.key=t,n),Xo(e,t,n))}function Xo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Cu(e,t){return function En(e,t,n,r){const i=E(),o=X(),s=ar(2);o.firstUpdatePass&&ES(o,e,s,r),t!==U&&ut(i,s,t)&&DS(o,o.data[Dt()],i,i[V],e,i[s+1]=function l2(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=$e(Fr(e)))),e}(t,n),r,s)}(e,t,null,!0),Cu}function yS(e){!function wn(e,t,n,r){const i=X(),o=ar(2);i.firstUpdatePass&&ES(i,null,o,r);const s=E();if(n!==U&&ut(s,o,n)){const a=i.data[Dt()];if(bS(a,r)&&!CS(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=rf(l,n||"")),ig(i,a,s,n,r)}else!function a2(e,t,n,r,i,o,s,a){i===U&&(i=te);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),null!==p&&DS(e,t,n,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[V],s[o+1],s[o+1]=function o2(e,t,n){if(null==n||""===n)return te;const r=[],i=Fr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(s2,$n,e,!0)}function $n(e,t){for(let n=function YB(e){return function gS(e){We.key=0,We.keyEnd=0,We.value=0,We.valueEnd=0,We.textEnd=e.length}(e),fS(e,Xo(e,0,We.textEnd))}(t);n>=0;n=fS(t,n))qt(e,hS(t),!0)}function CS(e,t){return t>=e.expandoStartIndex}function ES(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Dt()],s=CS(e,n);bS(o,r)&&null===t&&!s&&(t=!1),t=function t2(e,t,n,r){const i=function Pf(e){const t=x.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Sa(n=hg(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=hg(i,e,t,n,r),null===o){let l=function n2(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==bi(r))return e[Vr(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=hg(null,e,t,l[1],r),l=Sa(l,t.attrs,r),function r2(e,t,n,r){e[Vr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function i2(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Sa(r,e[o].hostAttrs,n);return Sa(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function WB(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Vr(s),l=bi(s);e[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||Mo(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=Vr(e[a+1]);e[r+1]=yu(h,a),0!==h&&(e[h+1]=ug(e[h+1],r)),e[a+1]=function $B(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=yu(a,0),0!==a&&(e[a+1]=ug(e[a+1],r)),a=r;else e[r+1]=yu(l,0),0===a?a=r:e[l+1]=ug(e[l+1],r),l=r;c&&(e[r+1]=cg(e[r+1])),dS(e,u,r,!0),dS(e,u,r,!1),function zB(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Mo(o,t)>=0&&(n[r+1]=dg(n[r+1]))}(t,u,e,r,o),s=yu(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function hg(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Sa(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Sa(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),qt(e,s,!!n||t[++o]))}return void 0===e?null:e}function s2(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&qt(e,r,n)}function DS(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],u=function GB(e){return 1==(1&e)}(c)?IS(l,t,n,i,bi(c),s):void 0;Eu(u)||(Eu(o)||function jB(e){return 2==(2&e)}(c)&&(o=IS(l,null,n,i,a,s)),function WL(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:kr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=kr.Important),e.setStyle(n,r,i,o))}}(r,s,Ec(Dt(),n),i,o))}function IS(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===U&&(h=d?te:void 0);let f=d?Wf(h,r):u===r?h:void 0;if(c&&!Eu(f)&&(f=Wf(l,r)),Eu(f)&&(a=f,s))return a;const p=e[i+1];i=s?Vr(p):bi(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Wf(l,r))}return a}function Eu(e){return void 0!==e}function bS(e,t){return 0!=(e.flags&(t?8:16))}function ft(e,t=""){const n=E(),r=X(),i=e+Y,o=r.firstCreatePass?jo(r,i,1,t,null):r.data[i],s=SS(r,n,o,t,e);n[i]=s,wc()&&Wc(r,n,s,o),Vn(o,!1)}let SS=(e,t,n,r,i)=>(xr(!0),function Hc(e,t){return e.createText(t)}(t[V],r));function wu(e){return fg("",e,""),wu}function fg(e,t,n){const r=E(),i=Go(r,e,t,n);return i!==U&&function dr(e,t,n){const r=Ec(t,e);!function zD(e,t,n){e.setValue(t,n)}(e[V],r,n)}(r,Dt(),i),fg}const ts="en-US";let KS=ts;function mg(e,t,n,r,i){if(e=F(e),Array.isArray(e))for(let o=0;o<e.length;o++)mg(e[o],t,n,r,i);else{const o=X(),s=E(),a=ot();let l=wi(e)?e:F(e.provide);const c=SI(e),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(wi(e)||!e.multi){const f=new Zs(c,i,y),p=vg(l,t,i?u:u+h,d);-1===p?(jf(Tc(a,s),o,l),_g(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=vg(l,t,u+h,d),p=vg(l,t,u,u+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){jf(Tc(a,s),o,l);const C=function MH(e,t,n,r,i){const o=new Zs(e,n,y);return o.multi=[],o.index=t,o.componentProviders=0,yT(o,i,r&&!n),o}(i?AH:TH,n.length,i,r,c);!i&&_&&(n[p].providerFactory=C),_g(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else _g(o,e,f>-1?f:p,yT(n[i?p:f],c,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function _g(e,t,n,r){const i=wi(t),o=function EV(e){return!!e.useClass}(t);if(i||o){const l=(o?F(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function yT(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function vg(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function TH(e,t,n,r){return yg(this.multi,[])}function AH(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ci(n,n[b],this.providerFactory.index,r);o=a.slice(0,s),yg(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],yg(i,o);return o}function yg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ie(e,t=[]){return n=>{n.providersResolver=(r,i)=>function SH(e,t,n){const r=X();if(r.firstCreatePass){const i=Cn(e);mg(n,r.data,r.blueprint,i,!0),mg(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Ti{}class CT{}class Cg extends Ti{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bb(this);const i=Gt(t);this._bootstrapComponents=ur(i.bootstrap),this._r3Injector=VI(t,n,[{provide:Ti,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...r],$e(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Eg extends CT{constructor(t){super(),this.moduleType=t}create(t){return new Cg(this.moduleType,t,[])}}class ET extends Ti{constructor(t){super(),this.componentFactoryResolver=new bb(this),this.instance=null;const n=new Xc([...t.providers,{provide:Ti,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],t.parent||Jc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function wg(e,t,n=null){return new ET({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let OH=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=wI(0,n.type),i=r.length>0?wg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(S(ln))})}return e})();function wT(e){e.getStandaloneInjector=t=>t.get(OH).getOrCreateStandaloneInjector(e)}function Ig(e,t,n,r){return function RT(e,t,n,r,i,o){const s=t+n;return ut(e,s,i)?Hn(e,s+1,o?r.call(o,i):r(i)):function Oa(e,t){const n=e[t];return n===U?void 0:n}(e,s+1)}(E(),wt(),e,t,n,r)}function nj(){return this._results[Symbol.iterator]()}class bg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new $)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=bg.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=nj)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function an(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function K1(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ij(e,t,n,r=!0){const i=t[b];if(function LL(e,t,n,r){const i=rt+r,o=n.length;r>0&&(n[i-1][yn]=t),r<o-rt?(t[yn]=n[i],wD(n,rt+r,t)):(n.push(t),t[yn]=null),t[De]=n;const s=t[Gs];null!==s&&n!==s&&function VL(e,t){const n=e[_o];t[ke]!==t[De][De][ke]&&(e[ww]=!0),null===n?e[_o]=[t]:n.push(t)}(s,t);const a=t[kn];null!==a&&a.insertView(e),t[B]|=128}(i,t,e,n),r){const o=sp(n,e),s=t[V],a=Gc(s,e[Fn]);null!==a&&function xL(e,t,n,r,i,o){r[Oe]=i,r[at]=t,aa(e,r,n,1,i,o)}(i,e[at],s,t,a,o)}}let Gn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=aj}return e})();const oj=Gn,sj=class extends oj{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function rj(e,t,n,r){const i=t.tView,a=cu(e,i,n,4096&e[B]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Gs]=e[t.index];const c=e[kn];return null!==c&&(a[kn]=c.createEmbeddedView(i)),Zp(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new ya(i)}};function aj(){return Tu(ot(),E())}function Tu(e,t){return 4&e.type?new sj(t,e,Uo(e,t)):null}let Dn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=fj}return e})();function fj(){return HT(ot(),E())}const pj=Dn,UT=class extends pj{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new It(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ac(this._hostTNode,this._hostLView);if(Uf(t)){const n=Xs(t,this._hostLView),r=Js(t);return new It(n[b].data[r+8],n)}return new It(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=BT(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-rt}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function ta(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?t:new Ca(J(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const _=(s?c:this.parentInjector).get(ln,null);_&&(o=_)}J(l.componentType??{});const f=l.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function l1(e){return Et(e[De])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=i[De],u=new UT(c,c[at],c[De]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return ij(a,i,s,!r),t.attachToViewContainerRef(),wD(Sg(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=BT(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=$c(this._lContainer,n);r&&(Nc(Sg(this._lContainer),n),np(r[b],r))}detach(t){const n=this._adjustIndex(t,-1),r=$c(this._lContainer,n);return r&&null!=Nc(Sg(this._lContainer),n)?new ya(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function BT(e){return e[8]}function Sg(e){return e[8]||(e[8]=[])}function HT(e,t){let n;const r=t[e.index];return Et(r)?n=r:(n=fb(r,t,null,e),t[e.index]=n,uu(t,n)),jT(n,t,e,r),new UT(n,e,t)}let jT=function $T(e,t,n,r){if(e[Fn])return;let i;i=8&n.type?_e(r):function gj(e,t){const n=e[V],r=n.createComment(""),i=Ft(t,e);return Ei(n,Gc(n,i),r,function jL(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Fn]=i};class Tg{constructor(t){this.queryList=t,this.matches=null}clone(){return new Tg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ag{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Ag(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==KT(t,n).matches&&this.queries[n].setDirty()}}class GT{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Mg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Mg(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Rg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,vj(n,o)),this.matchTNodeWithReadOption(t,n,Mc(n,t,o,!1,!1))}else r===Gn?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Mc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Fe||i===Dn||i===Gn&&4&n.type)this.addMatch(n.index,-2);else{const o=Mc(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function vj(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Cj(e,t,n,r){return-1===n?function yj(e,t){return 11&e.type?Uo(e,t):4&e.type?Tu(e,t):null}(t,e):-2===n?function Ej(e,t,n){return n===Fe?Uo(t,e):n===Gn?Tu(t,e):n===Dn?HT(t,e):void 0}(e,t,r):Ci(e,e[b],n,t)}function WT(e,t,n,r){const i=t[kn].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:Cj(t,o[c],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function Ng(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=WT(e,t,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=rt;d<u.length;d++){const h=u[d];h[Gs]===h[De]&&Ng(h[b],h,c,r)}if(null!==u[_o]){const d=u[_o];for(let h=0;h<d.length;h++){const f=d[h];Ng(f[b],f,c,r)}}}}}return r}function Og(e){const t=E(),n=X(),r=tD();xf(r+1);const i=KT(n,r);if(e.dirty&&function s1(e){return 4==(4&e[B])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Ng(n,t,r,[]):WT(n,t,i,r);e.reset(o,jV),e.notifyOnChanges()}return!0}return!1}function Pg(e,t,n,r){const i=X();if(i.firstCreatePass){const o=ot();(function qT(e,t,n){null===e.queries&&(e.queries=new Mg),e.queries.track(new Rg(t,n))})(i,new GT(t,n,r),o.index),function Ij(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}!function zT(e,t,n){const r=new bg(4==(4&n));(function CU(e,t,n,r){const i=gb(t);i.push(n),e.firstCreatePass&&mb(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[kn]&&(t[kn]=new Ag),t[kn].queries.push(new Tg(r))}(i,E(),n)}function KT(e,t){return e.queries.getByIndex(t)}function YT(e,t){return Tu(e,t)}const Bg=new R("Application Initializer");let Hg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=T(Bg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(ba(o))n.push(o);else if(Qb(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hA=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const hr=new R("LocaleId",{providedIn:"root",factory:()=>T(hr,K.Optional|K.SkipSelf)||function Wj(){return typeof $localize<"u"&&$localize.locale||ts}()});let fA=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Kj{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let pA=(()=>{class e{compileModuleSync(n){return new Eg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=ur(Gt(n).declarations).reduce((s,a)=>{const l=J(a);return l&&s.push(new Ca(l)),s},[]);return new Kj(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const vA=new R(""),Nu=new R("");let zg,Gg=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zg||(function p$(e){zg=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(S(re),S(Wg),S(Nu))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Wg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return zg?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ur=null;const yA=new R("AllowMultipleToken"),qg=new R("PlatformDestroyListeners"),Kg=new R("appBootstrapListener");class EA{constructor(t,n){this.name=t,this.token=n}}function DA(e,t,n=[]){const r=`Platform: ${t}`,i=new R(r);return(o=[])=>{let s=Yg();if(!s||s.injector.get(yA,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function _$(e){if(Ur&&!Ur.get(yA,!1))throw new w(400,!1);(function CA(){!function zF(e){xw=e}(()=>{throw new w(600,!1)})})(),Ur=e;const t=e.get(bA);(function wA(e){e.get(TI,null)?.forEach(n=>n())})(e)}(function IA(e=[],t){return ct.create({name:t,providers:[{provide:vp,useValue:"platform"},{provide:qg,useValue:new Set([()=>Ur=null])},...e]})}(a,r))}return function y$(e){const t=Yg();if(!t)throw new w(401,!1);return t}()}}function Yg(){return Ur?.get(bA)??null}let bA=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function C$(e="zone.js",t){return"noop"===e?new rU:"zone.js"===e?new re(t):e}(r?.ngZone,function SA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function NH(e,t,n){return new Cg(e,t,n)}(n.moduleType,this.injector,function NA(e){return[{provide:re,useFactory:e},{provide:da,multi:!0,useFactory:()=>{const t=T(w$,{optional:!0});return()=>t.initialize()}},{provide:RA,useFactory:E$},{provide:$I,useFactory:GI}]}(()=>i)),s=o.injector.get(cr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Ou(this._modules,o),a.unsubscribe()})}),function TA(e,t,n){try{const r=n();return ba(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Hg);return a.runInitializers(),a.donePromise.then(()=>(function YS(e){nn(e,"Expected localeId to be defined"),"string"==typeof e&&(KS=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(hr,ts)||ts),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=AA({},r);return function g$(e,t,n){const r=new Eg(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ai);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new w(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(qg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(S(ct))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function AA(e,t){return Array.isArray(t)?t.reduce(AA,e):{...e,...t}}let Ai=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(RA),this.zoneIsStable=T($I),this.componentTypes=[],this.components=[],this.isStable=T(fA).hasPendingTasks.pipe(On(n=>n?k(!1):this.zoneIsStable),function rF(e,t=Tr){return e=e??iF,je((n,r)=>{let i,o=!0;n.subscribe(Ve(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),JE()),this._injector=T(ln)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof OI;if(!this._injector.get(Hg).done)throw!i&&function ho(e){const t=J(e)||nt(e)||Ct(e);return null!==t&&t.standalone}(n),new w(405,!1);let s;s=i?n:this._injector.get(pa).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function m$(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ti),c=s.create(ct.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(vA,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ou(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ou(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Kg,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ou(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ou(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const RA=new R("",{providedIn:"root",factory:()=>T(cr).handleError.bind(void 0)});function E$(){const e=T(re),t=T(cr);return n=>e.runOutsideAngular(()=>t.handleError(n))}let w$=(()=>{class e{constructor(){this.zone=T(re),this.applicationRef=T(Ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Pu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=I$}return e})();function I$(e){return function b$(e,t,n){if(_i(e)&&!n){const r=zt(e.index,t);return new ya(r,r)}return 47&e.type?new ya(t[ke],t):null}(ot(),E(),16==(16&e))}class kA{constructor(){}supports(t){return pu(t)}create(t){return new N$(t)}}const R$=(e,t)=>t;class N${constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||R$}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<LA(r,i,o)?n:r,a=LA(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!pu(t))throw new w(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function hB(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new O$(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new FA),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class O${constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class P${constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class FA{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new P$,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LA(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class VA{constructor(){}supports(t){return t instanceof Map||Jp(t)}create(){return new x$}}class x${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Jp(t)))throw new w(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new k$(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class k${constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UA(){return new Fu([new kA])}let Fu=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:UA});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||UA()),deps:[[e,new xc,new Pc]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new w(901,!1)}}return e})();function BA(){return new Fa([new VA])}let Fa=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:BA});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||BA()),deps:[[e,new xc,new Pc]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new w(901,!1)}}return e})();const V$=DA(null,"core",[]);let U$=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(S(Ai))};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({})}return e})();let tm=null;function Br(){return tm}class X${}const Tt=new R("DocumentToken");let nm=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return T(tG)},providedIn:"platform"})}return e})();const eG=new R("Location Initialized");let tG=(()=>{class e extends nm{constructor(){super(),this._doc=T(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(n){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function rm(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function YA(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function fr(e){return e&&"?"!==e[0]?"?"+e:e}let Ri=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return T(ZA)},providedIn:"root"})}return e})();const QA=new R("appBaseHref");let ZA=(()=>{class e extends Ri{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??T(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return rm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+fr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+fr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+fr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(S(nm),S(QA,8))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nG=(()=>{class e extends Ri{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=rm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+fr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+fr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(S(nm),S(QA,8))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),im=(()=>{class e{constructor(n){this._subject=new $,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function oG(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(YA(JA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+fr(r))}normalize(n){return e.stripTrailingSlash(function iG(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,JA(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=fr;static#t=this.joinWithSlash=rm;static#n=this.stripTrailingSlash=YA;static#r=this.\u0275fac=function(r){return new(r||e)(S(Ri))};static#i=this.\u0275prov=M({token:e,factory:function(){return function rG(){return new im(S(Ri))}()},providedIn:"root"})}return e})();function JA(e){return e.replace(/\/index.html$/,"")}const pm=/\s+/,l0=[];let c0=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=l0,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(pm):l0}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(pm):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(pm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(y(Fu),y(Fa),y(Fe),y(Kt))};static#t=this.\u0275dir=O({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class WG{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let d0=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new WG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),h0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{h0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(y(Dn),y(Gn),y(Fu))};static#t=this.\u0275dir=O({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function h0(e,t){e.context.$implicit=t.item}let f0=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new zG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){p0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){p0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(y(Dn),y(Gn))};static#t=this.\u0275dir=O({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class zG{constructor(){this.$implicit=null,this.ngIf=null}}function p0(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${$e(t)}'.`)}let _0=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({})}return e})();const v0="browser";function y0(e){return e===v0}function C0(e){return"server"===e}let CW=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new EW(S(Tt),window)})}return e})();class EW{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function wW(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zW extends X${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Em extends zW{static makeCurrent(){!function J$(e){tm||(tm=e)}(new Em)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function qW(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}();return null==n?null:function KW(e){Qu=Qu||document.createElement("a"),Qu.setAttribute("href",e);const t=Qu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function $G(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Qu,Ba=null,QW=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const wm=new R("EventManagerPlugins");let b0=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(S(wm),S(re))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();class S0{constructor(t){this._doc=t}}const Dm="ng-app-id";let T0=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=C0(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Dm}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Dm),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Dm,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(S(Tt),S(eu),S(AI,8),S(Lr))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const Im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bm=/%COMP%/g,ez=new R("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function M0(e,t){return t.map(n=>n.replace(bm,e))}let R0=(()=>{class e{constructor(n,r,i,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=C0(a),this.defaultRenderer=new Sm(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_n.ShadowDom&&(r={...r,encapsulation:_n.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof O0?i.applyToHost(n):i instanceof Tm&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case _n.Emulated:o=new O0(l,c,r,this.appId,u,s,a,d);break;case _n.ShadowDom:return new iz(l,c,n,r,s,a,this.nonce,d);default:o=new Tm(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(S(b0),S(T0),S(eu),S(ez),S(Tt),S(Lr),S(re),S(AI))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();class Sm{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Im[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(N0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(N0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Im[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Im[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(kr.DashCase|kr.Important)?t.style.setProperty(n,r,i&kr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&kr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Br().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function N0(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class iz extends Sm{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=M0(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tm extends Sm{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?M0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class O0 extends Tm{constructor(t,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(t,n,r,o,s,a,l,c),this.contentAttr=function tz(e){return"_ngcontent-%COMP%".replace(bm,e)}(c),this.hostAttr=function nz(e){return"_nghost-%COMP%".replace(bm,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let oz=(()=>{class e extends S0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(S(Tt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const P0=["alt","control","meta","shift"],sz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},az={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let lz=(()=>{class e extends S0{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),P0.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=sz[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),P0.forEach(s=>{s!==i&&(0,az[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(S(Tt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const hz=DA(V$,"browser",[{provide:Lr,useValue:v0},{provide:TI,useValue:function cz(){Em.makeCurrent()},multi:!0},{provide:Tt,useFactory:function dz(){return function QL(e){cp=e}(document),document},deps:[]}]),fz=new R(""),F0=[{provide:Nu,useClass:class YW{addToWindow(t){me.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new w(5103,!1);return o},me.getAllAngularTestabilities=()=>t.getAllTestabilities(),me.getAllAngularRootElements=()=>t.getAllRootElements(),me.frameworkStabilizers||(me.frameworkStabilizers=[]),me.frameworkStabilizers.push(r=>{const i=me.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Br().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:vA,useClass:Gg,deps:[re,Wg,Nu]},{provide:Gg,useClass:Gg,deps:[re,Wg,Nu]}],L0=[{provide:vp,useValue:"root"},{provide:cr,useFactory:function uz(){return new cr},deps:[]},{provide:wm,useClass:oz,multi:!0,deps:[Tt,re,Lr]},{provide:wm,useClass:lz,multi:!0,deps:[Tt]},R0,T0,b0,{provide:su,useExisting:R0},{provide:class DW{},useClass:QW,deps:[]},[]];let pz=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:eu,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(S(fz,12))};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({providers:[...L0,...F0],imports:[_0,U$]})}return e})(),V0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(S(Tt))};static#t=this.\u0275prov=M({token:e,factory:function(r){let i=null;return i=r?new r:function mz(){return new V0(S(Tt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:Ez}=Array,{getPrototypeOf:wz,prototype:Dz,keys:Iz}=Object;function j0(e){if(1===e.length){const t=e[0];if(Ez(t))return{args:t,keys:null};if(function bz(e){return e&&"object"==typeof e&&wz(e)===Dz}(t)){const n=Iz(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:Sz}=Array;function Mm(e){return he(t=>function Tz(e,t){return Sz(t)?e(...t):e(t)}(e,t))}function $0(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}let G0=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(y(Kt),y(Fe))};static#t=this.\u0275dir=O({type:e})}return e})(),Ni=(()=>{class e extends G0{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=st(e)))(i||e)}}();static#t=this.\u0275dir=O({type:e,features:[ce]})}return e})();const Wn=new R("NgValueAccessor"),Rz={provide:Wn,useExisting:ge(()=>Ha),multi:!0},Oz=new R("CompositionEventMode");let Ha=(()=>{class e extends G0{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nz(){const e=Br()?Br().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(y(Kt),y(Fe),y(Oz,8))};static#t=this.\u0275dir=O({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ve("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ie([Rz]),ce]})}return e})();const pt=new R("NgValidators"),$r=new R("NgAsyncValidators");function tM(e){return null!=e}function nM(e){return ba(e)?Ye(e):e}function rM(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function iM(e,t){return t.map(n=>n(e))}function oM(e){return e.map(t=>function xz(e){return!e.validate}(t)?t:n=>t.validate(n))}function Rm(e){return null!=e?function sM(e){if(!e)return null;const t=e.filter(tM);return 0==t.length?null:function(n){return rM(iM(n,t))}}(oM(e)):null}function Nm(e){return null!=e?function aM(e){if(!e)return null;const t=e.filter(tM);return 0==t.length?null:function(n){return function Az(...e){const t=qE(e),{args:n,keys:r}=j0(e),i=new Ae(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Nt(n[u]).subscribe(Ve(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?$0(r,a):a),o.complete())}))}});return t?i.pipe(Mm(t)):i}(iM(n,t).map(nM)).pipe(he(rM))}}(oM(e)):null}function lM(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function cM(e){return e._rawValidators}function uM(e){return e._rawAsyncValidators}function Om(e){return e?Array.isArray(e)?e:[e]:[]}function Ju(e,t){return Array.isArray(e)?e.includes(t):e===t}function dM(e,t){const n=Om(t);return Om(e).forEach(i=>{Ju(n,i)||n.push(i)}),n}function hM(e,t){return Om(t).filter(n=>!Ju(e,n))}class fM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Nm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Mt extends fM{get formDirective(){return null}get path(){return null}}class Gr extends fM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pM{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pm=(()=>{class e extends pM{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(y(Gr,2))};static#t=this.\u0275dir=O({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Cu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ce]})}return e})(),gM=(()=>{class e extends pM{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(y(Mt,10))};static#t=this.\u0275dir=O({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Cu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ce]})}return e})();const ja="VALID",ed="INVALID",ss="PENDING",$a="DISABLED";function Fm(e){return(td(e)?e.validators:e)||null}function Lm(e,t){return(td(t)?t.asyncValidators:e)||null}function td(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class yM{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ja}get invalid(){return this.status===ed}get pending(){return this.status==ss}get disabled(){return this.status===$a}get enabled(){return this.status!==$a}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(dM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hM(t,this._rawAsyncValidators))}hasValidator(t){return Ju(this._rawValidators,t)}hasAsyncValidator(t){return Ju(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ss,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=$a,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===ss)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$a:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ss,this._hasOwnPendingAsyncValidator=!0;const n=nM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new $,this.statusChanges=new $}_calculateStatus(){return this._allControlsDisabled()?$a:this.errors?ed:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ss)?ss:this._anyControlsHaveStatus(ed)?ed:ja}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){td(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Vz(e){return Array.isArray(e)?Rm(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Uz(e){return Array.isArray(e)?Nm(e):e||null}(this._rawAsyncValidators)}}class Ga extends yM{constructor(t,n,r){super(Fm(n),Lm(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function vM(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new w(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function _M(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Oi=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Wa}),Wa="always";function nd(e,t){return[...t.path,e]}function za(e,t,n=Wa){Vm(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function jz(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&CM(e,t)})}(e,t),function Gz(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function $z(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&CM(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Hz(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function rd(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),od(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function id(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Vm(e,t){const n=cM(e);null!==t.validator?e.setValidators(lM(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=uM(e);null!==t.asyncValidator?e.setAsyncValidators(lM(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();id(t._rawValidators,i),id(t._rawAsyncValidators,i)}function od(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=cM(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=uM(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return id(t._rawValidators,r),id(t._rawAsyncValidators,r),n}function CM(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Bm(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Hm(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Ha?n=o:function qz(e){return Object.getPrototypeOf(e.constructor)===Ni}(o)?r=o:i=o}),i||r||n||null}function DM(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function IM(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Pi=class extends yM{constructor(t=null,n,r){super(Fm(n),Lm(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),td(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=IM(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){DM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){DM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){IM(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Jz={provide:Gr,useExisting:ge(()=>$m)},TM=(()=>Promise.resolve())();let $m=(()=>{class e extends Gr{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Pi,this._registered=!1,this.name="",this.update=new $,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Hm(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Bm(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){za(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){TM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function is(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);TM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?nd(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||e)(y(Mt,9),y(pt,10),y($r,10),y(Wn,10),y(Pu,8),y(Oi,8))};static#t=this.\u0275dir=O({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ie([Jz]),ce,Wt]})}return e})(),AM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=O({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),RM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({})}return e})();const Gm=new R("NgModelWithFormControlWarning"),i3={provide:Mt,useExisting:ge(()=>sd)};let sd=(()=>{class e extends Mt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(od(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return za(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){rd(n.control||null,n,!1),function Kz(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function wM(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(rd(r||null,n),(e=>e instanceof Pi)(i)&&(za(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function EM(e,t){Vm(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Wz(e,t){return od(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vm(this.form,this),this._oldForm&&od(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||e)(y(pt,10),y($r,10),y(Oi,8))};static#t=this.\u0275dir=O({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ve("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ie([i3]),ce,Wt]})}return e})();const a3={provide:Gr,useExisting:ge(()=>qm)};let qm=(()=>{class e extends Gr{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new $,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Hm(0,o)}ngOnChanges(n){this._added||this._setUpControl(),Bm(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return nd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||e)(y(Mt,13),y(pt,10),y($r,10),y(Wn,10),y(Gm,8))};static#n=this.\u0275dir=O({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ie([a3]),ce,Wt]})}return e})(),zM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({imports:[RM]})}return e})(),D3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Oi,useValue:n.callSetDisabledState??Wa}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({imports:[zM]})}return e})(),I3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Gm,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Oi,useValue:n.callSetDisabledState??Wa}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({imports:[zM]})}return e})();function Zm(...e){const t=Ls(e),n=qE(e),{args:r,keys:i}=j0(e);if(0===r.length)return Ye([],t);const o=new Ae(function S3(e,t,n=Tr){return r=>{qM(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)qM(t,()=>{const c=Ye(e[l],t);let u=!1;c.subscribe(Ve(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>$0(i,s):Tr));return n?o.pipe(Mm(n)):o}function qM(e,t,n){e?nr(n,e,t):t()}const ad=ks(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Jm(...e){return function T3(){return co(1)}()(Ye(e,Ls(e)))}function KM(e){return new Ae(t=>{Nt(e()).subscribe(t)})}function Ka(e,t){const n=Q(e)?e:()=>e,r=i=>i.error(n());return new Ae(t?i=>t.schedule(r,0,i):r)}function Xm(){return je((e,t)=>{let n=null;e._refCount++;const r=Ve(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class YM extends Ae{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,PE(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vt;const n=this.getSubject();t.add(this.source.subscribe(Ve(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vt.EMPTY)}return t}refCount(){return Xm()(this)}}function ki(e){return e<=0?()=>Nn:je((t,n)=>{let r=0;t.subscribe(Ve(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Wr(e,t){return je((n,r)=>{let i=0;n.subscribe(Ve(r,o=>e.call(t,o,i++)&&r.next(o)))})}function ld(e){return je((t,n)=>{let r=!1;t.subscribe(Ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function QM(e=M3){return je((t,n)=>{let r=!1;t.subscribe(Ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function M3(){return new ad}function Fi(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Wr((i,o)=>e(i,o,r)):Tr,ki(1),n?ld(t):QM(()=>new ad))}function Ya(e,t){return Q(t)?Ke(e,t,1):Ke(e,1)}function gt(e,t,n){const r=Q(e)||t||n?{next:e,error:t,complete:n}:e;return r?je((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ve(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Tr}function Li(e){return je((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Ve(n,void 0,void 0,s=>{o=Nt(e(s,Li(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function e_(e){return e<=0?()=>Nn:je((t,n)=>{let r=[];t.subscribe(Ve(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function t_(e){return je((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const j="primary",Qa=Symbol("RouteTitle");class k3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function as(e){return new k3(e)}function F3(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function zn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ZM(e[i],t[i]))return!1;return!0}function ZM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function JM(e){return e.length>0?e[e.length-1]:null}function zr(e){return function b3(e){return!!e&&(e instanceof Ae||Q(e.lift)&&Q(e.subscribe))}(e)?e:ba(e)?Ye(Promise.resolve(e)):k(e)}const V3={exact:function tR(e,t,n){if(!Vi(e.segments,t.segments)||!cd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!tR(e.children[r],t.children[r],n))return!1;return!0},subset:nR},XM={exact:function U3(e,t){return zn(e,t)},subset:function B3(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>ZM(e[n],t[n]))},ignored:()=>!0};function eR(e,t,n){return V3[n.paths](e.root,t.root,n.matrixParams)&&XM[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function nR(e,t,n){return rR(e,t,t.segments,n)}function rR(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Vi(i,n)||t.hasChildren()||!cd(i,n,r))}if(e.segments.length===n.length){if(!Vi(e.segments,n)||!cd(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!nR(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Vi(e.segments,i)&&cd(e.segments,i,r)&&e.children[j])&&rR(e.children[j],t,o,r)}}function cd(e,t,n){return t.every((r,i)=>XM[n](e[i].parameters,r.parameters))}class ls{constructor(t=new ue([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=as(this.queryParams)),this._queryParamMap}toString(){return $3.serialize(this)}}class ue{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ud(this)}}class Za{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=as(this.parameters)),this._parameterMap}toString(){return sR(this)}}function Vi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Ja=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return new n_},providedIn:"root"})}return e})();class n_{parse(t){const n=new e4(t);return new ls(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Xa(t.root,!0)}`,r=function z3(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${dd(n)}=${dd(i)}`).join("&"):`${dd(n)}=${dd(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function G3(e){return encodeURI(e)}(t.fragment)}`:""}`}}const $3=new n_;function ud(e){return e.segments.map(t=>sR(t)).join("/")}function Xa(e,t){if(!e.hasChildren())return ud(e);if(t){const n=e.children[j]?Xa(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Xa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function j3(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===j?[Xa(e.children[j],!1)]:[`${i}:${Xa(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[j]?`${ud(e)}/${n[0]}`:`${ud(e)}/(${n.join("//")})`}}function iR(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dd(e){return iR(e).replace(/%3B/gi,";")}function r_(e){return iR(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hd(e){return decodeURIComponent(e)}function oR(e){return hd(e.replace(/\+/g,"%20"))}function sR(e){return`${r_(e.path)}${function W3(e){return Object.keys(e).map(t=>`;${r_(t)}=${r_(e[t])}`).join("")}(e.parameters)}`}const q3=/^[^\/()?;#]+/;function i_(e){const t=e.match(q3);return t?t[0]:""}const K3=/^[^\/()?;=#]+/,Q3=/^[^=?&#]+/,J3=/^[^&#]+/;class e4{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new ue(t,n)),r}parseSegment(){const t=i_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new Za(hd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Y3(e){const t=e.match(K3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=i_(this.remaining);i&&(r=i,this.capture(r))}t[hd(n)]=hd(r)}parseQueryParam(t){const n=function Z3(e){const t=e.match(Q3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function X3(e){const t=e.match(J3);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=oR(n),o=oR(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=i_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[j]:new ue([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}}function aR(e){return e.segments.length>0?new ue([],{[j]:e}):e}function lR(e){const t={};for(const r of Object.keys(e.children)){const o=lR(e.children[r]);if(r===j&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function t4(e){if(1===e.numberOfChildren&&e.children[j]){const t=e.children[j];return new ue(e.segments.concat(t.segments),t.children)}return e}(new ue(e.segments,t))}function Ui(e){return e instanceof ls}function cR(e){let t;const i=aR(function n(o){const s={};for(const l of o.children){const c=n(l);s[l.outlet]=c}const a=new ue(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function uR(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return o_(i,i,i,n,r);const o=function r4(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new hR(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new hR(n,t,r)}(t);if(o.toRoot())return o_(i,i,new ue([],{}),n,r);const s=function i4(e,t,n){if(e.isAbsolute)return new pd(t,!0,0);if(!n)return new pd(t,!1,NaN);if(null===n.parent)return new pd(n,!0,0);const r=fd(e.commands[0])?0:1;return function o4(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new pd(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?tl(s.segmentGroup,s.index,o.commands):fR(s.segmentGroup,s.index,o.commands);return o_(i,s.segmentGroup,a,n,r)}function fd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function el(e){return"object"==typeof e&&null!=e&&e.outlets}function o_(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=e===t?n:dR(e,t,n);const a=aR(lR(s));return new ls(a,o,i)}function dR(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:dR(o,t,n)}),new ue(e.segments,r)}class hR{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&fd(r[0]))throw new w(4003,!1);const i=r.find(el);if(i&&i!==JM(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pd{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function fR(e,t,n){if(e||(e=new ue([],{})),0===e.segments.length&&e.hasChildren())return tl(e,t,n);const r=function a4(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(el(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!gR(l,c,s))return o;r+=2}else{if(!gR(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new ue(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new ue(e.segments.slice(r.pathIndex),e.children),tl(o,0,i)}return r.match&&0===i.length?new ue(e.segments,{}):r.match&&!e.hasChildren()?s_(e,t,n):r.match?tl(e,0,i):s_(e,t,n)}function tl(e,t,n){if(0===n.length)return new ue(e.segments,{});{const r=function s4(e){return el(e[0])?e[0].outlets:{[j]:e}}(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&1===e.numberOfChildren&&0===e.children[j].segments.length){const o=tl(e.children[j],t,n);return new ue(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=fR(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ue(e.segments,i)}}function s_(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(el(o)){const l=l4(o.outlets);return new ue(r,l)}if(0===i&&fd(n[0])){r.push(new Za(e.segments[t].path,pR(n[0]))),i++;continue}const s=el(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fd(a)?(r.push(new Za(s,pR(a))),i+=2):(r.push(new Za(s,{})),i++)}return new ue(r,{})}function l4(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=s_(new ue([],{}),0,r))}),t}function pR(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function gR(e,t,n){return e==n.path&&zn(t,n.parameters)}const nl="imperative";class qn{constructor(t,n){this.id=t,this.url=n}}class gd extends qn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qr extends qn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rl extends qn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cs extends qn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class md extends qn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mR extends qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c4 extends qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends qn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class d4 extends qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h4 extends qn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f4{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class p4{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class g4{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m4{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _4{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v4{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _R{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class a_{}class l_{constructor(t){this.url=t}}class y4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new il,this.attachRef=null}}let il=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new y4,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class vR{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=c_(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=c_(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=u_(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return u_(t,this._root).map(n=>n.value)}}function c_(e,t){if(e===t.value)return t;for(const n of t.children){const r=c_(e,n);if(r)return r}return null}function u_(e,t){if(e===t.value)return[t];for(const n of t.children){const r=u_(e,n);if(r.length)return r.unshift(t),r}return[]}class mr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function us(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class yR extends vR{constructor(t,n){super(t),this.snapshot=n,d_(this,t)}toString(){return this.snapshot.toString()}}function CR(e,t){const n=function C4(e,t){const s=new _d([],{},{},"",{},j,t,null,{});return new wR("",new mr(s,[]))}(0,t),r=new tn([new Za("",{})]),i=new tn({}),o=new tn({}),s=new tn({}),a=new tn(""),l=new ds(r,i,s,a,o,j,t,n.root);return l.snapshot=n.root,new yR(new mr(l,[]),n)}class ds{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(c=>c[Qa]))??k(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(t=>as(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(t=>as(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ER(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function E4(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class _d{get title(){return this.data?.[Qa]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=as(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=as(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wR extends vR{constructor(t,n){super(n),this.url=t,d_(this,n)}toString(){return DR(this._root)}}function d_(e,t){t.value._routerState=e,t.children.forEach(n=>d_(e,n))}function DR(e){const t=e.children.length>0?` { ${e.children.map(DR).join(", ")} } `:"";return`${e.value}${t}`}function h_(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),zn(t.params,n.params)||e.paramsSubject.next(n.params),function L3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!zn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),zn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function f_(e,t){const n=zn(e.params,t.params)&&function H3(e,t){return Vi(e,t)&&e.every((n,r)=>zn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||f_(e.parent,t.parent))}let p_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new $,this.deactivateEvents=new $,this.attachEvents=new $,this.detachEvents=new $,this.parentContexts=T(il),this.location=T(Dn),this.changeDetector=T(Pu),this.environmentInjector=T(ln),this.inputBinder=T(vd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new w4(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=O({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wt]})}return e})();class w4{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ds?this.route:t===il?this.childContexts:this.parent.get(t,n)}}const vd=new R("");let IR=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Zm([r.queryParams,r.params,r.data]).pipe(On(([o,s,a],l)=>(a={...o,...s,...a},0===l?k(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function Z$(e){const t=J(e);if(!t)return null;const n=new Ca(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function ol(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function I4(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ol(e,r,i);return ol(e,r)})}(e,t,n);return new mr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ol(e,a)),s}}const r=function b4(e){return new ds(new tn(e.url),new tn(e.params),new tn(e.queryParams),new tn(e.fragment),new tn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>ol(e,o));return new mr(r,i)}}const g_="ngNavigationCancelingError";function bR(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Ui(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=SR(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function SR(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[g_]=!0,r.cancellationCode=t,n&&(r.url=n),r}function TR(e){return e&&e[g_]}let AR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=xn({type:e,selectors:[["ng-component"]],standalone:!0,features:[wT],decls:1,vars:0,template:function(r,i){1&r&&dt(0,"router-outlet")},dependencies:[p_],encapsulation:2})}return e})();function m_(e){const t=e.children&&e.children.map(m_),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=AR),n}function Sn(e){return e.outlet||j}function sl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class P4{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),h_(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=us(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=us(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=us(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=us(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new v4(o.value.snapshot))}),t.children.length&&this.forwardEvent(new m4(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(h_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),h_(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=sl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class MR{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yd{constructor(t,n){this.component=t,this.route=n}}function x4(e,t,n){const r=e._root;return al(r,t?t._root:null,n,[r.value])}function hs(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function dF(e){return null!==cc(e)}(e)?t.get(e):e:r}function al(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=us(t);return e.children.forEach(s=>{(function F4(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function L4(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Vi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Vi(e.url,t.url)||!zn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!f_(e,t)||!zn(e.queryParams,t.queryParams);default:return!f_(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new MR(r)):(o.data=s.data,o._resolvedData=s._resolvedData),al(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yd(a.outlet.component,s))}else s&&ll(t,a,i),i.canActivateChecks.push(new MR(r)),al(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ll(a,n.getContext(s),i)),i}function ll(e,t,n){const r=us(e),i=e.value;Object.entries(r).forEach(([o,s])=>{ll(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new yd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function cl(e){return"function"==typeof e}function RR(e){return e instanceof ad||"EmptyError"===e?.name}const Cd=Symbol("INITIAL_VALUE");function fs(){return On(e=>Zm(e.map(t=>t.pipe(ki(1),function A3(...e){const t=Ls(e);return je((n,r)=>{(t?Jm(e,n,t):Jm(e,n)).subscribe(r)})}(Cd)))).pipe(he(t=>{for(const n of t)if(!0!==n){if(n===Cd)return Cd;if(!1===n||n instanceof ls)return n}return!0}),Wr(t=>t!==Cd),ki(1)))}function NR(e){return function gk(...e){return RE(e)}(gt(t=>{if(Ui(t))throw bR(0,t)}),he(t=>!0===t))}class Ed{constructor(t){this.segmentGroup=t||null}}class OR{constructor(t){this.urlTree=t}}function ps(e){return Ka(new Ed(e))}function PR(e){return Ka(new OR(e))}class rq{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new w(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return k(r);if(i.numberOfChildren>1||!i.children[j])return Ka(new w(4e3,!1));i=i.children[j]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new ls(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new ue(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const __={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iq(e,t,n,r,i){const o=v_(e,t,n);return o.matched?(r=function T4(e,t){return e.providers&&!e._injector&&(e._injector=wg(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function eq(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?k(i.map(s=>{const a=hs(s,e);return zr(function $4(e){return e&&cl(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(fs(),NR()):k(!0)}(r,t,n).pipe(he(s=>!0===s?o:{...__}))):k(o)}function v_(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...__}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||F3)(n,e,t);if(!i)return{...__};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xR(e,t,n,r){return n.length>0&&function aq(e,t,n){return n.some(r=>wd(e,t,r)&&Sn(r)!==j)}(e,n,r)?{segmentGroup:new ue(t,sq(r,new ue(n,e.children))),slicedSegments:[]}:0===n.length&&function lq(e,t,n){return n.some(r=>wd(e,t,r))}(e,n,r)?{segmentGroup:new ue(e.segments,oq(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ue(e.segments,e.children),slicedSegments:n}}function oq(e,t,n,r,i){const o={};for(const s of r)if(wd(e,n,s)&&!i[Sn(s)]){const a=new ue([],{});o[Sn(s)]=a}return{...i,...o}}function sq(e,t){const n={};n[j]=t;for(const r of e)if(""===r.path&&Sn(r)!==j){const i=new ue([],{});n[Sn(r)]=i}return n}function wd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class hq{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new rq(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,!1)}recognize(){const t=xR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,j).pipe(Li(n=>{if(n instanceof OR)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Ed?this.noMatchError(n):n}),he(n=>{const r=new _d([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},j,this.rootComponentType,null,{}),i=new mr(r,n),o=new wR("",i),s=function n4(e,t,n=null,r=null){return uR(cR(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,j).pipe(Li(r=>{throw r instanceof Ed?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=ER(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ye(i).pipe(Ya(o=>{const s=r.children[o],a=function N4(e,t){const n=e.filter(r=>Sn(r)===t);return n.push(...e.filter(r=>Sn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function N3(e,t){return je(function R3(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(Ve(s,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),ld(null),function O3(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Wr((i,o)=>e(i,o,r)):Tr,e_(1),n?ld(t):QM(()=>new ad))}(),Ke(o=>{if(null===o)return ps(r);const s=kR(o);return function fq(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}(s),k(s)}))}processSegment(t,n,r,i,o,s){return Ye(n).pipe(Ya(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Li(l=>{if(l instanceof Ed)return k(null);throw l}))),Fi(a=>!!a),Li(a=>{if(RR(a))return function uq(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?k([]):ps(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function cq(e,t,n,r){return!!(Sn(e)===r||r!==j&&wd(t,n,e))&&("**"===e.path||v_(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):ps(i):ps(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?PR(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ke(s=>{const a=new ue(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=v_(n,i,o);if(!a)return ps(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?PR(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ke(h=>this.processSegment(t,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?JM(i).parameters:{};a=k({snapshot:new _d(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FR(r),Sn(r),r.component??r._loadedComponent??null,r,LR(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=iq(n,r,i,t).pipe(he(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new _d(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FR(r),Sn(r),r.component??r._loadedComponent??null,r,LR(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(On(l=>null===l?ps(n):this.getChildConfig(t=r._injector??t,r,i).pipe(On(({routes:c})=>{const u=r._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=xR(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(he(C=>null===C?null:[new mr(d,C)]));if(0===c.length&&0===g.length)return k([new mr(d,[])]);const _=Sn(r)===o;return this.processSegment(u,c,p,g,_?j:o,!0).pipe(he(C=>[new mr(d,C)]))}))))}getChildConfig(t,n,r){return n.children?k({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?k({routes:n._loadedRoutes,injector:n._loadedInjector}):function X4(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?k(!0):k(i.map(s=>{const a=hs(s,e);return zr(function U4(e){return e&&cl(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(fs(),NR())}(t,n,r).pipe(Ke(i=>i?this.configLoader.loadChildren(t,n).pipe(gt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function nq(e){return Ka(SR(!1,3))}())):k({routes:[],injector:t})}}function pq(e){const t=e.value.routeConfig;return t&&""===t.path}function kR(e){const t=[],n=new Set;for(const r of e){if(!pq(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=kR(r.children);t.push(new mr(r.value,i))}return t.filter(r=>!n.has(r))}function FR(e){return e.data||{}}function LR(e){return e.resolve||{}}function VR(e){return"string"==typeof e.title||null===e.title}function y_(e){return On(t=>{const n=e(t);return n?Ye(n).pipe(he(()=>t)):k(t)})}const gs=new R("ROUTES");let C_=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(pA)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return k(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=zr(n.loadComponent()).pipe(he(UR),gt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),t_(()=>{this.componentLoaders.delete(n)})),i=new YM(r,()=>new en).pipe(Xm());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Eq(e,t,n,r){return zr(e.loadChildren()).pipe(he(UR),Ke(i=>i instanceof CT||Array.isArray(i)?k(i):Ye(t.compileModuleAsync(i))),he(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(gs,[],{optional:!0,self:!0}).flat()),{routes:s.map(m_),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(t_(()=>{this.childrenLoaders.delete(r)})),s=new YM(o,()=>new en).pipe(Xm());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UR(e){return function wq(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Dd=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new en,this.transitionAbortSubject=new en,this.configLoader=T(C_),this.environmentInjector=T(ln),this.urlSerializer=T(Ja),this.rootContexts=T(il),this.inputBindingEnabled=null!==T(vd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new p4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new f4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new tn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wr(o=>0!==o.id),he(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),On(o=>{this.currentTransition=o;let s=!1,a=!1;return k(o).pipe(gt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),On(l=>{const c=l.currentBrowserUrl.toString(),u=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Nn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return k(l).pipe(On(h=>{const f=this.transitions?.getValue();return this.events.next(new gd(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Nn:Promise.resolve(h)}),function gq(e,t,n,r,i,o){return Ke(s=>function dq(e,t,n,r,i,o,s="emptyOnly"){return new hq(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(he(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),gt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new mR(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=l,C=new gd(h,this.urlSerializer.serialize(f),p,g);this.events.next(C);const m=CR(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:m,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},k(o)}{const h="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Nn}}),gt(l=>{const c=new c4(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),he(l=>(this.currentTransition=o={...l,guards:x4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function W4(e,t){return Ke(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?k({...n,guardsResult:!0}):function z4(e,t,n,r){return Ye(e).pipe(Ke(i=>function J4(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?k(o.map(a=>{const l=sl(t)??i,c=hs(a,l);return zr(function j4(e){return e&&cl(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):l.runInContext(()=>c(e,t,n,r))).pipe(Fi())})).pipe(fs()):k(!0)}(i.component,i.route,n,t,r)),Fi(i=>!0!==i,!0))}(s,r,i,e).pipe(Ke(a=>a&&function V4(e){return"boolean"==typeof e}(a)?function q4(e,t,n,r){return Ye(t).pipe(Ya(i=>Jm(function Y4(e,t){return null!==e&&t&&t(new g4(e)),k(!0)}(i.route.parent,r),function K4(e,t){return null!==e&&t&&t(new _4(e)),k(!0)}(i.route,r),function Z4(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function k4(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>KM(()=>k(s.guards.map(l=>{const c=sl(s.node)??n,u=hs(l,c);return zr(function H4(e){return e&&cl(e.canActivateChild)}(u)?u.canActivateChild(r,e):c.runInContext(()=>u(r,e))).pipe(Fi())})).pipe(fs())));return k(o).pipe(fs())}(e,i.path,n),function Q4(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return k(!0);const i=r.map(o=>KM(()=>{const s=sl(t)??n,a=hs(o,s);return zr(function B4(e){return e&&cl(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Fi())}));return k(i).pipe(fs())}(e,i.route,n))),Fi(i=>!0!==i,!0))}(r,o,e,t):k(a)),he(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),gt(l=>{if(o.guardsResult=l.guardsResult,Ui(l.guardsResult))throw bR(0,l.guardsResult);const c=new u4(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Wr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),y_(l=>{if(l.guards.canActivateChecks.length)return k(l).pipe(gt(c=>{const u=new d4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),On(c=>{let u=!1;return k(c).pipe(function mq(e,t){return Ke(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let o=0;return Ye(i).pipe(Ya(s=>function _q(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!VR(i)&&(o[Qa]=i.title),function vq(e,t,n,r){const i=function yq(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return k({});const o={};return Ye(i).pipe(Ke(s=>function Cq(e,t,n,r){const i=sl(t)??r,o=hs(e,i);return zr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(Fi(),gt(a=>{o[s]=a}))),e_(1),function P3(e){return he(()=>e)}(o),Li(s=>RR(s)?Nn:Ka(s)))}(o,e,t,r).pipe(he(s=>(e._resolvedData=s,e.data=ER(e,n).resolve,i&&VR(i)&&(e.data[Qa]=i.title),null)))}(s.route,r,e,t)),gt(()=>o++),e_(1),Ke(s=>o===i.length?k(n):Nn))})}(n.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),gt(c=>{const u=new h4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),y_(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(gt(h=>{u.component=h}),he(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Zm(c(l.targetSnapshot.root)).pipe(ld(),ki(1))}),y_(()=>this.afterPreactivation()),he(l=>{const c=function D4(e,t,n){const r=ol(e,t._root,n?n._root:void 0);return new yR(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),gt(()=>{this.events.next(new a_)}),((e,t,n,r)=>he(i=>(new P4(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ki(1),gt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function x3(e){return je((t,n)=>{Nt(e).subscribe(Ve(n,()=>n.complete(),$h)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(gt(l=>{throw l}))),t_(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Li(l=>{if(a=!0,TR(l))this.events.next(new rl(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function S4(e){return TR(e)&&Ui(e.url)}(l)?this.events.next(new l_(l.url)):o.resolve(!1);else{this.events.next(new md(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(c){o.reject(c)}}return Nn}))}))}cancelNavigationTransition(n,r,i){const o=new rl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BR(e){return e!==nl}let HR=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[Qa]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return T(Dq)},providedIn:"root"})}return e})(),Dq=(()=>{class e extends HR{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(S(V0))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return T(Sq)},providedIn:"root"})}return e})();class bq{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Sq=(()=>{class e extends bq{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=st(e)))(i||e)}}();static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Id=new R("",{providedIn:"root",factory:()=>({})});let Tq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return T(Aq)},providedIn:"root"})}return e})(),Aq=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ul=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ul||{});function jR(e,t){e.events.pipe(Wr(n=>n instanceof qr||n instanceof rl||n instanceof md||n instanceof cs),he(n=>n instanceof qr||n instanceof cs?ul.COMPLETE:n instanceof rl&&(0===n.code||1===n.code)?ul.REDIRECTING:ul.FAILED),Wr(n=>n!==ul.REDIRECTING),ki(1)).subscribe(()=>{t()})}function Mq(e){throw e}function Rq(e,t,n){return t.parse("/")}const Nq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=T(hA),this.isNgZoneEnabled=!1,this._events=new en,this.options=T(Id,{optional:!0})||{},this.pendingTasks=T(fA),this.errorHandler=this.options.errorHandler||Mq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Rq,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=T(Tq),this.routeReuseStrategy=T(Iq),this.titleStrategy=T(HR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=T(gs,{optional:!0})?.flat()??[],this.navigationTransitions=T(Dd),this.urlSerializer=T(Ja),this.location=T(im),this.componentInputBindingEnabled=!!T(vd,{optional:!0}),this.eventsSubscription=new vt,this.isNgZoneEnabled=T(re)instanceof re&&re.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ls,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void($R(r)&&this._events.next(r));if(r instanceof gd)BR(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof cs)this.rawUrlTree=i.rawUrl;else if(r instanceof mR){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof a_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof rl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof l_){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||BR(i.source)};this.scheduleNavigation(o,nl,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof md&&this.restoreHistory(i,!0),r instanceof qr&&(this.navigated=!0),$R(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(m_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=cR(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return uR(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ui(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,nl,null,r)}navigate(n,r={skipLocationChange:!1}){return function Pq(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new w(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Nq}:!1===r?{...Oq}:r,Ui(n))return eR(this.currentUrlTree,n,i);const o=this.parseUrl(n);return eR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return jR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $R(e){return!(e instanceof a_||e instanceof l_)}class GR{}let Fq=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Wr(n=>n instanceof qr),Ya(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=wg(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ye(i).pipe(co())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):k(null);const o=i.pipe(Ke(s=>null===s?k(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Ye([o,this.loader.loadComponent(r)]).pipe(co()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(S(fn),S(pA),S(ln),S(GR),S(C_))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const w_=new R("");let WR=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof cs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _R&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _R(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function ib(){throw new Error("invalid")}()};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function _r(e,t){return{\u0275kind:e,\u0275providers:t}}function qR(){const e=T(ct);return t=>{const n=e.get(Ai);if(t!==n.components[0])return;const r=e.get(fn),i=e.get(KR);1===e.get(D_)&&r.initialNavigation(),e.get(YR,null,K.Optional)?.setUpPreloading(),e.get(w_,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const KR=new R("",{factory:()=>new en}),D_=new R("",{providedIn:"root",factory:()=>1}),YR=new R("");function Bq(e){return _r(0,[{provide:YR,useExisting:Fq},{provide:GR,useExisting:e}])}const QR=new R("ROUTER_FORROOT_GUARD"),jq=[im,{provide:Ja,useClass:n_},fn,il,{provide:ds,useFactory:function zR(e){return e.routerState.root},deps:[fn]},C_,[]];function $q(){return new EA("Router",fn)}let ZR=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[jq,[],{provide:gs,multi:!0,useValue:n},{provide:QR,useFactory:qq,deps:[[fn,new Pc,new xc]]},{provide:Id,useValue:r||{}},r?.useHash?{provide:Ri,useClass:nG}:{provide:Ri,useClass:ZA},{provide:w_,useFactory:()=>{const e=T(CW),t=T(re),n=T(Id),r=T(Dd),i=T(Ja);return n.scrollOffset&&e.setOffset(n.scrollOffset),new WR(i,r,e,t,n)}},r?.preloadingStrategy?Bq(r.preloadingStrategy).\u0275providers:[],{provide:EA,multi:!0,useFactory:$q},r?.initialNavigation?Kq(r):[],r?.bindToComponentInputs?_r(8,[IR,{provide:vd,useExisting:IR}]).\u0275providers:[],[{provide:JR,useFactory:qR},{provide:Kg,multi:!0,useExisting:JR}]]}}static forChild(n){return{ngModule:e,providers:[{provide:gs,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(S(QR,8))};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({})}return e})();function qq(e){return"guarded"}function Kq(e){return["disabled"===e.initialNavigation?_r(3,[{provide:Bg,multi:!0,useFactory:()=>{const t=T(fn);return()=>{t.setUpLocationChangeListener()}}},{provide:D_,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?_r(2,[{provide:D_,useValue:0},{provide:Bg,multi:!0,deps:[ct],useFactory:t=>{const n=t.get(eG,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(fn),o=t.get(KR);jR(i,()=>{r(!0)}),t.get(Dd).afterPreactivation=()=>(r(!0),o.closed?k(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const JR=new R("");function XR(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){XR(o,r,i,s,a,"next",l)}function a(l){XR(o,r,i,s,a,"throw",l)}s(void 0)})}}const D=function(e,t){if(!e)throw ms(t)},ms=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},eN=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new Zq;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Zq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tN=function(e){const t=eN(e);return b_.encodeByteArray(t,!0)},bd=function(e){return tN(e).replace(/\./g,"")},Sd=function(e){try{return b_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Jq(e){return nN(void 0,e)}function nN(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Xq(n)||(e[n]=nN(e[n],t[n]));return e}function Xq(e){return"__proto__"!==e}const Td=()=>{try{return function e8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Sd(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},rN=e=>{var t,n;return null===(n=null===(t=Td())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},iN=()=>{var e;return null===(e=Td())||void 0===e?void 0:e.config},oN=e=>{var t;return null===(t=Td())||void 0===t?void 0:t[`_${e}`]};class Bi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function S_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function sN(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Kr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function h8(e,t){return e.replace(f8,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Kr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const f8=/\{\$([^}]+)}/g;function hl(e){return JSON.parse(e)}function Je(e){return JSON.stringify(e)}const Ad=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=hl(Sd(o[0])||""),n=hl(Sd(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function T_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Md(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Rd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(aN(o)&&aN(s)){if(!Rd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aN(e){return null!==e&&"object"==typeof e}function fl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class m8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}class v8{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function y8(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=A_),void 0===i.error&&(i.error=A_),void 0===i.complete&&(i.complete=A_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A_(){}function ji(e,t){return`${e} failed: ${t} argument `}const Nd=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Zt(e){return e&&e._delegate?e._delegate:e}class $i{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gi="[DEFAULT]";class S8{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Bi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function A8(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return v(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Gi){return this.instances.has(t)}getOptions(t=Gi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===Gi?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=Gi){return this.component?this.component.multipleInstances?t:Gi:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class M8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new S8(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const M_=[];var de=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(de||{});const lN={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},R8=de.INFO,N8={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},O8=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=N8[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class R_{constructor(t){this.name=t,this._logLevel=R8,this._logHandler=O8,this._userLogHandler=null,M_.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?lN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}const P8=(e,t)=>t.some(n=>e instanceof n);let cN,uN;const dN=new WeakMap,N_=new WeakMap,hN=new WeakMap,O_=new WeakMap,P_=new WeakMap;let x_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return N_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||hN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function B8(e){return"function"==typeof e?function U8(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function k8(){return uN||(uN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(k_(this),t),Yr(dN.get(this))}:function(...t){return Yr(e.apply(k_(this),t))}:function(t,...n){const r=e.call(k_(this),t,...n);return hN.set(r,t.sort?t.sort():[t]),Yr(r)}}(e):(e instanceof IDBTransaction&&function L8(e){if(N_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});N_.set(e,t)}(e),P8(e,function x8(){return cN||(cN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,x_):e)}function Yr(e){if(e instanceof IDBRequest)return function F8(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Yr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&dN.set(n,e)}).catch(()=>{}),P_.set(t,e),t}(e);if(O_.has(e))return O_.get(e);const t=B8(e);return t!==e&&(O_.set(e,t),P_.set(t,e)),t}const k_=e=>P_.get(e),j8=["get","getKey","getAll","getAllKeys","count"],$8=["put","add","delete","clear"],F_=new Map;function fN(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(F_.get(t))return F_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!j8.includes(n))return;const o=function(){var s=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return F_.set(t,o),o}!function V8(e){x_=e(x_)}(e=>({...e,get:(t,n,r)=>fN(t,n)||e.get(t,n,r),has:(t,n)=>!!fN(t,n)||e.has(t,n)}));class G8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function W8(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const L_="@firebase/app",Wi=new R_("@firebase/app"),Od="[DEFAULT]",_6={[L_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zi=new Map,Pd=new Map;function v6(e,t){try{e.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _s(e){const t=e.name;if(Pd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,e);for(const n of zi.values())v6(n,e);return!0}function xd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const yr=new dl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class C6{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const vs="10.5.0";function gN(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Od,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=iN()),!n)throw yr.create("no-options");const o=zi.get(i);if(o){if(Rd(n,o.options)&&Rd(r,o.config))return o;throw yr.create("duplicate-app",{appName:i})}const s=new M8(i);for(const l of Pd.values())s.addComponent(l);const a=new C6(n,r,s);return zi.set(i,a),a}function mN(e=Od){const t=zi.get(e);if(!t&&e===Od&&iN())return gN();if(!t)throw yr.create("no-app",{appName:e});return t}function Qr(e,t,n){var r;let i=null!==(r=_6[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Wi.warn(a.join(" "))}_s(new $i(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const E6="firebase-heartbeat-database",w6=1,pl="firebase-heartbeat-store";let U_=null;function _N(){return U_||(U_=function H8(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Yr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yr(s.result),l.oldVersion,l.newVersion,Yr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(E6,w6,{upgrade:(e,t)=>{0===t&&e.createObjectStore(pl)}}).catch(e=>{throw yr.create("idb-open",{originalErrorMessage:e.message})})),U_}function B_(){return(B_=v(function*(e){try{return yield(yield _N()).transaction(pl).objectStore(pl).get(yN(e))}catch(t){if(t instanceof Kr)Wi.warn(t.message);else{const n=yr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(n.message)}}})).apply(this,arguments)}function vN(e,t){return H_.apply(this,arguments)}function H_(){return(H_=v(function*(e,t){try{const r=(yield _N()).transaction(pl,"readwrite");yield r.objectStore(pl).put(t,yN(e)),yield r.done}catch(n){if(n instanceof Kr)Wi.warn(n.message);else{const r=yr.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(r.message)}}})).apply(this,arguments)}function yN(e){return`${e.name}!${e.options.appId}`}class S6{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return v(function*(){const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=CN();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some(o=>o.date===i))return t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return v(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const n=CN(),{heartbeatsToSend:r,unsentEntries:i}=function T6(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),EN(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EN(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),o=bd(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function CN(){return(new Date).toISOString().substring(0,10)}class A6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!function c8(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function u8(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return v(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function D6(e){return B_.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return vN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return vN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function EN(e){return bd(JSON.stringify({version:2,heartbeats:e})).length}!function M6(e){_s(new $i("platform-logger",t=>new G8(t),"PRIVATE")),_s(new $i("heartbeat",t=>new S6(t),"PRIVATE")),Qr(L_,"0.9.20",e),Qr(L_,"0.9.20","esm2017"),Qr("fire-js","")}(""),Qr("firebase","10.5.0","app");const wN="@firebase/database";let j_="";class O6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Je(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:hl(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class P6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Tn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const bN=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new O6(t)}}catch{}return new P6},qi=bN("localStorage"),$_=bN("sessionStorage"),ys=new R_("@firebase/database"),SN=function(){let e=1;return function(){return e++}}(),TN=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,D(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new m8;n.update(t);const r=n.digest();return b_.encodeByteArray(r)},gl=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=gl.apply(null,r):t+="object"==typeof r?Je(r):r,t+=" "}return t};let Ki=null,AN=!0;const Xe=function(...e){if(!0===AN&&(AN=!1,null===Ki&&!0===$_.get("logging_enabled")&&function(e,t){D(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ys.logLevel=de.VERBOSE,Ki=ys.log.bind(ys),t&&$_.set("logging_enabled",!0)):"function"==typeof e?Ki=e:(Ki=null,$_.remove("logging_enabled"))}(!0)),Ki){const t=gl.apply(null,e);Ki(t)}},ml=function(e){return function(...t){Xe(e,...t)}},G_=function(...e){const t="FIREBASE INTERNAL ERROR: "+gl(...e);ys.error(t)},Kn=function(...e){const t=`FIREBASE FATAL ERROR: ${gl(...e)}`;throw ys.error(t),new Error(t)},mt=function(...e){const t="FIREBASE WARNING: "+gl(...e);ys.warn(t)},kd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Zr="[MIN_NAME]",Cr="[MAX_NAME]",Yi=function(e,t){if(e===t)return 0;if(e===Zr||t===Cr)return-1;if(t===Zr||e===Cr)return 1;{const n=ON(e),r=ON(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},F6=function(e,t){return e===t?0:e<t?-1:1},_l=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Je(t))},W_=function(e){if("object"!=typeof e||null===e)return Je(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Je(t[r]),n+=":",n+=W_(e[t[r]]);return n+="}",n},RN=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function et(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const NN=function(e){D(!kd(e),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},B6=new RegExp("^-?(0*)\\d{1,10}$"),ON=function(e){if(B6.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Cs=function(e){try{e()}catch(t){setTimeout(()=>{throw mt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},vl=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class G6{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class W6{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(t)}}let yl=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const LN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BN="websocket",HN="long_polling";class q_{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qi.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&qi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function jN(e,t,n){let r;if(D("string"==typeof t,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),t===BN)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==HN)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function z6(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return et(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class q6{constructor(){this.counters_={}}incrementCounter(t,n=1){Tn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Jq(this.counters_)}}const K_={},Y_={};function Q_(e){const t=e.toString();return K_[t]||(K_[t]=new q6),K_[t]}class Y6{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jr{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ml(t),this.stats_=Q_(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),jN(n,HN,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Y6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Z_((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&LN.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jr.forceAllow_=!0}static forceDisallow(){Jr.forceDisallow_=!0}static isAvailable(){return!(!Jr.forceAllow_&&(Jr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Je(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tN(n),i=RN(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Je(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Z_{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=SN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Z_.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Xe("frame writing exception"),a.stack&&Xe(a.stack),Xe(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Xe("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Xe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Ld=null;typeof MozWebSocket<"u"?Ld=MozWebSocket:typeof WebSocket<"u"&&(Ld=WebSocket);let Es=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ml(this.connId),this.stats_=Q_(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&LN.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),jN(n,BN,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Ld(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Ld&&!e.forceDisallow_}static previouslyFailed(){return qi.isInMemoryStorage||!0===qi.get("previous_websocket_failure")}markConnectionHealthy(){qi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=hl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Je(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=RN(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),YN=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Jr,Es]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Es&&Es.isAvailable();let i=r&&!Es.previouslyFailed();if(n.webSocketOnly&&(r||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Es];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class nO{constructor(t,n,r,i,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ml("c:"+this.id+":"),this.transportManager_=new YN(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=vl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=_l("t",t),r=_l("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=_l("t",t),r=_l("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=_l("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?G_("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):G_("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rO{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class iO{constructor(t){this.allowedEvents_=t,this.listeners_={},D(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){D(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Vd extends iO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!S_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vd}getInitialEvent(t){return D("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ae{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function ne(){return new ae("")}function G(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Xr(e){return e.pieces_.length-e.pieceNum_}function pe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ae(e.pieces_,t)}function X_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Cl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function aO(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ae(t,0)}function be(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ae)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ae(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function Rt(e,t){const n=G(e),r=G(t);if(null===n)return t;if(n===r)return Rt(pe(e),pe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _5(e,t){const n=Cl(e,0),r=Cl(t,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Yi(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ev(e,t){if(Xr(e)!==Xr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Xr(e)>Xr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class v5{constructor(t,n){this.errorPrefix_=n,this.parts_=Cl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Nd(this.parts_[r]);lO(this)}}function lO(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qi(e))}function Qi(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class tv extends iO{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new tv}getInitialEvent(t){return D("visible"===t,"Unknown event type: "+t),[this.visible_]}}const El=1e3;let Bd,Zi=(()=>{class e extends rO{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=El,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tv.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Vd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Je(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new Bi,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Tn(n,"w")){const i=Hi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=Ad(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=Ad(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Je(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):G_("Unrecognized action received from server: "+Je(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=El),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return v(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};n.realtime_={close:u,sendRequest:function(f){D(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new nO(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{mt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&mt(f),u())}}})()}interrupt(n){Xe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Xe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],T_(this.interruptReasons_)&&(this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>W_(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new ae(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Xe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Xe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+j_.replace(/\./g,"-")]=1,S_()?n["framework.cordova"]=1:sN()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Vd.getInstance().currentlyOnline();return T_(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class q{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new q(t,n)}}class Ud{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new q(Zr,t),i=new q(Zr,n);return 0!==this.compare(r,i)}minPost(){return q.MIN}}class dO extends Ud{static get __EMPTY_NODE(){return Bd}static set __EMPTY_NODE(t){Bd=t}compare(t,n){return Yi(t.name,n.name)}isDefinedOn(t){throw ms("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return q.MIN}maxPost(){return new q(Cr,Bd)}makePost(t,n){return D("string"==typeof t,"KeyIndex indexValue must always be a string."),new q(t,Bd)}toString(){return".key"}}const Yn=new dO;class Hd{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let rv,An=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Ht.EMPTY_NODE,this.right=s??Ht.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ht.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ht.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Ht{constructor(t,n=Ht.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ht(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,An.BLACK,null,null))}remove(t){return new Ht(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,An.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Hd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Hd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Hd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Hd(this.root_,null,this.comparator_,!0,t)}}function S5(e,t){return Yi(e.name,t.name)}function nv(e,t){return Yi(e,t)}Ht.EMPTY_NODE=new class b5{copy(t,n,r,i,o){return this}insert(t,n,r){return new An(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const hO=function(e){return"number"==typeof e?"number:"+NN(e):"string:"+e},fO=function(e){if(e.isLeafNode()){const t=e.val();D("string"==typeof t||"number"==typeof t||"object"==typeof t&&Tn(t,".sv"),"Priority must be a string or number.")}else D(e===rv||e.isEmpty(),"priority of unexpected type.");D(e===rv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pO,gO,mO,ws=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),fO(this.priorityNode_)}static set __childrenNodeConstructor(n){pO=n}static get __childrenNodeConstructor(){return pO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:".priority"===G(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=G(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===Xr(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hO(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?NN(this.value_):this.value_,this.lazyHash_=TN(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return D(o>=0,"Unknown leaf type: "+r),D(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Ee=new class R5 extends Ud{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Yi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(Cr,new ws("[PRIORITY-POST]",mO))}makePost(t,n){const r=gO(t);return new q(n,new ws("[PRIORITY-POST]",r))}toString(){return".priority"}},N5=Math.log(2);class O5{constructor(t){this.count=parseInt(Math.log(t+1)/N5,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const jd=function(e,t,n,r){e.sort(t);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=e[l],h=n?n(d):d,new An(h,d.node,An.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),g=i(f+1,c);return d=e[f],h=n?n(d):d,new An(h,d.node,An.BLACK,p,g)}},a=function(l){let c=null,u=null,d=e.length;const h=function(p,g){const _=d-p,C=d;d-=p;const m=i(_+1,C),A=e[_],N=n?n(A):A;f(new An(N,A.node,g,null,m))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,An.BLACK):(h(_,An.BLACK),h(_,An.RED))}return u}(new O5(e.length));return new Ht(r||t,a)};let iv;const Ds={};class Er{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return D(Ds&&Ee,"ChildrenNode.ts has not been loaded"),iv=iv||new Er({".priority":Ds},{".priority":Ee}),iv}get(t){const n=Hi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ht?n:null}hasIndex(t){return Tn(this.indexSet_,t.toString())}addIndex(t,n){D(t!==Yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(q.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?jd(r,t.getCompare()):Ds;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new Er(u,c)}addToIndexes(t,n){const r=Md(this.indexes_,(i,o)=>{const s=Hi(this.indexSet_,o);if(D(s,"Missing index implementation for "+o),i===Ds){if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(q.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),jd(a,s.getCompare())}return Ds}{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new q(t.name,a))),l.insert(t,t.node)}});return new Er(r,this.indexSet_)}removeFromIndexes(t,n){const r=Md(this.indexes_,i=>{if(i===Ds)return i;{const o=n.get(t.name);return o?i.remove(new q(t.name,o)):i}});return new Er(r,this.indexSet_)}}let wl,H=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fO(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wl||(wl=new e(new Ht(nv),null,Er.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wl}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?wl:r}}getChild(n){const r=G(n);return null===r?this:this.getImmediateChild(r).getChild(pe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new q(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?wl:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=G(n);if(null===i)return r;{D(".priority"!==G(n)||1===Xr(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(pe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Ee,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+hO(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":TN(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new q(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,q.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,q.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Dl?-1:0}withIndex(n){if(n===Yn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Yn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ee),o=r.getIterator(Ee);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Yn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Dl=new class P5 extends H{constructor(){super(new Ht(nv),H.EMPTY_NODE,Er.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return H.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(q,{MIN:{value:new q(Zr,H.EMPTY_NODE)},MAX:{value:new q(Cr,Dl)}}),dO.__EMPTY_NODE=H.EMPTY_NODE,ws.__childrenNodeConstructor=H,function T5(e){rv=e}(Dl),function M5(e){mO=e}(Dl);const x5=!0;function Re(e,t=null){if(null===e)return H.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),D(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new ws(e,Re(t));if(e instanceof Array||!x5){let n=H.EMPTY_NODE;return et(e,(r,i)=>{if(Tn(e,r)&&"."!==r.substring(0,1)){const o=Re(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Re(t))}{const n=[];let r=!1;if(et(e,(s,a)=>{if("."!==s.substring(0,1)){const l=Re(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new q(s,l)))}}),0===n.length)return H.EMPTY_NODE;const o=jd(n,S5,s=>s.name,nv);if(r){const s=jd(n,Ee.getCompare());return new H(o,Re(t),new Er({".priority":s},{".priority":Ee}))}return new H(o,Re(t),Er.Default)}}!function A5(e){gO=e}(Re);class ov extends Ud{constructor(t){super(),this.indexPath_=t,D(!W(t)&&".priority"!==G(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Yi(t.name,n.name):o}makePost(t,n){const r=Re(t),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){const t=H.EMPTY_NODE.updateChild(this.indexPath_,Dl);return new q(Cr,t)}toString(){return Cl(this.indexPath_,0).join("/")}}const sv=new class k5 extends Ud{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?Yi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(t,n){const r=Re(t);return new q(n,r)}toString(){return".value"}};function _O(e){return{type:"value",snapshotNode:e}}function Is(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Il(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class av{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){D(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Il(n,a)):D(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Is(n,r)):s.trackChildChange(bl(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Ee,(i,o)=>{n.hasChild(i)||r.trackChildChange(Il(i,o))}),n.isLeafNode()||n.forEachChild(Ee,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(bl(i,o,s))}else r.trackChildChange(Is(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?H.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Sl{constructor(t){this.indexedFilter_=new av(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Sl.getStartPost_(t),this.endPost_=Sl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new q(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const o=this;return n.forEachChild(Ee,(s,a)=>{o.matches(new q(s,a))||(i=i.updateImmediateChild(s,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class L5{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Sl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new q(n,r))||(r=H.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=H.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=t;D(a.numChildren()===this.limit_,"");const l=new q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,l);if(u&&!r.isEmpty()&&f>=0)return o?.trackChildChange(bl(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Il(n,d));const g=a.updateImmediateChild(n,H.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Is(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?t:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(Il(c.name,c.node)),o.trackChildChange(Is(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,H.EMPTY_NODE)):t}}class lv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zr}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const t=new lv;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vO(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ee?n="$priority":e.index_===sv?n="$value":e.index_===Yn?n="$key":(D(e.index_ instanceof ov,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Je(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Je(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Je(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Je(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Je(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function yO(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ee&&(t.i=e.index_.toString()),t}class Gd extends rO{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ml("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(D(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Gd.getListenId_(t,r),a={};this.listens_[s]=a;const l=vO(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(o,d,!1,r),Hi(this.listens_,s)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(t,n){const r=Gd.getListenId_(t,n);delete this.listens_[r]}get(t){const n=vO(t._queryParams),r=t._path.toString(),i=new Bi;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+fl(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=hl(a.responseText)}catch{mt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&mt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class $5{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Wd(){return{value:null,children:new Map}}function bs(e,t,n){if(W(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=G(t);e.children.has(r)||e.children.set(r,Wd()),bs(e.children.get(r),t=pe(t),n)}}function hv(e,t,n){null!==e.value?n(t,e.value):function G5(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{hv(i,new ae(t.toString()+"/"+r),n)})}class W5{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class K5{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new W5(t);const r=1e4+2e4*Math.random();vl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;et(t,(i,o)=>{o>0&&Tn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),vl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Qn||{});function gv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class zd{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Qn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(W(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ae(t));return new zd(ne(),n,this.revert)}}return D(G(this.path)===t,"operationForChild called for unrelated child."),new zd(pe(this.path),this.affectedTree,this.revert)}}class Tl{constructor(t,n){this.source=t,this.path=n,this.type=Qn.LISTEN_COMPLETE}operationForChild(t){return W(this.path)?new Tl(this.source,ne()):new Tl(this.source,pe(this.path))}}class Ji{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Qn.OVERWRITE}operationForChild(t){return W(this.path)?new Ji(this.source,ne(),this.snap.getImmediateChild(t)):new Ji(this.source,pe(this.path),this.snap)}}class Ss{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Qn.MERGE}operationForChild(t){if(W(this.path)){const n=this.children.subtree(new ae(t));return n.isEmpty()?null:n.value?new Ji(this.source,ne(),n.value):new Ss(this.source,ne(),n)}return D(G(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ss(this.source,pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ei{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;const n=G(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Y5{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Al(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function J5(e,t,n){if(null==t.childName||null==n.childName)throw ms("Should only compare child_ events.");const r=new q(t.childName,t.snapshotNode),i=new q(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,l)),s.forEach(a=>{const l=function Z5(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function qd(e,t){return{eventCache:e,serverCache:t}}function Ml(e,t,n,r){return qd(new ei(t,n,r),e.serverCache)}function EO(e,t,n,r){return qd(e.eventCache,new ei(t,n,r))}function Kd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let mv;class we{constructor(t,n=(()=>(mv||(mv=new Ht(F6)),mv))()){this.value=t,this.children=n}static fromObject(t){let n=new we(null);return et(t,(r,i)=>{n=n.set(new ae(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:ne(),value:this.value};if(W(t))return null;{const r=G(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(pe(t),n);return null!=o?{path:be(new ae(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{const n=G(t),r=this.children.get(n);return null!==r?r.subtree(pe(t)):new we(null)}}set(t,n){if(W(t))return new we(n,this.children);{const r=G(t),o=(this.children.get(r)||new we(null)).set(pe(t),n),s=this.children.insert(r,o);return new we(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=G(t),r=this.children.get(n);if(r){const i=r.remove(pe(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new we(null):new we(this.value,o)}return this}}get(t){if(W(t))return this.value;{const n=G(t),r=this.children.get(n);return r?r.get(pe(t)):null}}setTree(t,n){if(W(t))return n;{const r=G(t),o=(this.children.get(r)||new we(null)).setTree(pe(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new we(this.value,s)}}fold(t){return this.fold_(ne(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(be(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ne(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(W(t))return null;{const o=G(t),s=this.children.get(o);return s?s.findOnPath_(pe(t),be(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ne(),n)}foreachOnPath_(t,n,r){if(W(t))return this;{this.value&&r(n,this.value);const i=G(t),o=this.children.get(i);return o?o.foreachOnPath_(pe(t),be(n,i),r):new we(null)}}foreach(t){this.foreach_(ne(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class Mn{constructor(t){this.writeTree_=t}static empty(){return new Mn(new we(null))}}function Rl(e,t,n){if(W(t))return new Mn(new we(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Rt(i,t);return o=o.updateChild(s,n),new Mn(e.writeTree_.set(i,o))}{const i=new we(n),o=e.writeTree_.setTree(t,i);return new Mn(o)}}}function _v(e,t,n){let r=e;return et(n,(i,o)=>{r=Rl(r,be(t,i),o)}),r}function wO(e,t){if(W(t))return Mn.empty();{const n=e.writeTree_.setTree(t,new we(null));return new Mn(n)}}function vv(e,t){return null!=eo(e,t)}function eo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Rt(n.path,t)):null}function DO(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{t.push(new q(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new q(r,i.value))}),t}function ti(e,t){if(W(t))return e;{const n=eo(e,t);return new Mn(null!=n?new we(n):e.writeTree_.subtree(t))}}function yv(e){return e.writeTree_.isEmpty()}function Ts(e,t){return IO(ne(),e.writeTree_,t)}function IO(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(D(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=IO(be(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(be(e,".priority"),r)),n}}function Yd(e,t){return MO(t,e)}function i9(e,t){if(e.snap)return pn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&pn(be(e.path,n),t))return!0;return!1}function s9(e){return e.visible}function bO(e,t,n){let r=Mn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)pn(n,s)?(a=Rt(n,s),r=Rl(r,a,o.snap)):pn(s,n)&&(a=Rt(s,n),r=Rl(r,ne(),o.snap.getChild(a)));else{if(!o.children)throw ms("WriteRecord should have .snap or .children");if(pn(n,s))a=Rt(n,s),r=_v(r,a,o.children);else if(pn(s,n))if(a=Rt(s,n),W(a))r=_v(r,ne(),o.children);else{const l=Hi(o.children,G(a));if(l){const c=l.getChild(pe(a));r=Rl(r,ne(),c)}}}}}return r}function SO(e,t,n,r,i){if(r||i){const o=ti(e.visibleWrites,t);return!i&&yv(o)?n:i||null!=n||vv(o,ne())?Ts(bO(e.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(pn(c.path,t)||pn(t,c.path))},t),n||H.EMPTY_NODE):null}{const o=eo(e.visibleWrites,t);if(null!=o)return o;{const s=ti(e.visibleWrites,t);return yv(s)?n:null!=n||vv(s,ne())?Ts(s,n||H.EMPTY_NODE):null}}}function Qd(e,t,n,r){return SO(e.writeTree,e.treePath,t,n,r)}function Cv(e,t){return function a9(e,t,n){let r=H.EMPTY_NODE;const i=eo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ee,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ti(e.visibleWrites,t);return n.forEachChild(Ee,(s,a)=>{const l=Ts(ti(o,new ae(s)),a);r=r.updateImmediateChild(s,l)}),DO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return DO(ti(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function TO(e,t,n,r){return function l9(e,t,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=be(t,n);if(vv(e.visibleWrites,o))return null;{const s=ti(e.visibleWrites,o);return yv(s)?i.getChild(n):Ts(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Zd(e,t){return function u9(e,t){return eo(e.visibleWrites,t)}(e.writeTree,be(e.treePath,t))}function Ev(e,t,n){return function c9(e,t,n,r){const i=be(t,n),o=eo(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ts(ti(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function AO(e,t){return MO(be(e.treePath,t),e.writeTree)}function MO(e,t){return{treePath:e,writeTree:t}}class p9{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,bl(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,Il(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Is(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw ms("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,bl(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const RO=new class g9{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class wv{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ev(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xi(this.viewCache_),o=function f9(e,t,n,r,i,o){return function d9(e,t,n,r,i,o,s){let a;const l=ti(e.visibleWrites,t),c=eo(l,ne());if(null!=c)a=c;else{if(null==n)return[];a=Ts(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function NO(e,t,n,r,i,o){const s=t.eventCache;if(null!=Zd(r,n))return t;{let a,l;if(W(n))if(D(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Xi(t),d=Cv(r,c instanceof H?c:H.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const c=Qd(r,Xi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const c=G(n);if(".priority"===c){D(1===Xr(n),"Can't have a priority with additional path components");const u=s.getNode();l=t.serverCache.getNode();const d=TO(r,n,u,l);a=null!=d?e.filter.updatePriority(u,d):s.getNode()}else{const u=pe(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const h=TO(r,n,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(c).updateChild(u,h):s.getNode().getImmediateChild(c)}else d=Ev(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return Ml(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function Jd(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(W(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=G(n);if(!l.isCompleteForPath(n)&&Xr(n)>1)return t;const p=pe(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),_):u.updateChild(l.getNode(),f,_,p,RO,null)}const d=EO(t,c,l.isFullyInitialized()||W(n),u.filtersNodes());return NO(e,d,n,i,new wv(i,d,o),a)}function Dv(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new wv(i,t,o);if(W(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ml(t,c,!0,e.filter.filtersNodes());else{const d=G(n);if(".priority"===d)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ml(t,c,a.isFullyInitialized(),a.isFiltered());else{const h=pe(n),f=a.getNode().getImmediateChild(d);let p;if(W(h))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===X_(h)&&g.getChild(aO(h)).isEmpty()?g:g.updateChild(h,r):H.EMPTY_NODE}l=f.equals(p)?t:Ml(t,e.filter.updateChild(a.getNode(),d,p,h,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function OO(e,t){return e.eventCache.isCompleteForChild(t)}function PO(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Iv(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=W(n)?r:new we(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=PO(0,t.serverCache.getNode().getImmediateChild(d),h);l=Jd(e,l,new ae(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const g=PO(0,t.serverCache.getNode().getImmediateChild(d),h);l=Jd(e,l,new ae(d),g,i,o,s,a)}}),l}class I9{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new av(r.getIndex()),o=function V5(e){return e.loadsAllData()?new av(e.getIndex()):e.hasLimit()?new L5(e):new Sl(e)}(r);this.processor_=function m9(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(H.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(H.EMPTY_NODE,a.getNode(),null),u=new ei(l,s.isFullyInitialized(),i.filtersNodes()),d=new ei(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=qd(d,u),this.eventGenerator_=new Y5(this.query_)}get query(){return this.query_}}function T9(e,t){const n=Xi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(G(t)).isEmpty())?n.getChild(t):null}function xO(e){return 0===e.eventRegistrations_.length}function kO(e,t,n){const r=[];if(n){D(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function FO(e,t,n,r){t.type===Qn.MERGE&&null!==t.source.queryId&&(D(Xi(e.viewCache_),"We should always have a full cache before handling merges"),D(Kd(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function v9(e,t,n,r,i){const o=new p9;let s,a;if(n.type===Qn.OVERWRITE){const c=n;c.source.fromUser?s=Dv(e,t,c.path,c.snap,r,i,o):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!W(c.path),s=Jd(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===Qn.MERGE){const c=n;c.source.fromUser?s=function C9(e,t,n,r,i,o,s){let a=t;return r.foreach((l,c)=>{const u=be(n,l);OO(t,G(u))&&(a=Dv(e,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=be(n,l);OO(t,G(u))||(a=Dv(e,a,u,c,i,o,s))}),a}(e,t,c.path,c.children,r,i,o):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Iv(e,t,c.path,c.children,r,i,a,o))}else if(n.type===Qn.ACK_USER_WRITE){const c=n;s=c.revert?function D9(e,t,n,r,i,o){let s;if(null!=Zd(r,n))return t;{const a=new wv(r,t,i),l=t.eventCache.getNode();let c;if(W(n)||".priority"===G(n)){let u;if(t.serverCache.isFullyInitialized())u=Qd(r,Xi(t));else{const d=t.serverCache.getNode();D(d instanceof H,"serverChildren would be complete if leaf node"),u=Cv(r,d)}c=e.filter.updateFullNode(l,u,o)}else{const u=G(n);let d=Ev(r,u,t.serverCache);null==d&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?e.filter.updateChild(l,u,d,pe(n),a,o):t.eventCache.getNode().hasChild(u)?e.filter.updateChild(l,u,H.EMPTY_NODE,pe(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Qd(r,Xi(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Zd(r,ne()),Ml(t,c,s,e.filter.filtersNodes())}}(e,t,c.path,r,i,o):function E9(e,t,n,r,i,o,s){if(null!=Zd(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(W(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Jd(e,t,n,l.getNode().getChild(n),i,o,a,s);if(W(n)){let c=new we(null);return l.getNode().forEachChild(Yn,(u,d)=>{c=c.set(new ae(u),d)}),Iv(e,t,n,c,i,o,a,s)}return t}{let c=new we(null);return r.foreach((u,d)=>{const h=be(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Iv(e,t,n,c,i,o,a,s)}}(e,t,c.path,c.affectedTree,r,i,o)}else{if(n.type!==Qn.LISTEN_COMPLETE)throw ms("Unknown operation type: "+n.type);s=function w9(e,t,n,r,i){const o=t.serverCache;return NO(e,EO(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered()),n,r,RO,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function y9(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Kd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_O(Kd(t)))}}(t,s,l),{viewCache:s,changes:l}}(e.processor_,i,t,n,r);return function _9(e,t){D(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),D(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),D(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,LO(e,o.changes,o.viewCache.eventCache.getNode(),null)}function LO(e,t,n,r){return function Q5(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function F5(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),Al(e,i,"child_removed",t,r,n),Al(e,i,"child_added",t,r,n),Al(e,i,"child_moved",o,r,n),Al(e,i,"child_changed",t,r,n),Al(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Xd,th;class VO{constructor(){this.views=new Map}}function bv(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return D(null!=o,"SyncTree gave us an op for an invalid query."),FO(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(FO(s,t,n,r));return o}}function P9(e,t,n,r,i,o){const s=function UO(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=Qd(n,i?r:null),l=!1;a?l=!0:r instanceof H?(a=Cv(n,r),l=!1):(a=H.EMPTY_NODE,l=!1);const c=qd(new ei(a,l,!1),new ei(r,i,!1));return new I9(t,c)}return s}(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function A9(e,t){e.eventRegistrations_.push(t)}(s,n),function M9(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(o,s)=>{r.push(Is(o,s))}),n.isFullyInitialized()&&r.push(_O(n.getNode())),LO(e,r,n.getNode(),t)}(s,n)}function BO(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ni(e,t){let n=null;for(const r of e.views.values())n=n||T9(r,t);return n}function HO(e,t){return t._queryParams.loadsAllData()?eh(e):e.views.get(t._queryIdentifier)}function jO(e,t){return null!=HO(e,t)}function ri(e){return null!=eh(e)}function eh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let L9=1;class $O{constructor(t){this.listenProvider_=t,this.syncPointTree_=new we(null),this.pendingWriteTree_=function h9(){return{visibleWrites:Mn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sv(e,t,n,r,i){return function e9(e,t,n,r,i){D(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Rl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?As(e,new Ji({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ii(e,t,n=!1){const r=function n9(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function r9(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);D(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&i9(a,r.path)?i=!1:pn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function o9(e){e.visibleWrites=bO(e.allWrites,s9,ne()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=wO(e.visibleWrites,r.path):et(r.children,l=>{e.visibleWrites=wO(e.visibleWrites,be(r.path,l))}),!0))}(e.pendingWriteTree_,t)){let o=new we(null);return null!=r.snap?o=o.set(ne(),!0):et(r.children,s=>{o=o.set(new ae(s),!0)}),As(e,new zd(r.path,o,n))}return[]}function Nl(e,t,n){return As(e,new Ji({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function nh(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||jO(s,t))){const l=function x9(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=ri(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(kO(c,n,r)),xO(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=e.views.get(i);l&&(s=s.concat(kO(l,n,r)),xO(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ri(e)&&o.push(new(function N9(){return D(Xd,"Reference.ts has not been loaded"),Xd}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function O9(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=-1!==c.findIndex(h=>h._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(o,(h,f)=>ri(f));if(u&&!d){const h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function G9(e){return e.fold((t,n,r)=>{if(n&&ri(n))return[eh(n)];{let i=[];return n&&(i=BO(n)),et(r,(o,s)=>{i=i.concat(s)}),i}})}(h);for(let p=0;p<f.length;++p){const g=f[p],_=g.query,C=qO(e,g);e.listenProvider_.startListening(Pl(_),Ol(e,_),C.hashFn,C.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Pl(t),null):c.forEach(h=>{const f=e.queryToTagMap.get(ih(h));e.listenProvider_.stopListening(Pl(h),f)}))}!function W9(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=ih(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,c)}return a}function Tv(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Rt(h,i);o=o||ni(f,p),s=s||ri(f)});let l,a=e.syncPointTree_.get(i);a?(s=s||ri(a),o=o||ni(a,ne())):(a=new VO,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=H.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=ni(p,ne());g&&(o=o.updateImmediateChild(f,g))}));const c=jO(a,t);if(!c&&!t._queryParams.loadsAllData()){const h=ih(t);D(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function z9(){return L9++}();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let d=P9(a,t,n,Yd(e.pendingWriteTree_,i),o,l);if(!c&&!s&&!r){const h=HO(a,t);d=d.concat(function q9(e,t,n){const r=t._path,i=Ol(e,t),o=qO(e,n),s=e.listenProvider_.startListening(Pl(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)D(!ri(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!W(c)&&u&&ri(u))return[eh(u).query];{let h=[];return u&&(h=h.concat(BO(u).map(f=>f.query))),et(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];e.listenProvider_.stopListening(Pl(u),Ol(e,u))}}return s}(e,t,h))}return d}function rh(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const c=ni(a,Rt(s,t));if(c)return c});return SO(i,t,o,n,!0)}function As(e,t){return WO(t,e.syncPointTree_,null,Yd(e.pendingWriteTree_,ne()))}function WO(e,t,n,r){if(W(e.path))return zO(e,t,n,r);{const i=t.get(ne());null==n&&null!=i&&(n=ni(i,ne()));let o=[];const s=G(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=AO(r,s);o=o.concat(WO(a,l,c,u))}return i&&(o=o.concat(bv(i,e,r,n))),o}}function zO(e,t,n,r){const i=t.get(ne());null==n&&null!=i&&(n=ni(i,ne()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=AO(r,s),u=e.operationForChild(s);u&&(o=o.concat(zO(u,a,l,c)))}),i&&(o=o.concat(bv(i,e,r,n))),o}function qO(e,t){const n=t.query,r=Ol(e,n);return{hashFn:()=>(function b9(e){return e.viewCache_.serverCache.getNode()}(t)||H.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function H9(e,t,n){const r=Av(e,n);if(r){const i=Mv(r),o=i.path,s=i.queryId,a=Rt(o,t);return Rv(e,o,new Tl(gv(s),a))}return[]}(e,n._path,r):function B9(e,t){return As(e,new Tl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function U6(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return nh(e,n,null,o)}}}}function Ol(e,t){const n=ih(t);return e.queryToTagMap.get(n)}function ih(e){return e._path.toString()+"$"+e._queryIdentifier}function Av(e,t){return e.tagToQueryMap.get(t)}function Mv(e){const t=e.indexOf("$");return D(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ae(e.substr(0,t))}}function Rv(e,t,n){const r=e.syncPointTree_.get(t);return D(r,"Missing sync point for query tag that we're tracking"),bv(r,n,Yd(e.pendingWriteTree_,t),null)}function Pl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function F9(){return D(th,"Reference.ts has not been loaded"),th}())(e._repo,e._path):e}class Nv{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Nv(n)}node(){return this.node_}}class Ov{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=be(this.path_,t);return new Ov(this.syncTree_,n)}node(){return rh(this.syncTree_,this.path_)}}const K9=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},KO=function(e,t,n){return e&&"object"==typeof e?(D(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Y9(e[".sv"],t,n):"object"==typeof e[".sv"]?Q9(e[".sv"],t):void D(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Y9=function(e,t,n){if("timestamp"===e)return n.timestamp;D(!1,"Unexpected server value: "+e)},Q9=function(e,t,n){e.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=t.node();if(D(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},YO=function(e,t,n,r){return xv(t,new Ov(n,e),r)},Pv=function(e,t,n){return xv(e,new Nv(t),n)};function xv(e,t,n){const r=e.getPriority().val(),i=KO(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=KO(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ws(a,Re(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ws(i))),s.forEachChild(Ee,(a,l)=>{const c=xv(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class kv{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function oh(e,t){let n=t instanceof ae?t:new ae(t),r=e,i=G(n);for(;null!==i;){const o=Hi(r.node.children,i)||{children:{},childCount:0};r=new kv(i,r,o),n=pe(n),i=G(n)}return r}function to(e){return e.node.value}function Fv(e,t){e.node.value=t,Lv(e)}function QO(e){return e.node.childCount>0}function sh(e,t){et(e.node.children,(n,r)=>{t(new kv(n,e,r))})}function ZO(e,t,n,r){n&&!r&&t(e),sh(e,i=>{ZO(i,t,!0,r)}),n&&r&&t(e)}function xl(e){return new ae(null===e.parent?e.name:xl(e.parent)+"/"+e.name)}function Lv(e){null!==e.parent&&function X9(e,t,n){const r=function Z9(e){return void 0===to(e)&&!QO(e)}(n),i=Tn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Lv(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Lv(e))}(e.parent,e.name,e)}const e7=/[\[\].#$\/\u0000-\u001F\u007F]/,t7=/[\[\].#$\u0000-\u001F\u007F]/,Vv=10485760,ah=function(e){return"string"==typeof e&&0!==e.length&&!e7.test(e)},JO=function(e){return"string"==typeof e&&0!==e.length&&!t7.test(e)},kl=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!kd(e)||e&&"object"==typeof e&&Tn(e,".sv")},Zn=function(e,t,n,r){r&&void 0===t||Fl(ji(e,"value"),t,n)},Fl=function(e,t,n){const r=n instanceof ae?new v5(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Qi(r));if("function"==typeof t)throw new Error(e+"contains a function "+Qi(r)+" with contents = "+t.toString());if(kd(t))throw new Error(e+"contains "+t.toString()+" "+Qi(r));if("string"==typeof t&&t.length>Vv/3&&Nd(t)>Vv)throw new Error(e+"contains a string greater than "+Vv+" utf8 bytes "+Qi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(et(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!ah(s)))throw new Error(e+" contains an invalid key ("+s+") "+Qi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function y5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Nd(t),lO(e)})(r,s),Fl(e,a,r),function C5(e){const t=e.parts_.pop();e.byteLength_-=Nd(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+Qi(r)+" in addition to actual children.")}},Bv=function(e,t,n,r){if(!(r&&void 0===n||JO(n)))throw new Error(ji(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},i7=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bv(e,t,n,r)},Jn=function(e,t){if(".info"===G(t))throw new Error(e+" failed = Can't modify data under /.info/")};class o7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!ev(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function tP(e,t,n){lh(e,n),nP(e,r=>ev(r,t))}function Jt(e,t,n){lh(e,n),nP(e,r=>pn(r,t)||pn(t,r))}function nP(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(s7(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function s7(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ki&&Xe("event: "+n.toString()),Cs(r)}}}const a7=25;class l7{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wd(),this.transactionQueueTree_=new kv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iP(e){const n=e.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Vl(e){return K9({timestamp:iP(e)})}function oP(e,t,n,r,i){e.dataUpdateCount++;const o=new ae(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=Md(n,c=>Re(c));s=function j9(e,t,n,r){const i=Av(e,r);if(i){const o=Mv(i),s=o.path,a=o.queryId,l=Rt(s,t),c=we.fromObject(n);return Rv(e,s,new Ss(gv(a),l,c))}return[]}(e.serverSyncTree_,o,l,i)}else{const l=Re(n);s=function GO(e,t,n,r){const i=Av(e,r);if(null!=i){const o=Mv(i),s=o.path,a=o.queryId,l=Rt(s,t);return Rv(e,s,new Ji(gv(a),l,n))}return[]}(e.serverSyncTree_,o,l,i)}else if(r){const l=Md(n,c=>Re(c));s=function U9(e,t,n){const r=we.fromObject(n);return As(e,new Ss({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{const l=Re(n);s=Nl(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Rs(e,o)),Jt(e.eventQueue_,a,s)}function sP(e,t){Hv(e,"connected",t),!1===t&&function f7(e){Ms(e,"onDisconnectEvents");const t=Vl(e),n=Wd();hv(e.onDisconnect_,ne(),(i,o)=>{const s=YO(i,o,e.serverSyncTree_,t);bs(n,i,s)});let r=[];hv(n,ne(),(i,o)=>{r=r.concat(Nl(e.serverSyncTree_,i,o));const s=Wv(e,i);Rs(e,s)}),e.onDisconnect_=Wd(),Jt(e.eventQueue_,ne(),r)}(e)}function Hv(e,t,n){const r=new ae("/.info/"+t),i=Re(n);e.infoData_.updateSnapshot(r,i);const o=Nl(e.infoSyncTree_,r,i);Jt(e.eventQueue_,r,o)}function ch(e){return e.nextWriteId_++}function $v(e,t,n){let r;r=".info"===G(t._path)?nh(e.infoSyncTree_,t,n):nh(e.serverSyncTree_,t,n),tP(e.eventQueue_,t._path,r)}function Ms(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Xe(n,...t)}function oi(e,t,n,r){t&&Cs(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}function Gv(e,t,n){return rh(e.serverSyncTree_,t,n)||H.EMPTY_NODE}function uh(e,t=e.transactionQueueTree_){if(t||dh(e,t),to(t)){const n=uP(e,t);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function C7(e,t,n){const r=n.map(c=>c.currentWriteId),i=Gv(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];D(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Rt(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Ms(e,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ii(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();dh(e,oh(e.transactionQueueTree_,t)),uh(e,e.transactionQueueTree_),Jt(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)Cs(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{mt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Rs(e,t)}},s)}(e,xl(t),n)}else QO(t)&&sh(t,n=>{uh(e,n)})}function Rs(e,t){const n=cP(e,t),r=xl(n);return function E7(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Rt(n,l.path);let d,u=!1;if(D(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(ii(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=a7)u=!0,d="maxretry",i=i.concat(ii(e.serverSyncTree_,l.currentWriteId,!0));else{const h=Gv(e,l.path,s);l.currentInputSnapshot=h;const f=t[a].update(h.val());if(void 0!==f){Fl("transaction failed: Data returned ",f,l.path);let p=Re(f);"object"==typeof f&&null!=f&&Tn(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,C=Vl(e),m=Pv(p,h,C);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=ch(e),s.splice(s.indexOf(_),1),i=i.concat(Sv(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(ii(e.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(ii(e.serverSyncTree_,l.currentWriteId,!0))}Jt(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}dh(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Cs(r[a]);uh(e,e.transactionQueueTree_)}(e,uP(e,n),r),r}function cP(e,t){let n,r=e.transactionQueueTree_;for(n=G(t);null!==n&&void 0===to(r);)r=oh(r,n),n=G(t=pe(t));return r}function uP(e,t){const n=[];return dP(e,t,n),n.sort((r,i)=>r.order-i.order),n}function dP(e,t,n){const r=to(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);sh(t,i=>{dP(e,i,n)})}function dh(e,t){const n=to(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Fv(t,n.length>0?n:void 0)}sh(t,r=>{dh(e,r)})}function Wv(e,t){const n=xl(cP(e,t)),r=oh(e.transactionQueueTree_,t);return function J9(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{zv(e,i)}),zv(e,r),ZO(r,i=>{zv(e,i)}),n}function zv(e,t){const n=to(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(D(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(D(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ii(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Fv(t,void 0):n.length=o+1,Jt(e.eventQueue_,xl(t),i);for(let s=0;s<r.length;s++)Cs(r[s])}}const qv=function(e,t){const n=I7(e),r=n.namespace;return"firebase.com"===n.domain&&Kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new q_(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new ae(n.pathString)}},I7=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function w7(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(u,d)));const h=function D7(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},hP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",b7=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=hP.charAt(n%64),n=Math.floor(n/64);D(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=hP.charAt(t[i]);return D(20===s.length,"nextPushId: Length should be 20."),s}}();class fP{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class pP{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Kv{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Xt{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:X_(this._path)}get ref(){return new Rn(this._repo,this._path)}get _queryIdentifier(){const t=yO(this._queryParams),n=W_(t);return"{}"===n?"default":n}get _queryObject(){return yO(this._queryParams)}isEqual(t){if(!((t=Zt(t))instanceof Xt))return!1;const n=this._repo===t._repo,r=ev(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function m5(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Rn extends Xt{constructor(t,n){super(t,n,new lv,!1)}get parent(){const t=aO(this._path);return null===t?null:new Rn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class no{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ae(t),r=li(this.ref,t);return new no(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new no(i,li(this.ref,r),Ee)))}hasChild(t){const n=new ae(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ai(e,t){return(e=Zt(e))._checkNotDeleted("ref"),void 0!==t?li(e._root,t):e._root}function li(e,t){return null===G((e=Zt(e))._path)?i7("child","path",t,!1):Bv("child","path",t,!1),new Rn(e._repo,be(e._path,t))}function gP(e,t){e=Zt(e),Jn("push",e._path),Zn("push",t,e._path,!0);const n=iP(e._repo),r=b7(n),i=li(e,r),o=li(e,r);let s;return s=null!=t?function mP(e,t){e=Zt(e),Jn("set",e._path),Zn("set",t,e._path,!1);const n=new Bi;return function jv(e,t,n,r,i){Ms(e,"set",{path:t.toString(),value:n,priority:r});const o=Vl(e),s=Re(n,r),a=rh(e.serverSyncTree_,t),l=Pv(s,a,o),c=ch(e),u=Sv(e.serverSyncTree_,t,l,c,!0);lh(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||mt("set at "+t+" failed: "+h);const g=ii(e.serverSyncTree_,c,!p);Jt(e.eventQueue_,t,g),oi(0,i,h,f)});const d=Wv(e,t);Rs(e,d),Jt(e.eventQueue_,d,[])}(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function _P(e,t){!function(e,t,n,r){if(r&&void 0===t)return;const i=ji(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];et(t,(s,a)=>{const l=new ae(s);if(Fl(i,a,be(n,l)),".priority"===X_(l)&&!kl(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=Cl(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!ah(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_5);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&pn(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)}("update",t,e._path,!1);const n=new Bi;return function h7(e,t,n,r){Ms(e,"update",{path:t.toString(),value:n});let i=!0;const o=Vl(e),s={};if(et(n,(a,l)=>{i=!1,s[a]=YO(be(t,a),Re(l),e.serverSyncTree_,o)}),i)Xe("update() called with empty data.  Don't do anything."),oi(0,r,"ok",void 0);else{const a=ch(e),l=function V9(e,t,n,r){!function t9(e,t,n,r){D(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=_v(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=we.fromObject(n);return As(e,new Ss({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,a);lh(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{const d="ok"===c;d||mt("update at "+t+" failed: "+c);const h=ii(e.serverSyncTree_,a,!d),f=h.length>0?Rs(e,t):t;Jt(e.eventQueue_,f,h),oi(0,r,c,u)}),et(n,c=>{const u=Wv(e,be(t,c));Rs(e,u)}),Jt(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class Ul{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new fP("value",this,new no(t.snapshotNode,new Rn(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new pP(this,t,n):null}matches(t){return t instanceof Ul&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ph{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new pP(this,t,n):null}createEvent(t,n){D(null!=t.childName,"Child events should have a childName.");const r=li(new Rn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new fP(t.type,this,new no(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ph&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Yv(e,t,n,r){return function Bl(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{$v(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new Kv(n,o||void 0),a="value"===t?new Ul(s):new ph(t,s);return function _7(e,t,n){let r;r=".info"===G(t._path)?Tv(e.infoSyncTree_,t,n):Tv(e.serverSyncTree_,t,n),tP(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>$v(e._repo,e,a)}(e,"value",t,n,r)}(function R9(e){D(!Xd,"__referenceConstructor has already been defined"),Xd=e})(Rn),function k9(e){D(!th,"__referenceConstructor has already been defined"),th=e}(Rn);const Qv={};function EP(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=qv(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=qv(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const u=i&&l?new yl(yl.OWNER):new W6(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ah(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),JO(e)}(n))throw new Error(ji(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),W(s.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function U7(e,t,n,r){let i=Qv[t.name];i||(i={},Qv[t.name]=i);let o=i[e.toURLString()];return o&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new l7(e,false,n,r),i[e.toURLString()]=o,o}(a,e,u,new G6(e.name,n));return new H7(d,e)}class H7{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function c7(e,t,n){if(e.stats_=Q_(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Gd(e.repoInfo_,(r,i,o,s)=>{oP(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sP(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Zi(e.repoInfo_,t,(r,i,o,s)=>{oP(e,r,i,o,s)},r=>{sP(e,r)},r=>{!function u7(e,t){et(t,(n,r)=>{Hv(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function K6(e,t){const n=e.toString();return Y_[n]||(Y_[n]=t()),Y_[n]}(e.repoInfo_,()=>new K5(e.stats_,e.server_)),e.infoData_=new $5,e.infoSyncTree_=new $O({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Nl(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Hv(e,"connected",!1),e.serverSyncTree_=new $O({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Jt(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rn(this._repo,ne())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function V7(e,t){const n=Qv[t];(!n||n[e.key]!==e)&&Kn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function lP(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Kn("Cannot call "+t+" on a deleted database.")}}class z7{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Zi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Zi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function G7(e){(function IN(e){j_=e})(vs),_s(new $i("database",(t,{instanceIdentifier:n})=>EP(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Qr(wN,"1.0.1",e),Qr(wN,"1.0.1","esm2017")}();const K7_firebaseConfig={apiKey:"AIzaSyAYNFnl5W35RjhGchxmqvrRwrSEUXXSxgo",authDomain:"test-c49a4.firebaseapp.com",databaseURL:"https://test-c49a4-default-rtdb.firebaseio.com",projectId:"test-c49a4",storageBucket:"test-c49a4.appspot.com",messagingSenderId:"664218735931",appId:"1:664218735931:web:8e73bd168eacded8c7931e"};let Ns=(()=>{class e{constructor(){this.sessionId=null,this.app=gN(K7_firebaseConfig),this.db=function j7(e=mN(),t){const n=xd(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=rN("database");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})();r&&function $7(e,t,n,r={}){(e=Zt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Kn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new yl(yl.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function o8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[bd(JSON.stringify({alg:"none",type:"JWT"})),bd(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new yl(s)}!function L7(e,t,n,r){e.repoInfo_=new q_(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}(this.app)}saveDatatoDB(n,r){var i=this;return v(function*(){const o=yield gP(li(ai(i.db),r)).key;let s={...n,id:o};return _P(ai(i.db,`${r}/${o}`),s).then(a=>(console.log(a),{response:a,key:o}))})()}updateDatatoDB(n,r){_P(ai(this.db,`${r}`),n).then(i=>(console.log(i),i))}readDataFromDB(n,r=!1){return new Ae(r?o=>{Yv(ai(this.db,n),s=>{const a=s.val();o.next(a)},{onlyOnce:!0})}:o=>{Yv(ai(this.db,n),s=>{const a=s.val();o.next(a)})})}runDBTransaction(n,r){!function q7(e,t,n){var r;if(e=Zt(e),Jn("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new Bi,a=Yv(e,()=>{});return function y7(e,t,n,r,i,o){Ms(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:SN(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Gv(e,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Fl("transaction failed: Data returned ",l,s.path),s.status=0;const c=oh(e.transactionQueueTree_,t),u=to(c)||[];let d;u.push(s),Fv(c,u),"object"==typeof l&&null!==l&&Tn(l,".priority")?(d=Hi(l,".priority"),D(kl(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(rh(e.serverSyncTree_,t)||H.EMPTY_NODE).getPriority().val();const h=Vl(e),f=Re(l,d),p=Pv(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=ch(e);const g=Sv(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);Jt(e.eventQueue_,t,g),uh(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(l,c,u)=>{let d=null;l?o.reject(l):(d=new no(u,new Rn(e._repo,e._path),Ee),o.resolve(new z7(c,d)))},a,i),o.promise}(ai(this.db,n),i=>i&&r(i))}firebaseKeyGen(){return gP(li(ai(this.db),"users/")).key}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zv=(()=>{class e{constructor(n){this.dbService=n,this.key=null,this.sessionId=null}GetKey(){return this.key}getSessionId(){return this.sessionId||this.dbService.readDataFromDB("sessions").subscribe(n=>{let i=Object.values(n).find(o=>o.sessionKey===this.GetKey());return this.sessionId=i.id,this.sessionId}),this.sessionId}GetNewSessionKey(){return this.key=this.generateRandomString(6),localStorage.setItem("sessionKey",this.key),this.key}GetExistingStorageKey(){return this.key=localStorage.getItem("sessionKey"),this.key}generateRandomString(n){let i="";for(let o=0;o<n;o++)i+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(52*Math.random())];return i.replace(/(.{3})(.{3})/g,"$1-$2")}static#e=this.\u0275fac=function(r){return new(r||e)(S(Ns))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Y7{constructor(t,n){this.open=t,this.close=n||t}isManual(){return"manual"===this.open||"manual"===this.close}}const Q7={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const ze=typeof window<"u"&&window||{},qe=ze.document;var IP=function(e){return e.isBs4="bs4",e.isBs5="bs5",e}(IP||{});let wr;function bP(){const e=ze.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("pl-1"),ze.document.head.appendChild(e);const t=ze.getComputedStyle(e).paddingLeft;return t&&parseFloat(t)?(ze.document.head.removeChild(e),"bs4"):(ze.document.head.removeChild(e),"bs5")}function Hl(){return{isBs4:(wr||(wr=bP()),"bs4"===wr),isBs5:(wr||(wr=bP()),"bs5"===wr)}}class rK{static reflow(t){}static getStyles(t){let n=t.ownerDocument.defaultView;return(!n||!n.opener)&&(n=ze),n.getComputedStyle(t)}static stackOverflowConfig(){const t=function nK(){const e=Hl(),t=Object.keys(e).find(n=>e[n]);return IP[t]}();return{crossorigin:"anonymous",integrity:"bs5"===t?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===t?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;let Jv,oK=(()=>{class e{constructor(){this._focusTrapStack=[]}register(n){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==n);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(n),n._enable()}deregister(n){n._disable();const r=this._focusTrapStack,i=r.indexOf(n);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();try{Jv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Jv=!1}let TP=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?y0(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Jv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||e)(S(Lr))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AP=(()=>{class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function aK(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const r=function sK(e){try{return e.frameElement}catch{return null}}(function gK(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(n));if(r&&(-1===RP(r)||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),o=RP(n);return n.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function fK(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(n))&&("audio"===i?!!n.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,r){return function pK(e){return!function cK(e){return function dK(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function lK(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function uK(e){return function hK(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||MP(e))}(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static#e=this.\u0275fac=function(r){return new(r||e)(S(TP))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MP(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function RP(e){if(!MP(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function NP(e){return null!=e&&"false"!=`${e}`}class mK{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,r,i,o=!1){this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<n.length;r++)n[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]):n[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]);return"start"==t?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(),!!n}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ki(1)).subscribe(t)}}let _K=(()=>{class e{constructor(n,r,i){this._checker=n,this._ngZone=r,this._document=i}create(n,r=!1){return new mK(n,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||e)(S(AP),S(re),S(Tt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vK=(()=>{class e{get enabled(){return this.focusTrap.enabled}set enabled(n){this.focusTrap.enabled=NP(n)}get autoCapture(){return this._autoCapture}set autoCapture(n){this._autoCapture=NP(n)}constructor(n,r,i){this._elementRef=n,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(n){const r=n.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(r){return new(r||e)(y(Fe),y(_K),y(Tt))};static#t=this.\u0275dir=O({type:e,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Wt]})}return e})(),OP=(()=>{class e{static forRoot(){return{ngModule:e,providers:[oK,TP,AP]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({imports:[_0]})}return e})();const yK=["addListener","removeListener"],CK=["addEventListener","removeEventListener"],EK=["on","off"];function gh(e,t,n,r){if(Q(n)&&(r=n,n=void 0),r)return gh(e,t,n).pipe(Mm(r));const[i,o]=function IK(e){return Q(e.addEventListener)&&Q(e.removeEventListener)}(e)?CK.map(s=>a=>e[s](t,a,n)):function wK(e){return Q(e.addListener)&&Q(e.removeListener)}(e)?yK.map(PP(e,t)):function DK(e){return Q(e.on)&&Q(e.off)}(e)?EK.map(PP(e,t)):[];if(!i&&ef(e))return Ke(s=>gh(s,t,n))(Nt(e));if(!i)throw new TypeError("Invalid event target");return new Ae(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function PP(e,t){return n=>r=>e[n](t,r)}class bK extends vt{constructor(t,n){super()}schedule(t,n=0){return this}}const mh={setInterval(e,t,...n){const{delegate:r}=mh;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=mh;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class SK extends bK{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return mh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&mh.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lo(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const jl={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=jl;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t(o=>{n=void 0,e(o)});return new vt(()=>n?.(i))},requestAnimationFrame(...e){const{delegate:t}=jl;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=jl;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},xP={now:()=>(xP.delegate||Date).now(),delegate:void 0};class $l{constructor(t,n=$l.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}$l.now=xP.now;class AK extends $l{constructor(t,n=$l.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const RK=new class MK extends AK{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class TK extends SK{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=jl.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:o}=t;null!=n&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(jl.cancelAnimationFrame(n),t._scheduled=void 0)}});var kP=function(e){return e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",e}(kP||{}),Xv=function(e){return e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",e}(Xv||{});function ro(e,t){if(1!==e.nodeType)return[];const r=e.ownerDocument.defaultView?.getComputedStyle(e,null);return t?r&&r[t]:r}function ey(e){if(!e)return document.documentElement;let r,n=e?.offsetParent;for(;null===n&&e.nextElementSibling&&r!==e.nextElementSibling;)r=e.nextElementSibling,n=r.offsetParent;const i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?n&&-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===ro(n,"position")?ey(n):n:r?r.ownerDocument.documentElement:document.documentElement}function ty(e){return null!==e.parentNode?ty(e.parentNode):e}function _h(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;const n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);const s=o.commonAncestorContainer;if(e!==s&&t!==s||r.contains(i))return function NK(e){const{nodeName:t}=e;return"BODY"!==t&&("HTML"===t||ey(e.firstElementChild)===e)}(s)?s:ey(s);const a=ty(e);return a.host?_h(a.host,t):_h(e,ty(t).host)}function FP(e){if(!e||!e.parentElement)return document.documentElement;let t=e.parentElement;for(;t?.parentElement&&"none"===ro(t,"transform");)t=t.parentElement;return t||document.documentElement}function LP(e,t){const n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e[`border${n}Width`])+parseFloat(e[`border${r}Width`])}function VP(e,t,n,r){return Math.max(t[`offset${e}`],t[`scroll${e}`],n[`client${e}`],n[`offset${e}`],n[`scroll${e}`],0)}function UP(e){const t=e.body,n=e.documentElement;return{height:VP("Height",t,n),width:VP("Width",t,n)}}function Gl(e){return{...e,right:(e.left||0)+e.width,bottom:(e.top||0)+e.height}}function Se(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function BP(e){const t=e.getBoundingClientRect();if(!(t&&Se(t.top)&&Se(t.left)&&Se(t.bottom)&&Se(t.right)))return t;const n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?UP(e.ownerDocument):void 0,i=r?.width||e.clientWidth||Se(t.right)&&Se(n.left)&&t.right-n.left||0,o=r?.height||e.clientHeight||Se(t.bottom)&&Se(n.top)&&t.bottom-n.top||0;let s=e.offsetWidth-i,a=e.offsetHeight-o;if(s||a){const l=ro(e);s-=LP(l,"x"),a-=LP(l,"y"),n.width-=s,n.height-=a}return Gl(n)}function ny(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function ry(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:t,overflowX:n,overflowY:r}=ro(e);return/(auto|scroll|overlay)/.test(String(t)+String(r)+String(n))?e:ry(ny(e))}function iy(e,t,n=!1){const r="HTML"===t.nodeName,i=BP(e),o=BP(t),a=(ry(e),ro(t)),l=parseFloat(a.borderTopWidth),c=parseFloat(a.borderLeftWidth);n&&r&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));const u=Gl({top:(i.top??0)-(o.top??0)-l,left:(i.left??0)-(o.left??0)-c,width:i.width,height:i.height});if(u.marginTop=0,u.marginLeft=0,r){const d=parseFloat(a.marginTop),h=parseFloat(a.marginLeft);Se(u.top)&&(u.top-=l-d),Se(u.bottom)&&(u.bottom-=l-d),Se(u.left)&&(u.left-=c-h),Se(u.right)&&(u.right-=c-h),u.marginTop=d,u.marginLeft=h}return u}function HP(e,t="top"){const n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;return"BODY"===r||"HTML"===r?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[n]:e[n]}function jP(e){const t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===ro(e,"position")||jP(ny(e)))}function oy(e,t,n=0,r,i=!1){let o={top:0,left:0};const s=i?FP(e):_h(e,t);if("viewport"===r)o=function PK(e,t=!1){const n=e.ownerDocument.documentElement,r=iy(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:HP(n),a=t?0:HP(n,"left");return Gl({top:s-Number(r?.top)+Number(r?.marginTop),left:a-Number(r?.left)+Number(r?.marginLeft),width:i,height:o})}(s,i);else{let a;"scrollParent"===r?(a=ry(ny(t)),"BODY"===a.nodeName&&(a=e.ownerDocument.documentElement)):a="window"===r?e.ownerDocument.documentElement:r;const l=iy(a,s,i);if(l&&"HTML"===a.nodeName&&!jP(s)){const{height:c,width:u}=UP(e.ownerDocument);Se(o.top)&&Se(l.top)&&Se(l.marginTop)&&(o.top+=l.top-l.marginTop),Se(o.top)&&(o.bottom=Number(c)+Number(l.top)),Se(o.left)&&Se(l.left)&&Se(l.marginLeft)&&(o.left+=l.left-l.marginLeft),Se(o.top)&&(o.right=Number(u)+Number(l.left))}else l&&(o=l)}return Se(o.left)&&(o.left+=n),Se(o.top)&&(o.top+=n),Se(o.right)&&(o.right-=n),Se(o.bottom)&&(o.bottom-=n),o}function xK({width:e,height:t}){return e*t}function $P(e,t,n,r,i=["top","bottom","right","left"],o="viewport",s=0){if(-1===e.indexOf("auto"))return e;const a=oy(n,r,s,o),l={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(f=>({position:f,...l[f],area:xK(l[f])})).sort((f,p)=>p.area-f.area);let u=c.filter(({width:f,height:p})=>f>=n.clientWidth&&p>=n.clientHeight);u=u.filter(({position:f})=>i.some(p=>p===f));const d=u.length>0?u[0].position:c[0].position,h=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Hl().isBs5?Xv[d]:d}`),d+(h?`-${h}`:"")}const vh=(e,t=0)=>e?parseFloat(e):t;function GP(e){const n=e.ownerDocument.defaultView?.getComputedStyle(e),r=vh(n?.marginTop)+vh(n?.marginBottom),i=vh(n?.marginLeft)+vh(n?.marginRight);return{width:Number(e.offsetWidth)+i,height:Number(e.offsetHeight)+r}}function WP(e,t,n){return iy(t,n?FP(e):_h(e,t),n)}function sy(e,t,n){const r=n.split(" ")[0],i=GP(e),o={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(r),a=s?"top":"left",l=s?"left":"top",c=s?"height":"width",u=s?"width":"height";return o[a]=(t[a]??0)+t[c]/2-i[c]/2,o[l]=r===l?(t[l]??0)-i[u]:t[function FK(e){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,n=>t[n])}(l)]??0,o}function zP(e,t){return!!e.modifiers[t]?.enabled}const VK={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function yh(e,t){return!!Hl().isBs5&&VK[t].includes(e)}function qP(e,t,n){!e||!t||Object.keys(t).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function OK(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(Number(e))}(t[r])&&(i="px"),n?n.setStyle(e,r,`${String(t[r])}${i}`):e.style[r]=String(t[r])+i})}function HK(e){let t=e.offsets.target;const n=e.instance.target.querySelector(".arrow");if(!n)return e;const r=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),i=r?"height":"width",o=r?"Top":"Left",s=o.toLowerCase(),a=r?"left":"top",l=r?"bottom":"right",c=GP(n)[i],u=e.placement.split(" ")[1];(e.offsets.host[l]??0)-c<(t[s]??0)&&(t[s]-=(t[s]??0)-((e.offsets.host[l]??0)-c)),Number(e.offsets.host[s])+Number(c)>(t[l]??0)&&(t[s]+=Number(e.offsets.host[s])+Number(c)-Number(t[l])),t=Gl(t);const d=ro(e.instance.target),h=parseFloat(d[`margin${o}`])||0,f=parseFloat(d[`border${o}Width`])||0;let p;if(u){const _=parseFloat(d.borderRadius)||0,C=Number(h+f+_);p=s===u?Number(e.offsets.host[s])+C:Number(e.offsets.host[s])+Number(e.offsets.host[i]-C)}else p=Number(e.offsets.host[s])+Number(e.offsets.host[i]/2-c/2);let g=p-(t[s]??0)-h-f;return g=Math.max(Math.min(t[i]-(c+5),g),0),e.offsets.arrow={[s]:Math.round(g),[a]:""},e.instance.arrow=n,e}function jK(e){if(e.offsets.target=Gl(e.offsets.target),!zP(e.options,"flip"))return e.offsets.target={...e.offsets.target,...sy(e.instance.target,e.offsets.host,e.placement)},e;const t=oy(e.instance.target,e.instance.host,0,"viewport",!1);let n=e.placement.split(" ")[0],r=e.placement.split(" ")[1]||"";const a=$P("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),l=[n,a];return l.forEach((c,u)=>{if(n!==c||l.length===u+1)return;n=e.placement.split(" ")[0];const d="left"===n&&Math.floor(e.offsets.target.right??0)>Math.floor(e.offsets.host.left??0)||"right"===n&&Math.floor(e.offsets.target.left??0)<Math.floor(e.offsets.host.right??0)||"top"===n&&Math.floor(e.offsets.target.bottom??0)>Math.floor(e.offsets.host.top??0)||"bottom"===n&&Math.floor(e.offsets.target.top??0)<Math.floor(e.offsets.host.bottom??0),h=Math.floor(e.offsets.target.left??0)<Math.floor(t.left??0),f=Math.floor(e.offsets.target.right??0)>Math.floor(t.right??0),p=Math.floor(e.offsets.target.top??0)<Math.floor(t.top??0),g=Math.floor(e.offsets.target.bottom??0)>Math.floor(t.bottom??0),_="left"===n&&h||"right"===n&&f||"top"===n&&p||"bottom"===n&&g,C=-1!==["top","bottom"].indexOf(n),m=C&&"left"===r&&h||C&&"right"===r&&f||!C&&"left"===r&&p||!C&&"right"===r&&g;(d||_||m)&&((d||_)&&(n=l[u+1]),m&&(r=function LK(e){return"right"===e?"left":"left"===e?"right":e}(r)),e.placement=n+(r?` ${r}`:""),e.offsets.target={...e.offsets.target,...sy(e.instance.target,e.offsets.host,e.placement)})}),e}function GK(e){if(!zP(e.options,"preventOverflow"))return e;const t="transform",n=e.instance.target.style,{top:r,left:i,[t]:o}=n;n.top="",n.left="",n[t]="";const s=oy(e.instance.target,e.instance.host,0,e.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);n.top=r,n.left=i,n[t]=o;const l={primary(c){let u=e.offsets.target[c];return(e.offsets.target[c]??0)<(s[c]??0)&&(u=Math.max(e.offsets.target[c]??0,s[c]??0)),{[c]:u}},secondary(c){const u="right"===c,d=u?"left":"top";let f=e.offsets.target[d];return(e.offsets.target[c]??0)>(s[c]??0)&&(f=Math.min(e.offsets.target[d]??0,(s[c]??0)-e.offsets.target[u?"width":"height"])),{[d]:f}}};return["left","right","top","bottom"].forEach(c=>{const u=-1!==["left","top","start"].indexOf(c)?l.primary:l.secondary;e.offsets.target={...e.offsets.target,...u(c)}}),e}function WK(e){const t=e.placement,n=t.split(" ")[0],r=t.split(" ")[1];if(r){const{host:i,target:o}=e.offsets,s=-1!==["bottom","top"].indexOf(n),a=s?"left":"top",l=s?"width":"height",c={start:{[a]:i[a]},end:{[a]:(i[a]??0)+i[l]-o[l]}};e.offsets.target={...o,[a]:a===r?c.start[a]:c.end[a]}}return e}const qK=new class zK{position(t,n){return this.offset(t,n)}offset(t,n){return WP(n,t)}positionElements(t,n,r,i,o){const s=[jK,WK,GK,HK],l=function $K(e,t,n,r){if(!e||!t)return;const i=WP(e,t);!n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(n="auto");const o=!!n.match(/auto/g);let s=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n;const a=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(s=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),s=$P(s,i,e,t,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:e,host:t,arrow:void 0},offsets:{target:sy(e,i,s),host:i,arrow:void 0},positionFixed:!1,placement:s,placementAuto:o}}(n,t,kP[r],o);if(l)return s.reduce((c,u)=>u(c),l)}};function KK(e,t,n,r,i,o){const s=qK.positionElements(e,t,n,r,i);if(!s)return;const a=function kK(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left??0),top:Math.round(e.offsets.target.top??0),bottom:Math.round(e.offsets.target.bottom??0),right:Math.floor(e.offsets.target.right??0)}}(s);qP(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},o),s.instance.arrow&&qP(s.instance.arrow,s.offsets.arrow,o),function BK(e,t){const n=e.instance.target;let r=n.className;const i=Hl().isBs5?Xv[e.placement]:e.placement;e.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function UK(e){return Hl().isBs5?yh(e,"end")?"ms-2":yh(e,"start")?"me-2":yh(e,"top")?"mb-2":yh(e,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),t?t.setAttribute(n,"class",r):n.className=r}(s,o)}let ay=(()=>{class e{constructor(n,r,i){this.update$$=new en,this.positionElements=new Map,this.isDisabled=!1,y0(i)&&n.runOutsideAngular(()=>{this.triggerEvent$=ZE(gh(window,"scroll",{passive:!0}),gh(window,"resize",{passive:!0}),k(0,RK),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{KK(Ch(o.target),Ch(o.element),o.attachment,o.appendToBody,this.options,r.createRenderer(null,null))})})})}position(n){this.addPositionElement(n)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(n){this.positionElements.set(Ch(n.element),n)}calcPosition(){this.update$$.next(null)}deletePositionElement(n){this.positionElements.delete(Ch(n))}setOptions(n){this.options=n}static#e=this.\u0275fac=function(r){return new(r||e)(S(re),S(su),S(Lr))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ch(e){return"string"==typeof e?document.querySelector(e):e instanceof Fe?e.nativeElement:e??null}class Wl{constructor(t,n,r){this.nodes=t,this.viewRef=n,this.componentRef=r}}class YK{constructor(t,n,r,i,o,s,a,l,c){this._viewContainerRef=t,this._renderer=n,this._elementRef=r,this._injector=i,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new $,this.onShown=new $,this.onBeforeHide=new $,this.onHidden=new $,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const n=ct.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(n,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof Fe&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const n=this._componentRef.location.nativeElement;return n.parentNode?.removeChild(n),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const n=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),r=this._listenOpts.show=o=>{t.show?t.show(o):this.show(o),o()};return this._renderer&&(this._unregisterListenersFn=function Z7(e,t){const n=function DP(e,t=Q7){const n=(e||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(o=>o.split(":")).map(o=>{const s=t[o[0]]||o;return new Y7(s[0],s[1])}),i=r.filter(o=>o.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(t.triggers),r=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],o=[],s=()=>{o.forEach(a=>i.push(a())),o.length=0};return n.forEach(a=>{const l=a.open===a.close,c=l?t.toggle:t.show;if(!l&&a.close&&t.hide){const u=a.close,d=t.hide;o.push(()=>e.listen(r,u,d))}c&&i.push(e.listen(r,a.open,()=>c(s)))}),()=>{i.forEach(a=>a())}}(this._renderer,{target:t.target,triggers:t.triggers,show:r,hide:n,toggle:o=>{this.isShown?n():r(o)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,n){return t&&n&&(this._inlineViewRef=t.createEmbeddedView(n)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function J7(e,t){return t.outsideClick?e.listen("document","click",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(r=>r.contains(n.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function X7(e,t){return t.outsideEsc?e.listen("document","keyup.esc",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(r=>r.contains(n.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,n,r){if(!t)return new Wl([]);if(t instanceof Gn){if(this._viewContainerRef){const s=this._viewContainerRef.createEmbeddedView(t,n);return s.markForCheck(),new Wl([s.rootNodes],s)}const o=t.createEmbeddedView({});return this._applicationRef.attachView(o),new Wl([o.rootNodes],o)}if("function"==typeof t){const o=this._componentFactoryResolver.resolveComponentFactory(t),s=ct.create({providers:this._providers,parent:this._injector}),a=o.create(s);return Object.assign(a.instance,r),this._applicationRef.attachView(a.hostView),new Wl([[a.location.nativeElement]],a.hostView,a)}const i=this._renderer?[this._renderer.createText(`${t}`)]:[];return new Wl([i])}}let ly=(()=>{class e{constructor(n,r,i,o,s,a){this._componentFactoryResolver=n,this._ngZone=r,this._injector=i,this._posService=o,this._applicationRef=s,this._document=a}createLoader(n,r,i){return new YK(r,i,n,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(r){return new(r||e)(S(pa),S(re),S(ct),S(ay),S(Ai),S(Tt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const QK=["*"];let KP=(()=>{class e{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),YP=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Eh={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},ZK=new R("override-default-config");let JK=(()=>{class e{constructor(n,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},n)}ngOnInit(){this._focusEl=qe.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),qe&&qe.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(qe.body,"modal-open"),this._renderer.setStyle(qe.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(n){this.clickStartedInContent=n.target!==this._element.nativeElement}onClickStop(n){this.config.ignoreBackdropClick||"static"===this.config.backdrop||n.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(n){this.isShown&&((27===n.keyCode||"Escape"===n.key)&&n.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,qe&&qe.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(qe.body,"modal-open"),this._renderer.setStyle(qe.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(r){return new(r||e)(y(YP),y(Fe),y(Kt))};static#t=this.\u0275cmp=xn({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(r,i){1&r&&ve("mousedown",function(s){return i.onClickStarted(s)})("click",function(s){return i.onClickStop(s)})("popstate",function(){return i.onPopState()},!1,Up)("keydown.esc",function(s){return i.onEsc(s)},!1,Up),2&r&&un("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:QK,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(r,i){1&r&&(function tS(e){const t=E()[ke][at];if(!t.projection){const r=t.projection=na(e?e.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=e?HB(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),ee(0,"div",0)(1,"div",1),function nS(e,t=0,n){const r=E(),i=X(),o=jo(i,Y+e,16,null,n||null);null===o.projection&&(o.projection=t),Nf(),(!r[or]||Co())&&32!=(32&o.flags)&&function $L(e,t,n){rI(t[V],0,t,n,ip(e,n,t),ZD(n.parent||t[at],n,t))}(i,r,o)}(2),Z()()),2&r&&yS("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[vK],encapsulation:2})}return e})(),XK=(()=>{class e{get isAnimated(){return this._isAnimated}set isAnimated(n){this._isAnimated=n}get isShown(){return this._isShown}set isShown(n){this._isShown=n,n?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(n,r){this._isAnimated=!1,this._isShown=!1,this.element=n,this.renderer=r}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),rK.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(r){return new(r||e)(y(Fe),y(Kt))};static#t=this.\u0275cmp=xn({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return e})(),eY=1,uy=(()=>{class e{constructor(n,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new $,this.onShown=new $,this.onHide=new $,this.onHidden=new $,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=n.createRenderer(null,null),this.config=i?Object.assign({},Eh,i):Eh}show(n,r){this._focusEl=qe.activeElement,this.modalsCount++,this._createLoaders();const i=r?.id||eY++;return this.config=this.modalDefaultOption?Object.assign({},Eh,this.modalDefaultOption,r):Object.assign({},Eh,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(n)}hide(n){(1===this.modalsCount||null==n)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=n?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(n),this.removeLoaders(n)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const n=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),n&&r&&(this._backdropLoader.attach(XK).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(n){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const s of this.config.providers)r.provide(s);const i=new KP,o=r.provide({provide:YP,useValue:this.config}).provide({provide:KP,useValue:i}).attach(JK).to("body");return i.hide=()=>this.hide(i.id),i.setClass=s=>{o.instance&&(o.instance.config.class=s)},i.onHidden=new $,i.onHide=new $,this.copyEvent(r.onBeforeHide,i.onHide),this.copyEvent(r.onHidden,i.onHidden),o.show({content:n,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),i.content=r.getInnerComponent(),i.id=o.instance.config?.id),i}_hideModal(n){if(null!=n){const r=this.loaders.findIndex(o=>o.instance?.config.id===n),i=this.loaders[r];i&&i.hide(n)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(n){this.lastDismissReason=n}removeBackdrop(){this._renderer.removeClass(qe.body,"modal-open"),this._renderer.setStyle(qe.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=qe.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){qe&&(this.originalBodyPadding=parseInt(window.getComputedStyle(qe.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(qe.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){qe.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const n=this._renderer.createElement("div");this._renderer.addClass(n,"modal-scrollbar-measure"),this._renderer.appendChild(qe.body,n);const r=n.offsetWidth-n.clientWidth;return this._renderer.removeChild(qe.body,n),r}_createLoaders(){const n=this.clf.createLoader();this.copyEvent(n.onBeforeShow,this.onShow),this.copyEvent(n.onShown,this.onShown),this.copyEvent(n.onBeforeHide,this.onHide),this.copyEvent(n.onHidden,this.onHidden),this.loaders.push(n)}removeLoaders(n){if(null!=n){const r=this.loaders.findIndex(i=>i.instance?.config.id===n);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,o)=>{i.instance&&(i.instance.level=o+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(n,r){n.subscribe(i=>{r.emit(this.lastDismissReason||i)})}static#e=this.\u0275fac=function(r){return new(r||e)(S(su),S(ly),S(ZK,8))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();OP.forRoot();let tY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[uy,ly,ay]}}static forChild(){return{ngModule:e,providers:[uy,ly,ay]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({imports:[OP]})}return e})();function ZP(e){return void 0!==e&&void 0!==e.enterprise}class JP{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}const nY=function XP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ex=new dl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dh=new R_("@firebase/auth");function Ih(e,...t){Dh.logLevel<=de.ERROR&&Dh.error(`Auth (${vs}): ${e}`,...t)}function jt(e,...t){throw dy(e,...t)}function er(e,...t){return dy(e,...t)}function dy(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ex.create(e,...t)}function I(e,t,...n){if(!e)throw dy(t,...n)}function tr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ih(t),new Error(t)}function ci(e,t){e||tr(t)}function zl(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nx(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function iY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function hy(){return"http:"===nx()||"https:"===nx()}()||function a8(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,ci(n>t,"Short delay should be less than long delay!"),this.isMobile=S_()||sN()}get(){return iY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fy(e,t){ci(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class rx{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},aY=new ql(3e4,6e4);function Te(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ne(e,t,n,r){return py.apply(this,arguments)}function py(){return(py=v(function*(e,t,n,r,i={}){return ix(e,i,v(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=fl(Object.assign({key:e.config.apiKey},s)).slice(1),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),rx.fetch()(ox(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function ix(e,t,n){return gy.apply(this,arguments)}function gy(){return(gy=v(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},sY),t);try{const i=new lY(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Kl(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Kl(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Kl(e,"email-already-in-use",s);if("USER_DISABLED"===l)throw Kl(e,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function tx(e,t,n){const r=Object.assign(Object.assign({},nY()),{[t]:n});return new dl("auth","Firebase",r).create(t,{appName:e.name})}(e,u,c);jt(e,u)}}catch(i){if(i instanceof Kr)throw i;jt(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Dr(e,t,n,r){return my.apply(this,arguments)}function my(){return(my=v(function*(e,t,n,r,i={}){const o=yield Ne(e,t,n,r,i);return"mfaPendingCredential"in o&&jt(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function ox(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?fy(e.config,i):`${e.config.apiScheme}://${i}`}class lY{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),aY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(e,t,r);return i.customData._tokenResponse=n,i}function sx(e,t){return vy.apply(this,arguments)}function vy(){return(vy=v(function*(e,t){return Ne(e,"GET","/v2/recaptchaConfig",Te(e,t))})).apply(this,arguments)}function yy(){return(yy=v(function*(e,t){return Ne(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function Ey(){return(Ey=v(function*(e,t){return Ne(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Yl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function wy(){return(wy=v(function*(e,t=!1){const n=Zt(e),r=yield n.getIdToken(t),i=bh(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yl(Dy(i.auth_time)),issuedAtTime:Yl(Dy(i.iat)),expirationTime:Yl(Dy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Dy(e){return 1e3*Number(e)}function bh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sd(n);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ir(e,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=v(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof Kr&&function gY({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class mY{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var t=this;return v(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class ax{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ql(e){return by.apply(this,arguments)}function by(){return by=v(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Ir(e,function hY(e,t){return Ey.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function yY(e){return e.map(t=>{var{providerId:n}=t,r=Zh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function vY(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,s),u=!!e.isAnonymous&&!(e.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ax(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}),by.apply(this,arguments)}function Sy(){return(Sy=v(function*(e){const t=Zt(e);yield Ql(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Ty(){return(Ty=v(function*(e,t){const n=yield ix(e,{},v(function*(){const r=fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=ox(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rx.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){I(t.idToken,"internal-error"),I(typeof t.idToken<"u","internal-error"),I(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function pY(e){const t=bh(e);return I(t,"internal-error"),I(typeof t.exp<"u","internal-error"),I(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t,n=!1){var r=this;return v(function*(){return I(!r.accessToken||r.refreshToken,t,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function CY(e,t){return Ty.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Zl;return r&&(I("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(I("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return tr("not implemented")}}function ui(e,t){I("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class io{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Zh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ax(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var n=this;return v(function*(){const r=yield Ir(n,n.stsTokenManager.getToken(n.auth,t));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function fY(e){return wy.apply(this,arguments)}(this,t)}reload(){return function _Y(e){return Sy.apply(this,arguments)}(this)}_assign(t){this!==t&&(I(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new io(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){var r=this;return v(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield Ql(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return v(function*(){const n=yield t.getIdToken();return yield Ir(t,function uY(e,t){return yy.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,c,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,C=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:A,emailVerified:N,isAnonymous:z,providerData:tt,stsTokenManager:mn}=n;I(A&&mn,t,"internal-error");const fi=Zl.fromJSON(this.name,mn);I("string"==typeof A,t,"internal-error"),ui(d,t.name),ui(h,t.name),I("boolean"==typeof N,t,"internal-error"),I("boolean"==typeof z,t,"internal-error"),ui(f,t.name),ui(p,t.name),ui(g,t.name),ui(_,t.name),ui(C,t.name),ui(m,t.name);const ao=new io({uid:A,auth:t,email:h,emailVerified:N,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:fi,createdAt:C,lastLoginAt:m});return tt&&Array.isArray(tt)&&(ao.providerData=tt.map(bE=>Object.assign({},bE))),_&&(ao._redirectEventId=_),ao}static _fromIdTokenResponse(t,n,r=!1){return v(function*(){const i=new Zl;i.updateFromServerResponse(n);const o=new io({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Ql(o),o})()}}const lx=new Map;function br(e){ci(e instanceof Function,"Expected a class definition");let t=lx.get(e);return t?(ci(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,lx.set(e,t),t)}const cx=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Sh(e,t,n){return`firebase:${e}:${t}:${n}`}class Ps{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Sh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return v(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?io._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return v(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return v(function*(){if(!n.length)return new Ps(br(cx),t,r);const i=(yield Promise.all(n.map(function(){var c=v(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||br(cx);const s=Sh(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=yield c._get(s);if(u){const d=io._fromJSON(t,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=v(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Ps(o,t,r)):new Ps(o,t,r)})()}}function ux(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gx(t))return"Blackberry";if(mx(t))return"Webos";if(Ay(t))return"Safari";if((t.includes("chrome/")||hx(t))&&!t.includes("edge/"))return"Chrome";if(px(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dx(e=Ze()){return/firefox\//i.test(e)}function Ay(e=Ze()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hx(e=Ze()){return/crios\//i.test(e)}function fx(e=Ze()){return/iemobile/i.test(e)}function px(e=Ze()){return/android/i.test(e)}function gx(e=Ze()){return/blackberry/i.test(e)}function mx(e=Ze()){return/webos/i.test(e)}function Th(e=Ze()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _x(e=Ze()){return Th(e)||px(e)||mx(e)||gx(e)||/windows phone/i.test(e)||fx(e)}function vx(e,t=[]){let n;switch(e){case"Browser":n=ux(Ze());break;case"Worker":n=`${ux(Ze())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${vs}/${r}`}class IY{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return v(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function My(){return(My=v(function*(e,t={}){return Ne(e,"GET","/v2/passwordPolicy",Te(e,t))})).apply(this,arguments)}class TY{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=t.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(n=l.meetsMinPasswordLength)||void 0===n||n),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class AY{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yx(this),this.idTokenSubscription=new yx(this),this.beforeStateQueue=new IY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(v(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ps.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return v(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUser(t){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield n.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return v(function*(){try{yield Ql(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function oY(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return v(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return v(function*(){const r=t?Zt(t):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t,n=!1){var r=this;return v(function*(){if(!r._deleted)return t&&I(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(t)),r.queue(v(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return v(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(br(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return v(function*(){const n=yield function bY(e){return My.apply(this,arguments)}(t),r=new TY(n);null===t.tenantId?t._projectPasswordPolicy=r:t._tenantPasswordPolicies[t.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new dl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=t&&br(t)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield Ps.create(n,[br(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return v(function*(){if(t===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}{const l=t.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(t){var n=this;return v(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return v(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield t._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var t=this;return v(function*(){var n;const r=yield null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function rY(e,...t){Dh.logLevel<=de.WARN&&Dh.warn(`Auth (${vs}): ${e}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Be(e){return Zt(e)}class yx{constructor(t){this.auth=t,this.observer=null,this.addObserver=function _8(e,t){const n=new v8(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ry(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=er("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function MY(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Cx(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ex{constructor(t){this.type="recaptcha-enterprise",this.auth=Be(t)}verify(t="verify",n=!1){var r=this;return v(function*(){function o(){return o=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=v(function*(c,u){sx(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new JP(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;ZP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:t}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&ZP(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));Ry("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function di(e,t,n){return Ny.apply(this,arguments)}function Ny(){return(Ny=v(function*(e,t,n,r=!1){const i=new Ex(e);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},t);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function wx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dx(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class UY{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,n){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}function Sr(e,t){return Ky.apply(this,arguments)}function Ky(){return(Ky=v(function*(e,t){return Dr(e,"POST","/v1/accounts:signInWithIdp",Te(e,t))})).apply(this,arguments)}class hi{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class XY extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function Nh(e,t){return eC.apply(this,arguments)}function eC(){return(eC=v(function*(e,t){return Dr(e,"POST","/v1/accounts:signUp",Te(e,t))})).apply(this,arguments)}class gn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return v(function*(){const o=yield io._fromIdTokenResponse(t,r,i),s=Tx(r);return new gn({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(t,n,r){return v(function*(){yield t._updateTokensIfNecessary(r,!0);const i=Tx(r);return new gn({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function Tx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Oh extends Kr{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Oh(t,n,r,i)}}function Ax(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Oh._fromErrorAndOperation(e,o,t,r):o})}function iC(){return(iC=v(function*(e,t,n=!1){const r=yield Ir(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return gn._forOperation(e,"link",r)})).apply(this,arguments)}function sC(){return(sC=v(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=yield Ir(e,Ax(r,i,t,e),n);I(o.idToken,r,"internal-error");const s=bh(o.idToken);I(s,r,"internal-error");const{sub:a}=s;return I(e.uid===a,r,"user-mismatch"),gn._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&jt(r,"user-mismatch"),o}})).apply(this,arguments)}function aC(){return(aC=v(function*(e,t,n=!1){const r="signIn",i=yield Ax(e,r,t),o=yield gn._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}function vC(){return(vC=v(function*(e){const t=Be(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function IC(){return IC=v(function*(e,t,n){var r;const i=Be(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield di(i,o,"signUpPassword");s=Nh(i,c)}else s=Nh(i,o).catch(function(){var c=v(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield di(i,o,"signUpPassword");return Nh(i,d)}throw u});return function(u){return c.apply(this,arguments)}}());const a=yield s.catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&function _C(e){return vC.apply(this,arguments)}(e),c}),l=yield gn._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),IC.apply(this,arguments)}const xh="__sak";class Px{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const DQ=(()=>{class e extends Px{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function CQ(){const e=Ze();return Ay(e)||Th(e)}()&&function DY(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_x(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function wY(){return function l8(){const e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return v(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),xx=(()=>{class e extends Px{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let bQ=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=v(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function IQ(e){return Promise.all(e.map(function(){var t=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function BC(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class SQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){var i=this;return v(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=BC("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:t,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function He(){return window}function HC(){return typeof He().WorkerGlobalScope<"u"&&"function"==typeof He().importScripts}function jC(){return(jC=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kx="firebaseLocalStorageDb",kh="firebaseLocalStorage",Fx="fbase_key";class tc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(e,t){return e.transaction([kh],t?"readwrite":"readonly").objectStore(kh)}function $C(){const e=indexedDB.open(kx,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(kh,{keyPath:Fx})}catch(i){n(i)}}),e.addEventListener("success",v(function*(){const r=e.result;r.objectStoreNames.contains(kh)?t(r):(r.close(),yield function OQ(){const e=indexedDB.deleteDatabase(kx);return new tc(e).toPromise()}(),t(yield $C()))}))})}function Lx(e,t,n){return GC.apply(this,arguments)}function GC(){return(GC=v(function*(e,t,n){const r=Fh(e,!0).put({[Fx]:t,value:n});return new tc(r).toPromise()})).apply(this,arguments)}function WC(){return(WC=v(function*(e,t){const n=Fh(e,!1).get(t),r=yield new tc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Vx(e,t){const n=Fh(e,!0).delete(t);return new tc(n).toPromise()}const FQ=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield $C()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return HC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=bQ._getInstance(function RQ(){return HC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function AQ(){return jC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new SQ(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function MQ(){var e;return(null===(e=navigator?.serviceWorker)||void 0===e?void 0:e.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield $C();return yield Lx(n,xh,"1"),yield Vx(n,xh),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(o=>Lx(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(o=>function PQ(e,t){return WC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>Vx(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(s=>{const a=Fh(s,!1).getAll();return new tc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();Cx("rcb"),new ql(3e4,6e4);class eE extends UY{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Sr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Sr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JQ(e){return function Nx(e,t){return aC.apply(this,arguments)}(e.auth,new eE(e),e.bypassAuthState)}function XQ(e){const{auth:t,user:n}=e;return I(n,t,"internal-error"),function Rx(e,t){return sC.apply(this,arguments)}(n,new eE(e),e.bypassAuthState)}function eZ(e){return tE.apply(this,arguments)}function tE(){return(tE=v(function*(e){const{auth:t,user:n}=e;return I(n,t,"internal-error"),function rC(e,t){return iC.apply(this,arguments)}(n,new eE(e),e.bypassAuthState)})).apply(this,arguments)}class tZ{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=v(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=t;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(c))}catch(u){n.reject(u)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JQ;case"linkViaPopup":case"linkViaRedirect":return eZ;case"reauthViaPopup":case"reauthViaRedirect":return XQ;default:jt(this.auth,"internal-error")}}resolve(t){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ql(2e3,1e4);const nZ="pendingRedirect",nc=new Map;class rZ extends tZ{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return v(function*(){let r=nc.get(n.auth._key());if(!r){try{const o=(yield function iZ(e,t){return sE.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}nc.set(n.auth._key(),r)}return n.bypassAuthState||nc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function sE(){return(sE=v(function*(e,t){const n=function Hx(e){return Sh(nZ,e.config.apiKey,e.name)}(t),r=function Bx(e){return br(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function oZ(e,t){nc.set(e._key(),t)}function jx(e,t){return fE.apply(this,arguments)}function fE(){return(fE=v(function*(e,t,n=!1){const r=Be(e),i=function so(e,t){return t?br(t):(I(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),s=yield new rZ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}class uZ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function dZ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wx(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Wx(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gx(t))}saveEventToCache(t){this.cachedEventUids.add(Gx(t)),this.lastProcessedEventTime=Date.now()}}function Gx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Wx({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function gE(){return(gE=v(function*(e,t={}){return Ne(e,"GET","/v1/projects",t)})).apply(this,arguments)}const fZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pZ=/^https?/;function mE(){return mE=v(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function hZ(e){return gE.apply(this,arguments)}(e);for(const n of t)try{if(mZ(n))return}catch{}jt(e,"unauthorized-domain")}),mE.apply(this,arguments)}function mZ(e){const t=zl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!pZ.test(n))return!1;if(fZ.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _Z=new ql(3e4,6e4);function zx(){const e=He().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Vh=null;const CZ=new ql(5e3,15e3),EZ="__/auth/iframe",wZ="emulator/auth/iframe",DZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bZ(e){const t=e.config;I(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fy(t,wZ):`https://${e.config.authDomain}/${EZ}`,r={apiKey:t.apiKey,appName:e.name,v:vs},i=IZ.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fl(r).slice(1)}`}function _E(){return _E=v(function*(e){const t=yield function yZ(e){return Vh=Vh||function vZ(e){return new Promise((t,n)=>{var r,i,o;function s(){zx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zx(),n(er(e,"network-request-failed"))},timeout:_Z.get()})}if(null!==(i=null===(r=He().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(o=He().gapi)||void 0===o||!o.load){const a=Cx("iframefcb");return He()[a]=()=>{gapi.load?s():n(er(e,"network-request-failed"))},Ry(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}s()}}).catch(t=>{throw Vh=null,t})}(e),Vh}(e),n=He().gapi;return I(n,e,"internal-error"),t.open({where:document.body,url:bZ(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DZ,dontclear:!0},r=>new Promise(function(){var i=v(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=er(e,"network-request-failed"),l=He().setTimeout(()=>{s(a)},CZ.get());function c(){He().clearTimeout(l),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),_E.apply(this,arguments)}const TZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xZ="__/auth/handler",kZ="emulator/auth/handler",FZ=encodeURIComponent("fac");function Kx(e,t,n,r,i,o){return vE.apply(this,arguments)}function vE(){return(vE=v(function*(e,t,n,r,i,o){I(e.config.authDomain,e,"auth-domain-config-required"),I(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vs,eventId:i};if(t instanceof hi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",T_(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof XY){const u=t.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield e._getAppCheckToken(),c=l?`#${FZ}=${encodeURIComponent(l)}`:"";return`${function LZ({config:e}){return e.emulator?fy(e,kZ):`https://${e.authDomain}/${xZ}`}(e)}?${fl(a).slice(1)}${c}`})).apply(this,arguments)}const yE="webStorageSupport",UZ=class VZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xx,this._completeRedirectFn=jx,this._overrideRedirectResult=oZ}_openPopup(t,n,r,i){var o=this;return v(function*(){var s;ci(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Kx(t,n,r,zl(),i);return function OZ(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},TZ),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ze().toLowerCase();n&&(a=hx(c)?"_blank":n),dx(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function EY(e=Ze()){var t;return Th(e)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(c)&&"_self"!==a)return function PZ(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new qx(null);const d=window.open(t||"",a,u);I(d,e,"popup-blocked");try{d.focus()}catch{}return new qx(d)}(t,a,BC())})()}_openRedirect(t,n,r,i){var o=this;return v(function*(){return yield o._originValidation(t),function TQ(e){He().location.href=e}(yield Kx(t,n,r,zl(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return v(function*(){const r=yield function SZ(e){return _E.apply(this,arguments)}(t),i=new uZ(t);return r.register("authEvent",o=>(I(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(yE,{type:yE},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[yE];void 0!==s&&n(!!s),jt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function gZ(e){return mE.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _x()||Ay()||Th()}};var Zx="@firebase/auth";class BZ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const GZ=oN("authIdTokenMaxAge")||300;let Xx=null;const WZ=e=>function(){var t=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>GZ)return;const o=r?.token;Xx!==o&&(Xx=o,yield fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return t.apply(this,arguments)}}();function zZ(e=mN()){const t=xd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function xY(e,t){const n=xd(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Rd(n.getOptions(),t??{}))return i;jt(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:UZ,persistence:[FQ,DQ,xx]}),r=oN("authTokenSyncURL");if(r){const o=WZ(r);(function gQ(e,t,n){Zt(e).beforeAuthStateChanged(t,n)})(n,o,()=>o(n.currentUser)),function pQ(e,t,n,r){Zt(e).onIdTokenChanged(t,n,r)}(n,s=>o(s))}const i=rN("auth");return i&&function FY(e,t,n){const r=Be(e);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=wx(t),{host:s,port:a}=function LY(e){const t=wx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Dx(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:Dx(s)}}}(t);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function VY(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}!function jZ(e){_s(new $i("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;I(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vx(e)},c=new AY(r,i,o,l);return function kY(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(br);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),_s(new $i("auth-internal",t=>{const n=Be(t.getProvider("auth").getImmediate());return new BZ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(Zx,"1.3.0",function HZ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),Qr(Zx,"1.3.0","esm2017")}("Browser");let qZ=(()=>{class e{constructor(n){this.dbService=n,this.auth=zZ(this.dbService.app)}ngOnInit(){console.log()}createUser(n,r){(function sQ(e,t,n){return IC.apply(this,arguments)})(this.auth,n,r).then(i=>{console.log(i.user)}).catch(i=>{console.log(i.message)})}static#e=this.\u0275fac=function(r){return new(r||e)(S(Ns))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KZ(e,t){if(1&e){const n=Jo();ee(0,"div",10)(1,"button",11),ve("click",function(){on(n);const i=ht();return sn(null==i.modalRef?null:i.modalRef.hide())}),ee(2,"span",12),ft(3,"\xd7"),Z()()(),ee(4,"div",13)(5,"h3"),ft(6,"Signup"),Z(),ee(7,"form",14),ve("ngSubmit",function(){return on(n),sn(ht().onSignup())}),ee(8,"div",15)(9,"label",16),ft(10,"Name"),Z(),dt(11,"input",17),Z(),ee(12,"div",15)(13,"label",18),ft(14,"Email"),Z(),dt(15,"input",19),Z(),ee(16,"div",15)(17,"label",20),ft(18,"password"),Z(),dt(19,"input",21),Z(),ee(20,"button",22),ft(21,"Register"),Z()(),ee(22,"h3"),ft(23,"Login"),Z(),ee(24,"form",14),ve("ngSubmit",function(){return on(n),sn(ht().onLogin())}),ee(25,"div",15)(26,"label",18),ft(27,"Email"),Z(),dt(28,"input",19),Z(),ee(29,"div",15)(30,"label",20),ft(31,"password"),Z(),dt(32,"input",21),Z(),ee(33,"button",22),ft(34,"Login"),Z()()()}if(2&e){const n=ht();Vt(7),Qe("formGroup",n.signupForm),Vt(17),Qe("formGroup",n.loginForm)}}let YZ=(()=>{class e{constructor(n,r){this.modalService=n,this.authService=r,this.sessionKey="",this.signupForm=new Ga({name:new Pi(""),email:new Pi(""),password:new Pi("")}),this.loginForm=new Ga({email:new Pi(""),password:new Pi("")})}openModal(n){this.modalRef=this.modalService.show(n)}onSignup(){this.authService.createUser(this.signupForm.value.email,this.signupForm.value.password)}onLogin(){console.log(this.loginForm.value)}static#e=this.\u0275fac=function(r){return new(r||e)(y(uy),y(qZ))};static#t=this.\u0275cmp=xn({type:e,selectors:[["app-navbar"]],inputs:{sessionKey:"sessionKey"},decls:13,vars:1,consts:[[1,"navbar","navbar-expand-md","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["type","search","aria-label","Search","disabled","",1,"form-control","me-2",3,"placeholder"],["type","submit",1,"btn","btn-outline-success",3,"click"],["template",""],[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name",1,"form-label"],["type","text","formControlName","name",1,"form-control"],["for","email",1,"form-label"],["type","email","formControlName","email",1,"form-control"],["for","password",1,"form-label"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(r,i){if(1&r){const o=Jo();ee(0,"nav",0)(1,"div",1)(2,"a",2),ft(3,"Lets Todo"),Z(),ee(4,"button",3),dt(5,"span",4),Z(),ee(6,"div",5),dt(7,"ul",6)(8,"input",7),ee(9,"button",8),ve("click",function(){on(o);const a=function zb(e){return function yo(e,t){return e[t]}(function y1(){return x.lFrame.contextLView}(),Y+e)}(12);return sn(i.openModal(a))}),ft(10,"Join"),Z()()()(),Ii(11,KZ,35,2,"ng-template",null,9,YT)}2&r&&(Vt(8),ag("placeholder",i.sessionKey))},dependencies:[AM,Ha,Pm,gM,sd,qm]})}return e})();const ek=["move","copy","link"],Bh="application/x-dnd",EE="application/json",Hh="Text";function tk(e){return e.substr(0,Bh.length)===Bh}function nk(e){if(e.dataTransfer){const t=e.dataTransfer.types;if(!t)return Hh;for(let n=0;n<t.length;n++)if(t[n]===Hh||t[n]===EE||tk(t[n]))return t[n]}return null}function jh(e,t){return"all"===t||"uninitialized"===t?e:e.filter(function(n){return-1!==t.toLowerCase().indexOf(n)})}function eJ(e,t){const n=window.getComputedStyle(t),r=parseFloat(n.paddingTop)||0,i=parseFloat(n.paddingLeft)||0,o=parseFloat(n.borderTopWidth)||0,s=parseFloat(n.borderLeftWidth)||0;return{x:e.offsetX+i+s,y:e.offsetY+r+o}}const _t={isDragging:!1,dropEffect:"none",effectAllowed:"all",type:void 0};function rk(){_t.isDragging=!1,_t.dropEffect=void 0,_t.effectAllowed=void 0,_t.type=void 0}function wE(e,t){!0===_t.isDragging&&(_t.dropEffect=t),e.dataTransfer&&(e.dataTransfer.dropEffect=t)}function ik(e,t){let r=jh(ek,e.dataTransfer?e.dataTransfer.effectAllowed:"uninitialized");return!0===_t.isDragging&&(r=jh(r,_t.effectAllowed)),t&&(r=jh(r,t)),0===r.length?"none":e.ctrlKey&&-1!==r.indexOf("copy")?"copy":e.altKey&&-1!==r.indexOf("link")?"link":r[0]}function DE(e){if(!0===_t.isDragging)return _t.type;const t=nk(e);return null!==t&&t!==Hh&&t!==EE&&t.substr(Bh.length+1)||void 0}function IE(){return!1===_t.isDragging}const ok=_t;let rJ=(()=>{class e{dndDraggable;dndEffectAllowed="copy";dndType;dndDraggingClass="dndDragging";dndDraggingSourceClass="dndDraggingSource";dndDraggableDisabledClass="dndDraggableDisabled";dndDragImageOffsetFunction=eJ;dndStart=new $;dndDrag=new $;dndEnd=new $;dndMoved=new $;dndCopied=new $;dndLinked=new $;dndCanceled=new $;draggable=!0;dndHandle;dndDragImageElementRef;dragImage;isDragStarted=!1;elementRef=T(Fe);renderer=T(Kt);ngZone=T(re);set dndDisableIf(n){this.draggable=!n,this.draggable?this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass):this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass)}set dndDisableDragIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("drag",this.dragEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("drag",this.dragEventHandler),this.isDragStarted&&rk()}onDragStart(n){if(!this.draggable)return!1;if(null!=this.dndHandle&&null==n._dndUsingHandle)return n.stopPropagation(),!1;(function nJ(e,t,n){_t.isDragging=!0,_t.dropEffect="none",_t.effectAllowed=t,_t.type=n,e.dataTransfer&&(e.dataTransfer.effectAllowed=t)})(n,this.dndEffectAllowed,this.dndType),this.isDragStarted=!0,function QZ(e,t,n){const r=Bh+(t.type?"-"+t.type:""),i=JSON.stringify(t);try{e.dataTransfer?.setData(r,i)}catch{try{e.dataTransfer?.setData(EE,i)}catch{const a=jh(ek,n);e.dataTransfer&&(e.dataTransfer.effectAllowed=a[0]),e.dataTransfer?.setData(Hh,i)}}}(n,{data:this.dndDraggable,type:this.dndType},ok.effectAllowed),this.dragImage=this.determineDragImage(),this.renderer.addClass(this.dragImage,this.dndDraggingClass),(null!=this.dndDragImageElementRef||null!=n._dndUsingHandle)&&function tJ(e,t,n){const r=n(e,t)||{x:0,y:0};e.dataTransfer.setDragImage(t,r.x,r.y)}(n,this.dragImage,this.dndDragImageOffsetFunction);const r=this.renderer.listen(this.elementRef.nativeElement,"drag",()=>{this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggingSourceClass),r()});return this.dndStart.emit(n),n.stopPropagation(),setTimeout(()=>{this.renderer.setStyle(this.dragImage,"pointer-events","none")},100),!0}onDrag(n){this.dndDrag.emit(n)}onDragEnd(n){if(!this.draggable||!this.isDragStarted)return;const r=ok.dropEffect;let i;switch(this.renderer.setStyle(this.dragImage,"pointer-events","unset"),r){case"copy":i=this.dndCopied;break;case"link":i=this.dndLinked;break;case"move":i=this.dndMoved;break;default:i=this.dndCanceled}i.emit(n),this.dndEnd.emit(n),rk(),this.isDragStarted=!1,this.renderer.removeClass(this.dragImage,this.dndDraggingClass),window.setTimeout(()=>{this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggingSourceClass)},0),n.stopPropagation()}registerDragHandle(n){this.dndHandle=n}registerDragImage(n){this.dndDragImageElementRef=n}dragEventHandler=n=>this.onDrag(n);determineDragImage(){return typeof this.dndDragImageElementRef<"u"?this.dndDragImageElementRef.nativeElement:this.elementRef.nativeElement}static \u0275fac=function(r){return new(r||e)};static \u0275dir=O({type:e,selectors:[["","dndDraggable",""]],hostVars:1,hostBindings:function(r,i){1&r&&ve("dragstart",function(s){return i.onDragStart(s)})("dragend",function(s){return i.onDragEnd(s)}),2&r&&un("draggable",i.draggable)},inputs:{dndDraggable:"dndDraggable",dndEffectAllowed:"dndEffectAllowed",dndType:"dndType",dndDraggingClass:"dndDraggingClass",dndDraggingSourceClass:"dndDraggingSourceClass",dndDraggableDisabledClass:"dndDraggableDisabledClass",dndDragImageOffsetFunction:"dndDragImageOffsetFunction",dndDisableIf:"dndDisableIf",dndDisableDragIf:"dndDisableDragIf"},outputs:{dndStart:"dndStart",dndDrag:"dndDrag",dndEnd:"dndEnd",dndMoved:"dndMoved",dndCopied:"dndCopied",dndLinked:"dndLinked",dndCanceled:"dndCanceled"},standalone:!0})}return e})(),sk=(()=>{class e{elementRef;constructor(n){this.elementRef=n}ngOnInit(){this.elementRef.nativeElement.style.pointerEvents="none"}static \u0275fac=function(r){return new(r||e)(y(Fe))};static \u0275dir=O({type:e,selectors:[["","dndPlaceholderRef",""]],standalone:!0})}return e})(),iJ=(()=>{class e{ngZone;elementRef;renderer;dndDropzone="";dndEffectAllowed="uninitialized";dndAllowExternal=!1;dndHorizontal=!1;dndDragoverClass="dndDragover";dndDropzoneDisabledClass="dndDropzoneDisabled";dndDragover=new $;dndDrop=new $;dndPlaceholderRef;placeholder=null;disabled=!1;constructor(n,r,i){this.ngZone=n,this.elementRef=r,this.renderer=i}set dndDisableIf(n){this.disabled=n,this.disabled?this.renderer.addClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass):this.renderer.removeClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass)}set dndDisableDropIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.placeholder=this.tryGetPlaceholder(),this.removePlaceholderFromDOM(),this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.addEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.removeEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragEnter(n){if(!0===n._dndDropzoneActive)return void this.cleanupDragoverState();if(null==n._dndDropzoneActive){const i=document.elementFromPoint(n.clientX,n.clientY);this.elementRef.nativeElement.contains(i)&&(n._dndDropzoneActive=!0)}const r=DE(n);this.isDropAllowed(r)&&n.preventDefault()}onDragOver(n){if(n.defaultPrevented)return;const r=DE(n);if(!this.isDropAllowed(r))return;this.checkAndUpdatePlaceholderPosition(n);const i=ik(n,this.dndEffectAllowed);"none"!==i?(n.preventDefault(),wE(n,i),this.dndDragover.emit(n),this.renderer.addClass(this.elementRef.nativeElement,this.dndDragoverClass)):this.cleanupDragoverState()}onDrop(n){try{const r=DE(n);if(!this.isDropAllowed(r))return;const i=function ZZ(e,t){const n=nk(e);return!0===t?null!==n&&tk(n)?JSON.parse(e.dataTransfer?.getData(n)??"{}"):{}:null!==n?JSON.parse(e.dataTransfer?.getData(n)??"{}"):{}}(n,IE());if(!this.isDropAllowed(i.type))return;n.preventDefault();const o=ik(n);if(wE(n,o),"none"===o)return;const s=this.getPlaceholderIndex();if(-1===s)return;this.dndDrop.emit({event:n,dropEffect:o,isExternal:IE(),data:i.data,index:s,type:r}),n.stopPropagation()}finally{this.cleanupDragoverState()}}onDragLeave(n){n.preventDefault(),n.stopPropagation(),null==n._dndDropzoneActive&&this.elementRef.nativeElement.contains(n.relatedTarget)?n._dndDropzoneActive=!0:(this.cleanupDragoverState(),wE(n,"none"))}dragEnterEventHandler=n=>this.onDragEnter(n);dragOverEventHandler=n=>this.onDragOver(n);dragLeaveEventHandler=n=>this.onDragLeave(n);isDropAllowed(n){if(this.disabled||IE()&&!this.dndAllowExternal)return!1;if(!this.dndDropzone||!n)return!0;if(!Array.isArray(this.dndDropzone))throw new Error("dndDropzone: bound value to [dndDropzone] must be an array!");return-1!==this.dndDropzone.indexOf(n)}tryGetPlaceholder(){return typeof this.dndPlaceholderRef<"u"?this.dndPlaceholderRef.elementRef.nativeElement:this.elementRef.nativeElement.querySelector("[dndPlaceholderRef]")}removePlaceholderFromDOM(){null!==this.placeholder&&null!==this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder)}checkAndUpdatePlaceholderPosition(n){if(null===this.placeholder)return;this.placeholder.parentNode!==this.elementRef.nativeElement&&this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder);const r=function JZ(e,t){let n=t;for(;n.parentNode!==e;){if(!n.parentNode)return null;n=n.parentNode}return n}(this.elementRef.nativeElement,n.target);null!==r&&r!==this.placeholder&&(function XZ(e,t,n){const r=t.getBoundingClientRect();return n?e.clientX<r.left+r.width/2:e.clientY<r.top+r.height/2}(n,r,this.dndHorizontal)?r.previousSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,r):r.nextSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,r.nextSibling))}getPlaceholderIndex(){if(null!==this.placeholder)return Array.prototype.indexOf.call(this.elementRef.nativeElement.children,this.placeholder)}cleanupDragoverState(){this.renderer.removeClass(this.elementRef.nativeElement,this.dndDragoverClass),this.removePlaceholderFromDOM()}static \u0275fac=function(r){return new(r||e)(y(re),y(Fe),y(Kt))};static \u0275dir=O({type:e,selectors:[["","dndDropzone",""]],contentQueries:function(r,i,o){if(1&r&&Pg(o,sk,5),2&r){let s;Og(s=function xg(){return function Dj(e,t){return e[kn].queries[t].queryList}(E(),tD())}())&&(i.dndPlaceholderRef=s.first)}},hostBindings:function(r,i){1&r&&ve("drop",function(s){return i.onDrop(s)})},inputs:{dndDropzone:"dndDropzone",dndEffectAllowed:"dndEffectAllowed",dndAllowExternal:"dndAllowExternal",dndHorizontal:"dndHorizontal",dndDragoverClass:"dndDragoverClass",dndDropzoneDisabledClass:"dndDropzoneDisabledClass",dndDisableIf:"dndDisableIf",dndDisableDropIf:"dndDisableDropIf"},outputs:{dndDragover:"dndDragover",dndDrop:"dndDrop"},standalone:!0})}return e})(),oJ=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Pt({type:e});static \u0275inj=yt({})}return e})();function sJ(e,t){if(1&e&&(ee(0,"span"),ft(1),Z()),2&e){const n=ht();Vt(1),wu(n.card.title)}}function aJ(e,t){if(1&e){const n=Jo();ee(0,"input",7),ve("ngModelChange",function(i){return on(n),sn(ht().card.title=i)})("blur",function(i){return on(n),sn(ht().onUpdateCard("title",i))})("keyup.enter",function(i){return on(n),sn(ht().onUpdateCard("title",i))}),Z()}2&e&&Qe("ngModel",ht().card.title)}function lJ(e,t){if(1&e&&(ee(0,"span"),ft(1),Z()),2&e){const n=ht();Vt(1),wu(n.card.body)}}function cJ(e,t){if(1&e){const n=Jo();ee(0,"textarea",8),ve("ngModelChange",function(i){return on(n),sn(ht().card.body=i)})("blur",function(i){return on(n),sn(ht().onUpdateCard("body",i))})("keyup.enter",function(i){return on(n),sn(ht().onUpdateCard("body",i))}),Z()}2&e&&Qe("ngModel",ht().card.body)}const uJ=function(e){return{onHoverTitle:e}},dJ=function(e){return{onHoverBody:e}};let hJ=(()=>{class e{constructor(n){this.dbService=n,this.titleClicked=!1,this.bodyClicked=!1,this.cardData={},this.card={title:"",body:"",styleClass:[]}}ngOnInit(){this.getCard()}getCard(){this.dbService.readDataFromDB(`cards/${this.cardData.id}`,!0).subscribe(n=>{this.card=n,this.checkCardDetails()})}checkCardDetails(){""==this.card.title.trim()&&(this.titleClicked=!0),""==this.card.body.trim()&&(this.bodyClicked=!0)}onUpdateCard(n,r){"title"===n&&(this.titleClicked=!1),"body"===n&&(this.bodyClicked=!1);let i=this.dbService.updateDatatoDB(this.card,`cards/${this.cardData.id}`);console.log(i)}static#e=this.\u0275fac=function(r){return new(r||e)(y(Ns))};static#t=this.\u0275cmp=xn({type:e,selectors:[["app-card"]],inputs:{cardData:"cardData"},decls:8,vars:11,consts:[[1,"card","mx-auto",3,"ngClass"],[1,"card-body"],[1,"card-title",3,"ngClass","click"],[4,"ngIf"],["placeholder","Title","type","text","class","form-control",3,"ngModel","ngModelChange","blur","keyup.enter",4,"ngIf"],[1,"card-text",3,"ngClass","click"],["placeholder","Body","class","form-control","rows","5",3,"ngModel","ngModelChange","blur","keyup.enter",4,"ngIf"],["placeholder","Title","type","text",1,"form-control",3,"ngModel","ngModelChange","blur","keyup.enter"],["placeholder","Body","rows","5",1,"form-control",3,"ngModel","ngModelChange","blur","keyup.enter"]],template:function(r,i){1&r&&(ee(0,"div",0)(1,"div",1)(2,"h5",2),ve("click",function(){return i.titleClicked=!0}),Ii(3,sJ,2,1,"span",3),Ii(4,aJ,1,1,"input",4),Z(),ee(5,"p",5),ve("click",function(){return i.bodyClicked=!0}),Ii(6,lJ,2,1,"span",3),Ii(7,cJ,1,1,"textarea",6),Z()()()),2&r&&(Qe("ngClass",i.card.styleClass),Vt(2),Qe("ngClass",Ig(7,uJ,!i.titleClicked)),Vt(1),Qe("ngIf",!i.titleClicked),Vt(1),Qe("ngIf",i.titleClicked),Vt(1),Qe("ngClass",Ig(9,dJ,!i.titleClicked)),Vt(1),Qe("ngIf",!i.bodyClicked),Vt(1),Qe("ngIf",i.bodyClicked))},dependencies:[c0,f0,Ha,Pm,$m],styles:[".card[_ngcontent-%COMP%]{width:100%;max-width:250px;min-height:200px}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{height:100%}.onHoverTitle[_ngcontent-%COMP%]:hover, .onHoverBody[_ngcontent-%COMP%]:hover{border:1px dashed white;padding:5px;transition:all .2s ease}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{color:#fff;background-color:#fff1}"]})}return e})();function fJ(e,t){if(1&e){const n=Jo();ee(0,"div",7),ve("dndMoved",function(){const i=on(n),o=i.index,s=i.$implicit,a=ht();return sn(a.onDragged(o,s,a.cards))}),dt(1,"app-card",8),Z()}if(2&e){const n=t.$implicit;Qe("dndDraggable",n)("dndType",n.type),Vt(1),Qe("cardData",n)}}const pJ=function(){return["banana"]};let gJ=(()=>{class e{constructor(n,r){this.dbService=n,this.localStorageService=r,this.cards=[],this.session={cards:[]}}ngOnInit(){this.readSessionKeyData()}trackByFruit(n,r){return r}readSessionKeyData(){this.dbService.readDataFromDB("sessions").subscribe(n=>{let r=Object.values(n);this.session=r.find(i=>i.sessionKey===this.localStorageService.GetKey()),this.cards.length||(this.cards=this.session.cards)})}onDragStart(n){console.log("drag started")}onDragged(n,r,i){const o=i.indexOf(r);console.log(`onDragged ngFor-index=${n}, item=${r}, removeIndex=${o}, list=${i.length}`),i.splice(o,1),this.dbService.updateDatatoDB({cards:i},`sessions/${this.session.id}`)}onDragEnd(n){console.log("drag ended")}onDrop(n,r){return v(function*(){if(r&&("copy"===n.dropEffect||"move"===n.dropEffect)){let i=n.index;typeof i>"u"&&(i=r.length),r.splice(i,0,n.data)}})()}static#e=this.\u0275fac=function(r){return new(r||e)(y(Ns),y(Zv))};static#t=this.\u0275cmp=xn({type:e,selectors:[["app-cards-list"]],decls:7,vars:4,consts:[["dndEffectAllowed","move",1,"row","row-cols-1","row-cols-lg-4","row-cols-md-3","row-cols-sm-2","g-4","dndList",3,"dndDropzone","dndDrop"],["dndPlaceholderRef","",1,"col"],[1,"card","mx-auto"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","col","dndEffectAllowed","move",3,"dndDraggable","dndType","dndMoved",4,"ngFor","ngForOf","ngForTrackBy"],["dndEffectAllowed","move",1,"col",3,"dndDraggable","dndType","dndMoved"],[3,"cardData"]],template:function(r,i){1&r&&(ee(0,"div",0),ve("dndDrop",function(s){return i.onDrop(s,i.cards)}),ee(1,"div",1)(2,"div",2)(3,"div",3),dt(4,"h5",4)(5,"p",5),Z()()(),Ii(6,fJ,2,3,"div",6),Z()),2&r&&(Qe("dndDropzone",function MT(e,t,n){const r=wt()+e,i=E();return i[r]===U?Hn(i,r,n?t.call(n):t()):function Ea(e,t){return e[t]}(i,r)}(3,pJ)),Vt(6),Qe("ngForOf",i.cards)("ngForTrackBy",i.trackByFruit))},dependencies:[d0,rJ,iJ,sk,hJ],styles:[".dndList[_ngcontent-%COMP%]{transition:all .3s ease;padding:8px;overflow-y:auto}.dndList.dndDragover[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;border-color:green}.dndDragging[_ngcontent-%COMP%]{border:1px dotted gray;padding:10px;background-color:#dcdcdc}.dndDraggingSource[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]{width:100%;max-width:250px;height:200px}"]})}return e})(),mJ=(()=>{class e{constructor(n,r){this.localStorageService=n,this.dbService=r}addNewCard(){var n=this;return v(function*(){let r=yield n.dbService.saveDatatoDB({title:" ",body:" ",styleClass:["bg-danger","text-light"]},"cards");console.log(r);let i=yield n.localStorageService.getSessionId();console.log(r),n.dbService.runDBTransaction(`sessions/${i}`,o=>(o&&o.cards&&Array.isArray(o.cards)&&o.cards.push({id:r.key}),o))})()}static#e=this.\u0275fac=function(r){return new(r||e)(y(Zv),y(Ns))};static#t=this.\u0275cmp=xn({type:e,selectors:[["app-home-bar"]],decls:7,vars:0,consts:[[1,"row","my-4"],[1,"col-10"],["type","text","placeholder","Search the Todos",1,"form-control"],[1,"col-2"],[1,"d-grid","col-12","mx-auto"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(r,i){1&r&&(ee(0,"div",0)(1,"div",1),dt(2,"input",2),Z(),ee(3,"div",3)(4,"div",4)(5,"button",5),ve("click",function(){return i.addNewCard()}),ft(6,"New"),Z()()()())}})}return e})();const _J=[{path:"",component:(()=>{class e{constructor(n,r){this.localStorageService=n,this.dbService=r,this.sessionKey=""}ngOnInit(){this.generateAndSaveSession()}generateAndSaveSession(){let n=this.localStorageService.GetExistingStorageKey();console.log(n),n?this.sessionKey=n:(this.sessionKey=this.localStorageService.GetNewSessionKey(),this.addKeytoDB())}addKeytoDB(){this.dbService.saveDatatoDB({sessionKey:this.sessionKey},"/sessions")}static#e=this.\u0275fac=function(r){return new(r||e)(y(Zv),y(Ns))};static#t=this.\u0275cmp=xn({type:e,selectors:[["app-home"]],decls:4,vars:1,consts:[[3,"sessionKey"],[1,"container"]],template:function(r,i){1&r&&(dt(0,"app-navbar",0),ee(1,"div",1),dt(2,"app-home-bar")(3,"app-cards-list"),Z()),2&r&&Qe("sessionKey",i.sessionKey)},dependencies:[YZ,gJ,mJ],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}"]})}return e})()}];let vJ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e});static#n=this.\u0275inj=yt({imports:[ZR.forRoot(_J),ZR]})}return e})(),yJ=(()=>{class e{constructor(){this.title="todo"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=xn({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"app"]],template:function(r,i){1&r&&(ee(0,"div",0),dt(1,"router-outlet"),Z())},dependencies:[p_]})}return e})(),CJ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Pt({type:e,bootstrap:[yJ]});static#n=this.\u0275inj=yt({imports:[pz,D3,I3,vJ,oJ,tY.forRoot()]})}return e})();hz().bootstrapModule(CJ).catch(e=>console.error(e))}},Q=>{Q(Q.s=46)}]);